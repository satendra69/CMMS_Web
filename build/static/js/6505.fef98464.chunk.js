"use strict";(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[6505],{25265:(e,t,n)=>{n.d(t,{ZP:()=>y,l2:()=>o,wE:()=>d});var r=n(82599),s=n(54690),i=n(85375),a=n(87183);function o(e,t){const n=(new Date).getFullYear(),o=e?(0,r.Z)(e):null,l=t?(0,r.Z)(t):null,d=n===o&&n===l,c=!(!e||!t)&&(0,s.Z)(new Date(e),new Date(t)),u=!(!e||!t)&&(0,i.Z)(new Date(e),new Date(t));return d?u?c?(0,a.Mu)(t,"dd MMM yy"):"".concat((0,a.Mu)(e,"dd")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM yy")," - ").concat((0,a.Mu)(t,"dd MMM yy"))}var l=n(72791);function d(e,t){const[n,r]=(0,l.useState)(!1),[s,i]=(0,l.useState)(t),[d,c]=(0,l.useState)(e),u=!(!e||!t)&&new Date(e).getTime()>new Date(t).getTime(),h=(0,l.useCallback)((()=>{r(!0)}),[]),p=(0,l.useCallback)((()=>{r(!1)}),[]);return{startDate:d,endDate:s,onChangeStartDate:(0,l.useCallback)((e=>{c(e)}),[]),onChangeEndDate:(0,l.useCallback)((e=>{u&&i(null),i(e)}),[u]),open:n,onOpen:h,onClose:p,onReset:(0,l.useCallback)((()=>{c(null),i(null)}),[]),selected:!!d&&!!s,error:u,label:"".concat((0,a.Mu)(d)," - ").concat((0,a.Mu)(s)),shortLabel:o(d,s),setStartDate:c,setEndDate:i}}var c=n(53106),u=n(16997),h=n(4841),p=n(53767),x=n(5849),m=n(5574),b=n(65661),g=n(77386),j=n(4899),Z=n(30035),v=n(38887),f=n(80184);function y(e){let{title:t="Select date range",variant:n="input",startDate:r,endDate:s,onChangeStartDate:i,onChangeEndDate:a,open:o,onClose:l,error:d}=e;const y=(0,v.F)("up","md"),w="calendar"===n;return(0,f.jsxs)(m.Z,{fullWidth:!0,maxWidth:!w&&"xs",open:o,onClose:l,PaperProps:{sx:{...w&&{maxWidth:720}}},children:[(0,f.jsx)(b.Z,{sx:{pb:2},children:t}),(0,f.jsxs)(j.Z,{sx:{...w&&y&&{overflow:"unset"}},children:[(0,f.jsx)(p.Z,{justifyContent:"center",spacing:w?3:2,direction:w&&y?"row":"column",sx:{pt:1},children:w?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,f.jsx)(u.W,{value:r,onChange:i})}),(0,f.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,f.jsx)(u.W,{value:s,onChange:a})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.M,{label:"Start date",value:r,onChange:i}),(0,f.jsx)(c.M,{label:"End date",value:s,onChange:a})]})}),d&&(0,f.jsx)(Z.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,f.jsxs)(g.Z,{children:[(0,f.jsx)(x.Z,{variant:"outlined",color:"inherit",onClick:l,children:"Cancel"}),(0,f.jsx)(x.Z,{disabled:d,variant:"contained",onClick:l,children:"Apply"})]})]})}},57819:(e,t,n)=>{n.d(t,{ZP:()=>v,NX:()=>s});var r=n(72791);function s(e){const[t,n]=(0,r.useState)(-1);return{selected:t,open:t>=0,onOpen:(0,r.useCallback)((t=>{const r=e.findIndex((e=>"video"===e.type?e.poster===t:e.src===t));n(r)}),[e]),onClose:(0,r.useCallback)((()=>{n(-1)}),[]),setSelected:n}}var i=n(62291),a=n(70482),o=n(98628),l=n(73557),d=n(19375),c=n(38559),u=n(36654),h=n(64554),p=n(40268),x=n(13967),m=n(12065),b=n(1244),g=n(80184);function j(){const e=(0,x.Z)();return(0,g.jsx)(b.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,m.Fq)(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,m.Fq)(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}const Z=24;function v(e){let{slides:t,disabledZoom:n,disabledVideo:r,disabledTotal:s,disabledCaptions:a,disabledSlideshow:o,disabledThumbnails:l,disabledFullscreen:d,onGetCurrentIndex:c,...u}=e;const h=t?t.length:0;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{}),(0,g.jsx)(i.ZP,{slides:t,animation:{swipe:240},carousel:{finite:h<5},controller:{closeOnBackdropClick:!0},plugins:f({disabledZoom:n,disabledVideo:r,disabledCaptions:a,disabledSlideshow:o,disabledThumbnails:l,disabledFullscreen:d}),on:{view:e=>{let{index:t}=e;c&&c(t)}},toolbar:{buttons:[(0,g.jsx)(y,{totalItems:h,disabledTotal:s},0),"close"]},render:{iconClose:()=>(0,g.jsx)(p.Z,{width:Z,icon:"carbon:close"}),iconZoomIn:()=>(0,g.jsx)(p.Z,{width:Z,icon:"carbon:zoom-in"}),iconZoomOut:()=>(0,g.jsx)(p.Z,{width:Z,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>(0,g.jsx)(p.Z,{width:Z,icon:"carbon:play"}),iconSlideshowPause:()=>(0,g.jsx)(p.Z,{width:Z,icon:"carbon:pause"}),iconPrev:()=>(0,g.jsx)(p.Z,{width:Z+8,icon:"carbon:chevron-left"}),iconNext:()=>(0,g.jsx)(p.Z,{width:Z+8,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>(0,g.jsx)(p.Z,{width:Z,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>(0,g.jsx)(p.Z,{width:Z,icon:"carbon:fit-to-screen"})},...u})]})}function f(e){let{disabledZoom:t,disabledVideo:n,disabledCaptions:r,disabledSlideshow:s,disabledThumbnails:i,disabledFullscreen:h}=e,p=[l.Z,c.Z,d.Z,u.Z,o.Z,a.Z];return i&&(p=p.filter((e=>e!==u.Z))),r&&(p=p.filter((e=>e!==l.Z))),h&&(p=p.filter((e=>e!==c.Z))),s&&(p=p.filter((e=>e!==d.Z))),t&&(p=p.filter((e=>e!==a.Z))),n&&(p=p.filter((e=>e!==o.Z))),p}function y(e){let{totalItems:t,disabledTotal:n}=e;const{currentIndex:r}=(0,i.oc)();return n?null:(0,g.jsxs)(h.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,g.jsxs)("strong",{children:[" ",r+1," "]})," / ",t]})}},21362:(e,t,n)=>{n.d(t,{Z:()=>x});n(75012);var r=n(27060),s=n(19945),i=n(71502),a=n(4204),o=n(65469),l=n(83854),d=n(32471),c=n(66934),u=n(12065);const h=(0,c.ZP)("div")((e=>{let{theme:t}=e;const n="light"===t.palette.mode;return{h1:{margin:0,...t.typography.h1},h2:{margin:0,...t.typography.h2},h3:{margin:0,...t.typography.h3},h4:{margin:0,...t.typography.h4},h5:{margin:0,...t.typography.h5},h6:{margin:0,...t.typography.h6},p:{margin:0,...t.typography.body1},br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:2*t.shape.borderRadius,backgroundColor:t.palette.background.neutral,[t.breakpoints.up("md")]:{width:"80%"},"& p, & span":{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"},"&:before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}},"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:n?t.palette.grey[900]:(0,u.Fq)(t.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:t.spacing(.2,.5),color:t.palette.warning[n?"darker":"lighter"],backgroundColor:t.palette.warning[n?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[n?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}}));var p=n(80184);function x(e){let{sx:t,...n}=e;return(0,p.jsx)(h,{sx:t,children:(0,p.jsx)(r.D,{rehypePlugins:[s.Z,a.Z,[i.Z,{singleTilde:!1}]],components:m,...n})})}const m={img:e=>{let{...t}=e;return(0,p.jsx)(d.Z,{alt:t.alt,ratio:"16/9",sx:{borderRadius:2},...t})},a:e=>{let{...t}=e;return t.href.includes("http")?(0,p.jsx)(o.Z,{target:"_blank",rel:"noopener",...t}):(0,p.jsx)(o.Z,{component:l.r,href:t.href,...t,children:t.children})}}},66505:(e,t,n)=>{n.d(t,{lm:()=>ye,XJ:()=>Re,AE:()=>fe,J0:()=>le});var r=n(45812),s=n.n(r),i=n(72791),a=n(53767),o=n(5849),l=n(10266),d=n(38072),c=n(83854),u=n(22459),h=n(87183),p=n(18306),x=n(66964),m=n(40268),b=n(11633),g=n(60720),j=n(73379),Z=n(64554),v=n(11703),f=n(86414),y=n(19208),w=n(65469),C=n(88588),k=n(82626),D=n(90977),S=n(49900),M=n(17070),T=n(32471),_=n(56832),F=n(25265),I=n(80184);function O(e){let{tour:t,onView:n,onEdit:r,onDelete:s}=e;const i=(0,_.S)(),{id:o,name:l,price:u,images:p,bookers:x,createdAt:b,available:g,priceSale:j,destination:v,ratingNumber:f}=t,y=(0,F.l2)(g.startDate,g.endDate),O=(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{top:8,right:8,zIndex:9,borderRadius:1,position:"absolute",p:"2px 6px 2px 4px",typography:"subtitle2",bgcolor:"warning.lighter"},children:[(0,I.jsx)(m.Z,{icon:"eva:star-fill",sx:{color:"warning.main",mr:.25}})," ",f]}),E=(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{top:8,left:8,zIndex:9,borderRadius:1,bgcolor:"grey.800",position:"absolute",p:"2px 6px 2px 4px",color:"common.white",typography:"subtitle2"},children:[!!j&&(0,I.jsx)(Z.Z,{component:"span",sx:{color:"grey.500",mr:.25,textDecoration:"line-through"},children:(0,M.e_)(j)}),(0,M.e_)(u)]}),R=(0,I.jsxs)(a.Z,{spacing:.5,direction:"row",sx:{p:e=>e.spacing(1,1,0,1)},children:[(0,I.jsxs)(a.Z,{flexGrow:1,sx:{position:"relative"},children:[E,O,(0,I.jsx)(T.Z,{alt:p[0],src:p[0],sx:{borderRadius:1,height:164,width:1}})]}),(0,I.jsxs)(a.Z,{spacing:.5,children:[(0,I.jsx)(T.Z,{alt:p[1],src:p[1],ratio:"1/1",sx:{borderRadius:1,width:80}}),(0,I.jsx)(T.Z,{alt:p[2],src:p[2],ratio:"1/1",sx:{borderRadius:1,width:80}})]})]}),P=(0,I.jsx)(S.Z,{sx:{p:e=>e.spacing(2.5,2.5,2,2.5)},primary:"Posted date: ".concat((0,h.zM)(b)),secondary:(0,I.jsx)(w.Z,{component:c.r,href:d.H.dashboard.tour.details(o),color:"inherit",children:l}),primaryTypographyProps:{typography:"caption",color:"text.disabled"},secondaryTypographyProps:{mt:1,noWrap:!0,component:"span",color:"text.primary",typography:"subtitle1"}}),q=(0,I.jsxs)(a.Z,{spacing:1.5,sx:{position:"relative",p:e=>e.spacing(0,2.5,2.5,2.5)},children:[(0,I.jsx)(D.Z,{onClick:i.onOpen,sx:{position:"absolute",bottom:20,right:8},children:(0,I.jsx)(m.Z,{icon:"eva:more-vertical-fill"})}),[{label:v,icon:(0,I.jsx)(m.Z,{icon:"mingcute:location-fill",sx:{color:"error.main"}})},{label:y,icon:(0,I.jsx)(m.Z,{icon:"solar:clock-circle-bold",sx:{color:"info.main"}})},{label:"".concat(x.length," Booked"),icon:(0,I.jsx)(m.Z,{icon:"solar:users-group-rounded-bold",sx:{color:"primary.main"}})}].map((e=>(0,I.jsxs)(a.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[e.icon,e.label]},e.label)))]});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(C.Z,{children:[R,P,q]}),(0,I.jsxs)(_.Z,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[(0,I.jsxs)(k.Z,{onClick:()=>{i.onClose(),n()},children:[(0,I.jsx)(m.Z,{icon:"solar:eye-bold"}),"View"]}),(0,I.jsxs)(k.Z,{onClick:()=>{i.onClose(),r()},children:[(0,I.jsx)(m.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,I.jsxs)(k.Z,{onClick:()=>{i.onClose(),s()},sx:{color:"error.main"},children:[(0,I.jsx)(m.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function E(e){let{tours:t}=e;const n=(0,y.tv)(),r=(0,i.useCallback)((e=>{n.push(d.H.dashboard.tour.details(e))}),[n]),s=(0,i.useCallback)((e=>{n.push(d.H.dashboard.tour.edit(e))}),[n]),a=(0,i.useCallback)((e=>{console.info("DELETE",e)}),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:t.map((e=>(0,I.jsx)(O,{tour:e,onView:()=>r(e.id),onEdit:()=>s(e.id),onDelete:()=>a(e.id)},e.id)))}),t.length>8&&(0,I.jsx)(v.Z,{count:8,sx:{mt:8,["& .".concat(f.Z.ul)]:{justifyContent:"center"}}})]})}function R(e){let{sort:t,onSort:n,sortOptions:r}=e;const s=(0,_.S)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(o.Z,{disableRipple:!0,color:"inherit",onClick:s.onOpen,endIcon:(0,I.jsx)(m.Z,{icon:s.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,I.jsx)(Z.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:t})]}),(0,I.jsx)(_.Z,{open:s.open,onClose:s.onClose,sx:{width:140},children:r.map((e=>(0,I.jsx)(k.Z,{selected:e.value===t,onClick:()=>{s.onClose(),n(e.value)},children:e.label},e.value)))})]})}var P=n(34004),q=n.n(P),G=n(79085),W=n.n(G),z=n(60220),L=n(93006),H=n(4567),A=n(97808),X=n(46314),N=n(97902),B=n(96349);function U(e){let{query:t,results:n,onSearch:r,hrefItem:s}=e;const a=(0,y.tv)(),o=e=>{a.push(s(e))},l=e=>{if(t&&"Enter"===e.key){const e=n.filter((e=>e.name===t))[0];o(e.id)}};return(0,I.jsx)(X.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:n,onInputChange:(e,t)=>r(t),getOptionLabel:e=>e.name,noOptionsText:(0,I.jsx)(B.Z,{query:t,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,t)=>e.id===t.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[" .".concat(N.Z.option)]:{pl:.75}}}},renderInput:e=>(0,I.jsx)(L.Z,{...e,placeholder:"Search...",onKeyUp:l,InputProps:{...e.InputProps,startAdornment:(0,I.jsx)(A.Z,{position:"start",children:(0,I.jsx)(m.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}}),renderOption:(e,t,n)=>{let{inputValue:r}=n;const s=W()(t.name,r),a=q()(t.name,s);return(0,i.createElement)(Z.Z,{component:"li",...e,onClick:()=>o(t.id),key:t.id},(0,I.jsx)(z.Z,{alt:t.name,src:t.images[0],variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},t.id),(0,I.jsx)("div",{children:a.map(((e,t)=>(0,I.jsx)(H.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},t)))},r))}})}var V=n(53106),K=n(85771),Y=n(9584),$=n(88654),Q=n(94721),J=n(97639),ee=n(13034),te=n(25801),ne=n(63454);function re(e){let{open:t,onOpen:n,onClose:r,filters:s,onFilters:l,canReset:d,onResetFilters:c,destinationOptions:u,tourGuideOptions:h,serviceOptions:p,dateError:x}=e;const b=(0,i.useCallback)((e=>{const t=s.services.includes(e)?s.services.filter((t=>t!==e)):[...s.services,e];l("services",t)}),[s.services,l]),g=(0,i.useCallback)((e=>{l("startDate",e)}),[l]),j=(0,i.useCallback)((e=>{l("endDate",e)}),[l]),Z=(0,i.useCallback)((e=>{l("destination",e)}),[l]),v=(0,i.useCallback)((e=>{l("tourGuides",e)}),[l]),f=(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,I.jsx)(H.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,I.jsx)(J.Z,{title:"Reset",children:(0,I.jsx)(D.Z,{onClick:c,children:(0,I.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!d,children:(0,I.jsx)(m.Z,{icon:"solar:restart-bold"})})})}),(0,I.jsx)(D.Z,{onClick:r,children:(0,I.jsx)(m.Z,{icon:"mingcute:close-line"})})]}),y=(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(H.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Durations"}),(0,I.jsxs)(a.Z,{spacing:2.5,children:[(0,I.jsx)(V.M,{label:"Start date",value:s.startDate,onChange:g}),(0,I.jsx)(V.M,{label:"End date",value:s.endDate,onChange:j,slotProps:{textField:{error:x,helperText:x&&"End date must be later than start date"}}})]})]}),w=(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(H.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Destination"}),(0,I.jsx)(X.Z,{multiple:!0,disableCloseOnSelect:!0,options:u.map((e=>e.label)),getOptionLabel:e=>e,value:s.destination,onChange:(e,t)=>Z(t),renderInput:e=>(0,I.jsx)(L.Z,{placeholder:"Select Destination",...e}),renderOption:(e,t)=>{const{code:n,label:r,phone:s}=u.filter((e=>e.label===t))[0];return r?(0,i.createElement)("li",{...e,key:r},(0,I.jsx)(m.Z,{icon:"circle-flags:".concat(n.toLowerCase()),width:28,sx:{mr:1}},r),r," (",n,") +",s):null},renderTags:(e,t)=>e.map(((e,n)=>(0,i.createElement)(K.Z,{...t({index:n}),key:e,label:e,size:"small",variant:"soft"})))})]}),C=(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(H.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour Guide"}),(0,I.jsx)(X.Z,{multiple:!0,disableCloseOnSelect:!0,options:h,value:s.tourGuides,onChange:(e,t)=>v(t),getOptionLabel:e=>e.name,renderInput:e=>(0,I.jsx)(L.Z,{placeholder:"Select Tour Guides",...e}),renderOption:(e,t)=>(0,i.createElement)("li",{...e,key:t.id},(0,I.jsx)(z.Z,{alt:t.avatarUrl,src:t.avatarUrl,sx:{width:24,height:24,flexShrink:0,mr:1}},t.id),t.name),renderTags:(e,t)=>e.map(((e,n)=>(0,i.createElement)(K.Z,{...t({index:n}),key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,I.jsx)(z.Z,{alt:e.name,src:e.avatarUrl})})))})]}),k=(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(H.Z,{variant:"subtitle2",sx:{mb:1},children:"Services"}),p.map((e=>(0,I.jsx)(te.Z,{control:(0,I.jsx)(ee.Z,{checked:s.services.includes(e),onClick:()=>b(e)}),label:e},e)))]});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(o.Z,{disableRipple:!0,color:"inherit",endIcon:(0,I.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!d,children:(0,I.jsx)(m.Z,{icon:"ic:round-filter-list"})}),onClick:n,children:"Filters"}),(0,I.jsxs)($.ZP,{anchor:"right",open:t,onClose:r,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[f,(0,I.jsx)(Q.Z,{}),(0,I.jsx)(ne.Z,{sx:{px:2.5,py:3},children:(0,I.jsxs)(a.Z,{spacing:3,children:[y,w,C,k]})})]})]})}var se=n(4841);function ie(e){let{filters:t,onFilters:n,canReset:r,onResetFilters:s,results:i,...l}=e;const d=(0,F.l2)(t.startDate,t.endDate);return(0,I.jsxs)(a.Z,{spacing:1.5,...l,children:[(0,I.jsxs)(Z.Z,{sx:{typography:"body2"},children:[(0,I.jsx)("strong",{children:i}),(0,I.jsx)(Z.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,I.jsxs)(a.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[t.startDate&&t.endDate&&(0,I.jsx)(ae,{label:"Available:",children:(0,I.jsx)(K.Z,{size:"small",label:d,onDelete:()=>{n("startDate",null),n("endDate",null)}})}),!!t.services.length&&(0,I.jsx)(ae,{label:"Services:",children:t.services.map((e=>(0,I.jsx)(K.Z,{label:e,size:"small",onDelete:()=>(e=>{const r=t.services.filter((t=>t!==e));n("services",r)})(e)},e)))}),!!t.tourGuides.length&&(0,I.jsx)(ae,{label:"Tour guide:",children:t.tourGuides.map((e=>(0,I.jsx)(K.Z,{size:"small",avatar:(0,I.jsx)(z.Z,{alt:e.name,src:e.avatarUrl}),label:e.name,onDelete:()=>(e=>{const r=t.tourGuides.filter((t=>t.name!==e.name));n("tourGuides",r)})(e)},e.id)))}),!!t.destination.length&&(0,I.jsx)(ae,{label:"Destination:",children:t.destination.map((e=>(0,I.jsx)(K.Z,{label:e,size:"small",onDelete:()=>(e=>{const r=t.destination.filter((t=>t!==e));n("destination",r)})(e)},e)))}),r&&(0,I.jsx)(o.Z,{color:"error",onClick:s,startIcon:(0,I.jsx)(m.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function ae(e){let{label:t,children:n,sx:r,...s}=e;return(0,I.jsxs)(a.Z,{component:se.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...r},...s,children:[(0,I.jsx)(Z.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,I.jsx)(a.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const oe={destination:[],tourGuides:[],services:[],startDate:null,endDate:null};function le(){const e=(0,g.K$)(),t=(0,u.k)(),[n,r]=(0,i.useState)("latest"),[s,h]=(0,i.useState)({query:"",results:[]}),[Z,v]=(0,i.useState)(oe),f=!(!Z.startDate||!Z.endDate)&&Z.startDate.getTime()>Z.endDate.getTime(),y=de({inputData:p.as,filters:Z,sortBy:n,dateError:f}),w=!!Z.destination.length||!!Z.tourGuides.length||!!Z.services.length||!!Z.startDate&&!!Z.endDate,C=!y.length&&w,k=(0,i.useCallback)(((e,t)=>{v((n=>({...n,[e]:t})))}),[]),D=(0,i.useCallback)((e=>{r(e)}),[]),S=(0,i.useCallback)((e=>{if(h((t=>({...t,query:e}))),e){const e=p.as.filter((e=>-1!==e.name.toLowerCase().indexOf(s.query.toLowerCase())));h((t=>({...t,results:e})))}}),[s.query]),M=(0,i.useCallback)((()=>{v(oe)}),[]),T=(0,I.jsxs)(a.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,I.jsx)(U,{query:s.query,results:s.results,onSearch:S,hrefItem:e=>d.H.dashboard.tour.details(e)}),(0,I.jsxs)(a.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,I.jsx)(re,{open:t.value,onOpen:t.onTrue,onClose:t.onFalse,filters:Z,onFilters:k,canReset:w,onResetFilters:M,serviceOptions:p.Aj.map((e=>e.label)),tourGuideOptions:p.$r,destinationOptions:x.h,dateError:f}),(0,I.jsx)(R,{sort:n,onSort:D,sortOptions:p.f3})]})]}),_=(0,I.jsx)(ie,{filters:Z,onResetFilters:M,canReset:w,onFilters:k,results:y.length});return(0,I.jsxs)(l.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,I.jsx)(j.Z,{heading:"List",links:[{name:"Dashboard",href:d.H.dashboard.root},{name:"Tour",href:d.H.dashboard.tour.root},{name:"List"}],action:(0,I.jsx)(o.Z,{component:c.r,href:d.H.dashboard.tour.new,variant:"contained",startIcon:(0,I.jsx)(m.Z,{icon:"mingcute:add-line"}),children:"New Tour"}),sx:{mb:{xs:3,md:5}}}),(0,I.jsxs)(a.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[T,w&&_]}),C&&(0,I.jsx)(b.Z,{title:"No Data",filled:!0,sx:{py:10}}),(0,I.jsx)(E,{tours:y})]})}const de=e=>{let{inputData:t,filters:n,sortBy:r,dateError:i}=e;const{services:a,destination:o,startDate:l,endDate:d,tourGuides:c}=n,u=c.map((e=>e.id));return"latest"===r&&(t=s()(t,["createdAt"],["desc"])),"oldest"===r&&(t=s()(t,["createdAt"],["asc"])),"popular"===r&&(t=s()(t,["totalViews"],["desc"])),i||l&&d&&(t=t.filter((e=>(0,h.IO)(e.available.startDate)>=(0,h.IO)(l)&&(0,h.IO)(e.available.endDate)<=(0,h.IO)(d)))),o.length&&(t=t.filter((e=>o.includes(e.destination)))),u.length&&(t=t.filter((e=>e.tourGuides.some((e=>u.includes(e.id)))))),a.length&&(t=t.filter((e=>e.services.some((e=>a.includes(e)))))),t};var ce=n(8007),ue=n(44695),he=n(61134),pe=n(12258),xe=n(89891),me=n(24308),be=n(6718),ge=n(38887),je=n(32869),Ze=n(60240);function ve(e){let{currentTour:t}=e;const n=(0,y.tv)(),r=(0,ge.F)("up","md"),{enqueueSnackbar:s}=(0,je.Ds)(),o=ce.Ry().shape({name:ce.Z_().required("Name is required"),content:ce.Z_().required("Content is required"),images:ce.IX().min(1,"Images is required"),tourGuides:ce.IX().min(1,"Must have at least 1 guide"),durations:ce.Z_().required("Duration is required"),tags:ce.IX().min(2,"Must have at least 2 tags"),services:ce.IX().min(2,"Must have at least 2 services"),destination:ce.Z_().required("Destination is required"),available:ce.Ry().shape({startDate:ce.nK().nullable().required("Start date is required"),endDate:ce.nK().required("End date is required").test("date-min","End date must be later than start date",((e,t)=>{let{parent:n}=t;return e.getTime()>n.startDate.getTime()}))})}),l=(0,i.useMemo)((()=>({name:(null===t||void 0===t?void 0:t.name)||"",content:(null===t||void 0===t?void 0:t.content)||"",images:(null===t||void 0===t?void 0:t.images)||[],tourGuides:(null===t||void 0===t?void 0:t.tourGuides)||[],tags:(null===t||void 0===t?void 0:t.tags)||[],durations:(null===t||void 0===t?void 0:t.durations)||"",destination:(null===t||void 0===t?void 0:t.destination)||"",services:(null===t||void 0===t?void 0:t.services)||[],available:{startDate:(null===t||void 0===t?void 0:t.available.startDate)||null,endDate:(null===t||void 0===t?void 0:t.available.endDate)||null}})),[t]),c=(0,he.cI)({resolver:(0,ue.X)(o),defaultValues:l}),{watch:u,reset:h,control:b,setValue:g,handleSubmit:j,formState:{isSubmitting:Z}}=c,v=u();(0,i.useEffect)((()=>{t&&h(l)}),[t,l,h]);const f=j((async e=>{try{await new Promise((e=>setTimeout(e,500))),h(),s(t?"Update success!":"Create success!"),n.push(d.H.dashboard.tour.root),console.info("DATA",e)}catch(r){console.error(r)}})),w=(0,i.useCallback)((e=>{const t=v.images||[],n=e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)})));g("images",[...t,...n],{shouldValidate:!0})}),[g,v.images]),k=(0,i.useCallback)((e=>{var t;const n=v.images&&(null===(t=v.images)||void 0===t?void 0:t.filter((t=>t!==e)));g("images",n)}),[g,v.images]),D=(0,i.useCallback)((()=>{g("images",[])}),[g]),S=(0,I.jsxs)(I.Fragment,{children:[r&&(0,I.jsxs)(me.Z,{md:4,children:[(0,I.jsx)(H.Z,{variant:"h6",sx:{mb:.5},children:"Details"}),(0,I.jsx)(H.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),(0,I.jsx)(me.Z,{xs:12,md:8,children:(0,I.jsxs)(C.Z,{children:[!r&&(0,I.jsx)(be.Z,{title:"Details"}),(0,I.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Name"}),(0,I.jsx)(Ze.au,{name:"name",placeholder:"Ex: Adventure Seekers Expedition..."})]}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Content"}),(0,I.jsx)(Ze.LM,{simple:!0,name:"content"})]}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Images"}),(0,I.jsx)(Ze.rd,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onDrop:w,onRemove:k,onRemoveAll:D,onUpload:()=>console.info("ON UPLOAD")})]})]})]})})]}),M=(0,I.jsxs)(I.Fragment,{children:[r&&(0,I.jsxs)(me.Z,{md:4,children:[(0,I.jsx)(H.Z,{variant:"h6",sx:{mb:.5},children:"Properties"}),(0,I.jsx)(H.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),(0,I.jsx)(me.Z,{xs:12,md:8,children:(0,I.jsxs)(C.Z,{children:[!r&&(0,I.jsx)(be.Z,{title:"Properties"}),(0,I.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(H.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour Guide"}),(0,I.jsx)(Ze.Fl,{multiple:!0,name:"tourGuides",placeholder:"+ Tour Guides",disableCloseOnSelect:!0,options:p.$r,getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.id===t.id,renderOption:(e,t)=>(0,i.createElement)("li",{...e,key:t.id},(0,I.jsx)(z.Z,{alt:t.avatarUrl,src:t.avatarUrl,sx:{width:24,height:24,flexShrink:0,mr:1}},t.id),t.name),renderTags:(e,t)=>e.map(((e,n)=>(0,i.createElement)(K.Z,{...t({index:n}),key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,I.jsx)(z.Z,{alt:e.name,src:e.avatarUrl})})))})]}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Available"}),(0,I.jsxs)(a.Z,{direction:{xs:"column",md:"row"},spacing:2,children:[(0,I.jsx)(he.Qr,{name:"available.startDate",control:b,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,I.jsx)(V.M,{...t,format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,I.jsx)(he.Qr,{name:"available.endDate",control:b,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,I.jsx)(V.M,{...t,format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}})]})]}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Duration"}),(0,I.jsx)(Ze.au,{name:"durations",placeholder:"Ex: 2 days, 4 days 3 nights..."})]}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Destination"}),(0,I.jsx)(Ze.Fl,{name:"destination",placeholder:"+ Destination",options:x.h.map((e=>e.label)),getOptionLabel:e=>e,renderOption:(e,t)=>{const{code:n,label:r,phone:s}=x.h.filter((e=>e.label===t))[0];return r?(0,i.createElement)("li",{...e,key:r},(0,I.jsx)(m.Z,{icon:"circle-flags:".concat(n.toLowerCase()),width:28,sx:{mr:1}},r),r," (",n,") +",s):null}})]}),(0,I.jsxs)(a.Z,{spacing:1,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Services"}),(0,I.jsx)(Ze.s2,{name:"services",options:p.Aj,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(H.Z,{variant:"subtitle2",children:"Tags"}),(0,I.jsx)(Ze.Fl,{name:"tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:p.Qw.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,t)=>(0,i.createElement)("li",{...e,key:t},t),renderTags:(e,t)=>e.map(((e,n)=>(0,i.createElement)(K.Z,{...t({index:n}),key:e,label:e,size:"small",color:"info",variant:"soft"})))})]})]})]})})]}),T=(0,I.jsxs)(I.Fragment,{children:[r&&(0,I.jsx)(me.Z,{md:4}),(0,I.jsxs)(me.Z,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(te.Z,{control:(0,I.jsx)(xe.Z,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),(0,I.jsx)(pe.Z,{type:"submit",variant:"contained",size:"large",loading:Z,sx:{ml:2},children:t?"Save Changes":"Create Tour"})]})]});return(0,I.jsx)(Ze.ZP,{methods:c,onSubmit:f,children:(0,I.jsxs)(me.Z,{container:!0,spacing:3,children:[S,M,T]})})}function fe(e){let{id:t}=e;const n=(0,g.K$)(),r=p.as.find((e=>e.id===t));return(0,I.jsxs)(l.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,I.jsx)(j.Z,{heading:"Edit",links:[{name:"Dashboard",href:d.H.dashboard.root},{name:"Tour",href:d.H.dashboard.tour.root},{name:null===r||void 0===r?void 0:r.name}],sx:{mb:{xs:3,md:5}}}),(0,I.jsx)(ve,{currentTour:r})]})}function ye(){const e=(0,g.K$)();return(0,I.jsxs)(l.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,I.jsx)(j.Z,{heading:"Create a new tour",links:[{name:"Dashboard",href:d.H.dashboard.root},{name:"Tour",href:d.H.dashboard.tour.root},{name:"New tour"}],sx:{mb:{xs:3,md:5}}}),(0,I.jsx)(ve,{})]})}var we=n(61474),Ce=n(29347),ke=n(80160);function De(e){let{publish:t,backLink:n,editLink:r,liveLink:s,publishOptions:i,onChangePublish:l,sx:d,...u}=e;const h=(0,_.S)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(a.Z,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...d},...u,children:[(0,I.jsx)(o.Z,{component:c.r,href:n,startIcon:(0,I.jsx)(m.Z,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,I.jsx)(Z.Z,{sx:{flexGrow:1}}),"published"===t&&(0,I.jsx)(J.Z,{title:"Go Live",children:(0,I.jsx)(D.Z,{component:c.r,href:s,children:(0,I.jsx)(m.Z,{icon:"eva:external-link-fill"})})}),(0,I.jsx)(J.Z,{title:"Edit",children:(0,I.jsx)(D.Z,{component:c.r,href:r,children:(0,I.jsx)(m.Z,{icon:"solar:pen-bold"})})}),(0,I.jsx)(pe.Z,{color:"inherit",variant:"contained",loading:!t,loadingIndicator:"Loading\u2026",endIcon:(0,I.jsx)(m.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:h.onOpen,sx:{textTransform:"capitalize"},children:t})]}),(0,I.jsx)(_.Z,{open:h.open,onClose:h.onClose,arrow:"top-right",sx:{width:140},children:i.map((e=>(0,I.jsxs)(k.Z,{selected:e.value===t,onClick:()=>{h.onClose(),l(e.value)},children:["published"===e.value&&(0,I.jsx)(m.Z,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,I.jsx)(m.Z,{icon:"solar:file-text-bold"}),e.label]},e.value)))})]})}var Se=n(45358),Me=n(21362),Te=n(82486),_e=n(57819);function Fe(e){let{tour:t}=e;const{name:n,images:r,content:s,services:i,tourGuides:o,available:l,durations:d,destination:c,ratingNumber:u}=t,x=r.map((e=>({src:e}))),{selected:b,open:g,onOpen:j,onClose:v}=(0,_e.NX)(x),f=(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(Z.Z,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{mb:{xs:3,md:5}},children:[(0,I.jsx)(Se.m.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:(0,Te.BN)(),children:(0,I.jsx)(T.Z,{alt:x[0].src,src:x[0].src,ratio:"1/1",onClick:()=>j(x[0].src),sx:{borderRadius:2,cursor:"pointer"}})},x[0].src),(0,I.jsx)(Z.Z,{gap:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:x.slice(1,5).map((e=>(0,I.jsx)(Se.m.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:(0,Te.BN)(),children:(0,I.jsx)(T.Z,{alt:e.src,src:e.src,ratio:"1/1",onClick:()=>j(e.src),sx:{borderRadius:2,cursor:"pointer"}})},e.src)))})]}),(0,I.jsx)(_e.ZP,{index:b,slides:x,open:g,close:v})]}),y=(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(a.Z,{direction:"row",sx:{mb:3},children:[(0,I.jsx)(H.Z,{variant:"h4",sx:{flexGrow:1},children:n}),(0,I.jsx)(D.Z,{children:(0,I.jsx)(m.Z,{icon:"solar:share-bold"})}),(0,I.jsx)(ee.Z,{defaultChecked:!0,color:"error",icon:(0,I.jsx)(m.Z,{icon:"solar:heart-outline"}),checkedIcon:(0,I.jsx)(m.Z,{icon:"solar:heart-bold"})})]}),(0,I.jsxs)(a.Z,{spacing:3,direction:"row",flexWrap:"wrap",alignItems:"center",children:[(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,I.jsx)(m.Z,{icon:"eva:star-fill",sx:{color:"warning.main"}}),(0,I.jsx)(Z.Z,{component:"span",sx:{typography:"subtitle2"},children:u}),(0,I.jsx)(w.Z,{sx:{color:"text.secondary"},children:"(234 reviews)"})]}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,I.jsx)(m.Z,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),c]}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"subtitle2"},children:[(0,I.jsx)(m.Z,{icon:"solar:flag-bold",sx:{color:"info.main"}}),(0,I.jsx)(Z.Z,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:"Guide by"}),o.map((e=>e.name)).join(", ")]})]})]}),C=(0,I.jsx)(Z.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[{label:"Available",value:"".concat((0,h.Mu)(l.startDate)," - ").concat((0,h.Mu)(l.endDate)),icon:(0,I.jsx)(m.Z,{icon:"solar:calendar-date-bold"})},{label:"Contact name",value:o.map((e=>e.phoneNumber)).join(", "),icon:(0,I.jsx)(m.Z,{icon:"solar:user-rounded-bold"})},{label:"Durations",value:d,icon:(0,I.jsx)(m.Z,{icon:"solar:clock-circle-bold"})},{label:"Contact phone",value:o.map((e=>e.name)).join(", "),icon:(0,I.jsx)(m.Z,{icon:"solar:phone-bold"})}].map((e=>(0,I.jsxs)(a.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,I.jsx)(S.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},e.label)))}),k=(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Me.Z,{children:s}),(0,I.jsxs)(a.Z,{spacing:2,children:[(0,I.jsx)(H.Z,{variant:"h6",children:" Services"}),(0,I.jsx)(Z.Z,{rowGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:p.Aj.map((e=>(0,I.jsxs)(a.Z,{spacing:1,direction:"row",alignItems:"center",sx:{...i.includes(e.label)&&{color:"text.disabled"}},children:[(0,I.jsx)(m.Z,{icon:"eva:checkmark-circle-2-outline",sx:{color:"primary.main",...i.includes(e.label)&&{color:"text.disabled"}}}),e.label]},e.label)))})]})]});return(0,I.jsxs)(I.Fragment,{children:[f,(0,I.jsxs)(a.Z,{sx:{maxWidth:720,mx:"auto"},children:[y,(0,I.jsx)(Q.Z,{sx:{borderStyle:"dashed",my:5}}),C,(0,I.jsx)(Q.Z,{sx:{borderStyle:"dashed",my:5}}),k]})]})}var Ie=n(12065);function Oe(e){let{bookers:t}=e;const[n,r]=(0,i.useState)([]),s=(0,i.useCallback)((e=>{const t=n.includes(e)?n.filter((t=>t!==e)):[...n,e];r(t)}),[n]);return(0,I.jsx)(Z.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:t.map((e=>(0,I.jsx)(Ee,{booker:e,selected:n.includes(e.id),onSelected:()=>s(e.id)},e.id)))})}function Ee(e){let{booker:t,selected:n,onSelected:r}=e;return(0,I.jsxs)(a.Z,{component:C.Z,direction:"row",spacing:2,sx:{p:3},children:[(0,I.jsx)(z.Z,{alt:t.name,src:t.avatarUrl,sx:{width:48,height:48}}),(0,I.jsxs)(a.Z,{spacing:2,flexGrow:1,children:[(0,I.jsx)(S.Z,{primary:t.name,secondary:(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",spacing:.5,children:[(0,I.jsx)(m.Z,{icon:"solar:users-group-rounded-bold",width:16}),t.guests," guests"]}),secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),(0,I.jsxs)(a.Z,{spacing:1,direction:"row",children:[(0,I.jsx)(D.Z,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:e=>(0,Ie.Fq)(e.palette.error.main,.08),"&:hover":{bgcolor:e=>(0,Ie.Fq)(e.palette.error.main,.16)}},children:(0,I.jsx)(m.Z,{width:18,icon:"solar:phone-bold"})}),(0,I.jsx)(D.Z,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:e=>(0,Ie.Fq)(e.palette.info.main,.08),"&:hover":{bgcolor:e=>(0,Ie.Fq)(e.palette.info.main,.16)}},children:(0,I.jsx)(m.Z,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,I.jsx)(D.Z,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:e=>(0,Ie.Fq)(e.palette.primary.main,.08),"&:hover":{bgcolor:e=>(0,Ie.Fq)(e.palette.primary.main,.16)}},children:(0,I.jsx)(m.Z,{width:18,icon:"fluent:mail-24-filled"})})]})]}),(0,I.jsx)(o.Z,{size:"small",variant:n?"text":"outlined",color:n?"success":"inherit",startIcon:n?(0,I.jsx)(m.Z,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:r,children:n?"Approved":"Approve"})]},t.id)}function Re(e){let{id:t}=e;const n=(0,g.K$)(),r=p.as.filter((e=>e.id===t))[0],[s,a]=(0,i.useState)(null===r||void 0===r?void 0:r.publish),[o,c]=(0,i.useState)("content"),u=(0,i.useCallback)(((e,t)=>{c(t)}),[]),h=(0,i.useCallback)((e=>{a(e)}),[]),x=(0,I.jsx)(Ce.Z,{value:o,onChange:u,sx:{mb:{xs:3,md:5}},children:p.bY.map((e=>(0,I.jsx)(we.Z,{iconPosition:"end",value:e.value,label:e.label,icon:"bookers"===e.value?(0,I.jsx)(ke.Z,{variant:"filled",children:null===r||void 0===r?void 0:r.bookers.length}):""},e.value)))});return(0,I.jsxs)(l.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,I.jsx)(De,{backLink:d.H.dashboard.tour.root,editLink:d.H.dashboard.tour.edit("".concat(null===r||void 0===r?void 0:r.id)),liveLink:"#",publish:s||"",onChangePublish:h,publishOptions:p.ie}),x,"content"===o&&(0,I.jsx)(Fe,{tour:r}),"bookers"===o&&(0,I.jsx)(Oe,{bookers:null===r||void 0===r?void 0:r.bookers})]})}},87183:(e,t,n)=>{n.d(t,{DY:()=>d,IO:()=>l,Mu:()=>a,zM:()=>o});var r=n(16386),s=n(64460),i=n(24054);function a(e,t){const n=t||"dd MMM yyyy";return e?(0,r.Z)(new Date(e),n):""}function o(e,t){const n=t||"dd MMM yyyy p";return e?(0,r.Z)(new Date(e),n):""}function l(e){return e?(0,s.Z)(new Date(e)):""}function d(e){return e?(0,i.Z)(new Date(e),{addSuffix:!0}):""}},41049:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8938);function s(e){return(0,r.Z)({},e)}},24054:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(24408),s=n(27277),i=n(79990),a=n(71786),o=n(38126),l=n(38527),d=n(41049),c=n(8938),u=n(4697),h=n(4522),p=1440,x=2520,m=43200,b=86400;function g(e,t){return(0,h.Z)(1,arguments),function(e,t,n){var g,j;(0,h.Z)(2,arguments);var Z=(0,r.j)(),v=null!==(g=null!==(j=null===n||void 0===n?void 0:n.locale)&&void 0!==j?j:Z.locale)&&void 0!==g?g:o.Z;if(!v.formatDistance)throw new RangeError("locale must contain formatDistance property");var f=(0,s.Z)(e,t);if(isNaN(f))throw new RangeError("Invalid time value");var y,w,C=(0,c.Z)((0,d.Z)(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:f});f>0?(y=(0,l.Z)(t),w=(0,l.Z)(e)):(y=(0,l.Z)(e),w=(0,l.Z)(t));var k,D=(0,a.Z)(w,y),S=((0,u.Z)(w)-(0,u.Z)(y))/1e3,M=Math.round((D-S)/60);if(M<2)return null!==n&&void 0!==n&&n.includeSeconds?D<5?v.formatDistance("lessThanXSeconds",5,C):D<10?v.formatDistance("lessThanXSeconds",10,C):D<20?v.formatDistance("lessThanXSeconds",20,C):D<40?v.formatDistance("halfAMinute",0,C):D<60?v.formatDistance("lessThanXMinutes",1,C):v.formatDistance("xMinutes",1,C):0===M?v.formatDistance("lessThanXMinutes",1,C):v.formatDistance("xMinutes",M,C);if(M<45)return v.formatDistance("xMinutes",M,C);if(M<90)return v.formatDistance("aboutXHours",1,C);if(M<p){var T=Math.round(M/60);return v.formatDistance("aboutXHours",T,C)}if(M<x)return v.formatDistance("xDays",1,C);if(M<m){var _=Math.round(M/p);return v.formatDistance("xDays",_,C)}if(M<b)return k=Math.round(M/m),v.formatDistance("aboutXMonths",k,C);if((k=(0,i.Z)(w,y))<12){var F=Math.round(M/m);return v.formatDistance("xMonths",F,C)}var I=k%12,O=Math.floor(k/12);return I<3?v.formatDistance("aboutXYears",O,C):I<9?v.formatDistance("overXYears",O,C):v.formatDistance("almostXYears",O+1,C)}(e,Date.now(),t)}},64460:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(38527),s=n(4522);function i(e){return(0,s.Z)(1,arguments),(0,r.Z)(e).getTime()}}}]);
//# sourceMappingURL=6505.fef98464.chunk.js.map