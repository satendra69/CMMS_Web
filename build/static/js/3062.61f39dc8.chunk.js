"use strict";(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[3062],{43062:(e,t,s)=>{s.r(t),s.d(t,{default:()=>fe});var a=s(30168),l=s(72791),i=s(66934),o=s(6907),r=s(46314),n=s(10266),c=s(96927),d=s(29347),m=s(61474),u=s(90977),p=s(32746),x=s(5574),_=s(65661),h=s(4899),g=s(77386),j=s(47937),w=s(40986),v=s(63515),y=s(64554),C=s(88588),b=s(53767),f=s(5849),k=s(93006),Z=s(24308),S=s(13034),A=s(57689),D=s(4567),N=s(25801),I=s(9806),O=s(72426),M=s.n(O),W=(s(73528),s(11632)),R=s(83854),E=s(73379),z=s(18709),B=s(21830),F=s.n(B),H=s(58086),T=s.n(H),P=s(60720),L=s(40268),U=s(37225),q=s(4007),G=s(97639),Y=s(68745),Q=s(9195),V=s(55261),K=s(4841),X=s(15416),J=s(22041),$=s(62155),ee=s(19850),te=s(33551);const se="data:image/png;base64,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";var ae=s(80184);const le=T()(F()),ie=e=>{let{data:t,onDataFromSecondComponent:s}=e,a=localStorage.getItem("site_ID");const i=localStorage.getItem("emp_mst_empl_id"),{RowID:o}=t,{Asset_No:n}=t,{WorkOrderNo:c}=t,d=(0,A.TH)(),[m,j]=l.useState([]),[w,v]=l.useState([]),[y,C]=(0,l.useState)(!1),[b,S]=(0,l.useState)(!1),[D,N]=(0,l.useState)([]),[I,O]=(0,l.useState)([]),[W,R]=(0,l.useState)([]),[E,B]=(0,l.useState)([]),[H,T]=(0,l.useState)(new Date),[P,U]=(0,l.useState)(null),[q,G]=(0,l.useState)([]),[ie,oe]=(0,l.useState)([]),[re,ne]=(0,l.useState)("0"),[ce,de]=(0,l.useState)([]),[me,ue]=(0,l.useState)([]),[pe,xe]=(0,l.useState)([]),[_e,he]=(0,l.useState)([]),[ge,je]=(0,l.useState)([]),[we,ve]=(0,l.useState)([]),[ye,Ce]=(0,l.useState)([]),[be,fe]=(0,l.useState)([]),[ke,Ze]=(0,l.useState)([]),[Se,Ae]=(0,l.useState)(""),[De,Ne]=(0,l.useState)(""),[Ie,Oe]=(0,l.useState)(""),[Me,We]=(0,l.useState)(""),[Re,Ee]=(0,l.useState)(""),[ze,Be]=(0,l.useState)(""),[Fe,He]=(0,l.useState)(""),[Te,Pe]=(0,l.useState)(""),[Le,Ue]=(0,l.useState)(!1),qe=async(e,t)=>{try{const s=await z.Z.get("/get_workordermaster_timecard.php?site_cd=".concat(e,"&RowID=").concat(t));"SUCCESS"===s.data.status?(j(s.data.data.header),v(s.data.data.result)):F().fire({icon:"error",title:"Oops...",text:s.data.message})}catch(s){console.error("Error fetching data:",s),F().fire({icon:"error",title:"Oops get_sitecode...",text:s})}};(0,l.useEffect)((()=>{let e=localStorage.getItem("site_ID");qe(e,o),Ge(e,"All")}),[d]);const Ge=async(e,t)=>{F().fire({title:"Please Wait !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{const s=await z.Z.get("get_dropdown.php?site_cd=".concat(e,"&type=").concat(t));if("SUCCESS"===s.data.status){let e=s.data.data.Employee_List_Supervisor_Id.map((e=>({label:e.emp_mst_empl_id+" : "+e.emp_mst_name,value:e.emp_mst_empl_id})));N(e);let t=s.data.data.Employee_Primary_Craft.map((e=>({label:e.crf_mst_crf_cd+" : "+e.crf_mst_desc,value:e.crf_mst_crf_cd})));R(t);let a=s.data.data.HoursType.map((e=>({label:e.hours_type_cd,value:e.hours_type_cd})));G(a);let l=s.data.data.CostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.costcenter})));de(l);let i=s.data.data.account.map((e=>({label:e.account+" : "+e.descs,value:e.account})));xe(i);let o=s.data.data.CostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.costcenter})));je(o);let r=s.data.data.account.map((e=>({label:e.account+" : "+e.descs,value:e.account})));fe(r),F().close()}else F().close(),F().fire({icon:"error",title:"Oops...",text:s.data.message})}catch(s){F().close(),F().fire({icon:"error",title:"Oops get_sitecode...",text:s})}},Ye=e=>{if(!e)return"";const t=new Date(e.date),s=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getFullYear(),i=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),r=t.getSeconds().toString().padStart(2,"0");return"".concat(s,"-").concat(a,"-").concat(l," ").concat(i,":").concat(o,":").concat(r)},Qe=w.reduce(((e,t)=>e+(parseFloat(t.wko_ls8_hrs)||0)),0),Ve=w.reduce(((e,t)=>e+(parseFloat(t.wko_ls8_hrs)||0)*(parseFloat(t.wko_ls8_act_cost)||0)),0),Ke=()=>{C(!1),he(""),ue(""),B(""),Ze(""),ve(""),O(""),oe(""),ne(""),U("")};return(0,l.useEffect)((()=>{(()=>{if(H&&P){const e=new Date(H),t=new Date(P);ne(((t-e)/36e5).toFixed(2))}})()}),[H,P]),(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("div",{children:(0,ae.jsx)("div",{className:"card",children:(0,ae.jsxs)("div",{className:"card-body",style:{borderRadius:"8px",boxShadow:"2px 2px 15px 2px #f0f0f0",paddingBottom:"10px"},children:[(0,ae.jsx)("div",{children:(0,ae.jsx)("div",{style:{backgroundColor:"white"},children:(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px"},children:(0,ae.jsx)("img",{src:se,style:{width:"50px",height:"50px"}})}),(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",flexDirection:"column"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px",fontWeight:"bold"},children:"Time Card"}),(0,ae.jsxs)("div",{className:"TimeCartPartCosting",children:[(0,ae.jsx)("span",{style:{color:"blue"},children:(1*Qe).toFixed(2)})," ","Total Parts Costing"," ",(0,ae.jsxs)("span",{style:{color:"#19d895"},children:["$",Ve.toFixed(2)]})]})]})]})})}),(0,ae.jsx)("div",{className:"table-responsive",children:(0,ae.jsx)(V.Z,{component:K.Z,children:(0,ae.jsxs)(X.Z,{children:[(0,ae.jsx)(J.Z,{children:(0,ae.jsx)(Q.Z,{children:(()=>{const e={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Y.Z,{},"select"),Object.keys(m).map((t=>(0,ae.jsx)(Y.Z,{style:e,children:t},t)))]})})()})}),(0,ae.jsx)($.Z,{children:w.map(((e,t)=>(0,ae.jsxs)(Q.Z,{children:[(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:t+1}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_assetno.split(":")[0]}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_empl_id}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_craft}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:Ye(e.wko_ls8_datetime1)}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:Ye(e.wko_ls8_datetime2)}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_hours_type}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_hrs}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_rate}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_multiplier}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_adder}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_act_cost}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_chg_costcenter}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_chg_account}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_crd_costcenter}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_crd_account}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls8_time_card_no})]},t)))})]})})}),(0,ae.jsx)("div",{children:(0,ae.jsxs)(x.Z,{onClose:Ke,"aria-labelledby":"customized-dialog-title",open:y,maxWidth:"lg",fullWidth:!0,disableBackdropClick:!0,sx:{width:"50vw",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},children:[(0,ae.jsxs)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:[(0,ae.jsx)("img",{src:se,style:{width:"30px",height:"30px",marginRight:"2px"}}),"Time Card"]}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:Ke,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{width:"100%",marginTop:"15px"},children:(0,ae.jsxs)(Z.Z,{container:!0,spacing:1.5,className:"timeCartPopuplabel",children:[(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Employee ID:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:D,value:I,onChange:(e,t)=>(async(e,t)=>{let s=localStorage.getItem("site_ID");O(t);const a=t?t.label.split(" : "):[],l=a.length>0?a[0]:"";if(console.log("value____Empt____",l),""!==l&&null!=l)try{const e=await z.Z.get("get_time_cart_reate_craft.php?site_cd=".concat(s,"&empId=").concat(l));if(e.data.data.result.length>0){let t=e.data.data.result.map((e=>({label:e.emp_ls1_craft+" : "+e.crf_mst_desc,value:e.emp_ls1_craft,rate:e.emp_ls1_charge_rate})));R(t),B(e.data.data.result[0].emp_ls1_craft),We(e.data.data.result[0].emp_ls1_charge_rate)}}catch(i){F().close(),F().fire({icon:"error",title:"Oops get_sitecode...",text:i})}})(0,t),renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Craft:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:W,value:E,onChange:(e,t)=>{B(t||null),We(t?t.rate:null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Time Card Date:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(p.x,{value:H,format:"dd/MM/yyyy HH:mm",className:"Extrasize",sx:{fontSize:"0.875rem"},onChange:e=>{T(e)},slotProps:{textField:{fullWidth:!0}}})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Time Card End Date:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(p.x,{value:P||"",format:"dd/MM/yyyy HH:mm",className:"Extrasize",sx:{fontSize:"0.875rem"},onChange:e=>{U(e)},slotProps:{textField:{fullWidth:!0}}})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Hour Type:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:q,value:ie,onChange:(e,t)=>(async(e,t)=>{oe(t);const s=t?t.label.split(" : "):[],l=s.length>0?s[0]:"";if(""!==l&&null!=l)try{const e=await z.Z.get("TimeCartHourTypeGet.php?site_cd=".concat(a,"&hourstype=").concat(l));if(e.data.data.result.length>0){Be(e.data.data.result[0].hours_type_adder),Ee(e.data.data.result[0].hours_type_multiplier);const t=new Date(H),s=new Date(P),a=(0,ee.Z)(s,t),l=((0,te.Z)(s,t),Math.floor(a/36e5)),i=(Math.floor(a/6e4),Math.floor(a/6e4)),o=Math.floor(i/60),r=(parseFloat(l),parseFloat(Me)),n=parseFloat(e.data.data.result[0].hours_type_adder),c=parseFloat(e.data.data.result[0].hours_type_multiplier);He(o*(r+n)*c)}}catch(i){F().fire({icon:"error",title:"Oops get_sitecode...",text:i})}})(0,t),renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Actual Hour:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",className:"Extrasize",fullWidth:!0,disabled:!0,value:re,onChange:e=>{ne(e.target.value)}})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Charge Cost Center:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:ce,value:me,onChange:(e,t)=>{ue(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Charge Account:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:pe,value:_e,onChange:(e,t)=>{he(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Credit Cost Center:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:ge,value:we,onChange:(e,t)=>{ve(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,children:(0,ae.jsx)("label",{children:"Credit Account:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:be,value:ke,onChange:(e,t)=>{Ze(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})})]})})}),(0,ae.jsx)(g.Z,{style:{display:"flex",justifyContent:"flex-end",padding:"10px"},children:(0,ae.jsx)("div",{className:"timeCartSubmit",children:(0,ae.jsx)(f.Z,{variant:"contained",color:"primary",type:"button",onClick:e=>{e.preventDefault(),(async()=>{if(""==I||null==I)le.fire({position:"top",customClass:{popup:"top-center",container:"swalcontainercustom TimeCard"},html:'<div style="display: block; color: #b71d18c7; font-size: 15px; font-weight: 600; line-height: 26px;">Please fill the required field Employee ID is required </div>',showConfirmButton:!1,timer:4e3,backdrop:!1});else if(""==E||null==E)le.fire({position:"top",customClass:{popup:"top-center",container:"swalcontainercustom TimeCard"},html:'<div style="display: block; color: #b71d18c7; font-size: 15px; font-weight: 600; line-height: 26px;">Please fill the required field Craft is required </div>',showConfirmButton:!1,timer:4e3,backdrop:!1});else if(""==H||null==H)le.fire({position:"top",customClass:{popup:"top-center",container:"swalcontainercustom TimeCard"},html:'<div style="display: block; color: #b71d18c7; font-size: 15px; font-weight: 600; line-height: 26px;">Please fill the required field Time Card Date is required </div>',showConfirmButton:!1,timer:4e3,backdrop:!1});else if(""==ie||null==ie)le.fire({position:"top",customClass:{popup:"top-center",container:"swalcontainercustom TimeCard"},html:'<div style="display: block; color: #b71d18c7; font-size: 15px; font-weight: 600; line-height: 26px;">Please fill the required field Hour Type is required </div>',showConfirmButton:!1,timer:4e3,backdrop:!1});else{let l,r;l=ie&&0!==ie.length&&ie.label?ie.label.split(":")[0].trim():"",r=""==n||null==n?"":n.split(":")[0];let d="";d=""==H||null==H?"":M()(H).format("yyyy-MM-DD HH:mm:ss").trim();let m="";m=""==P||null==P?"":M()(P).format("yyyy-MM-DD HH:mm:ss").trim();var e={site_cd:a,wko_mst_wo_no:c,mst_RowID:o,assetno:r,selectedEmployeeID:I.value,selectedCraft:E&&"object"===typeof E?E.value:E,TimeCardDate:d,EndTimeCardDate:m,selected_HourType:l,ActualHour:re,Rate:Me,Multiplier:Re,Adder:ze,ActualCost:Fe,selected_ChargeCostCenter:me.value,selected_ChargeAccount:_e.value,selected_CreditCostCenter:we.value,selected_CreditAccount:ke.value,auditUser:i};console.log("json_workorderTimeCart_____",e);try{F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}});const t=await z.Z.post("/insert_time_card.php",JSON.stringify(e));console.log("insert_time_card_____",t),"SUCCESS"==t.data.status&&(F().close(),qe(),Ke(),s("SubmitFrom"))}catch(t){F().fire({icon:"error",title:"Oops get_sitecode...",text:t})}}})()},children:"Submit"})})})]})}),(0,ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,ae.jsx)(f.Z,{type:"button",className:"tabAddButton",onClick:()=>C(!0),children:"+ Add Time Card"})})]})})})})};s(48157);var oe=s(6405);const re="data:image/png;base64,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",ne=e=>{let{onRowClick:t,data:s}=e,a=localStorage.getItem("site_ID"),i=localStorage.getItem("emp_mst_login_id");const[o,n]=l.useState([]),[c,d]=l.useState([]),[m,p]=l.useState([]),[j,w]=(0,l.useState)(!1),[v,y]=(0,l.useState)(!1),[C,b]=(0,l.useState)([]),[S,N]=(0,l.useState)([]),[O,M]=(0,l.useState)([]),[R,E]=(0,l.useState)([]),[B,H]=(0,l.useState)(""),[T,P]=(0,l.useState)([]),[U,q]=(0,l.useState)([]),[G,ee]=(0,l.useState)([]),[te,se]=(0,l.useState)([]),[le,ie]=(0,l.useState)(""),ne=(0,A.TH)(),[ce,de]=(0,l.useState)(""),[me,ue]=(0,l.useState)(s.RowID),[pe,xe]=(0,l.useState)(s.WorkOrderNo),[_e,he]=(0,l.useState)(s.selected_Charge_Cost_Center),[ge,je]=(0,l.useState)(s.Asset_No?s.Asset_No.split(" : ")[0]:""),[we,ve]=(0,l.useState)(""),[ye,Ce]=(0,l.useState)(""),[be,fe]=(0,l.useState)(""),[ke,Ze]=(0,l.useState)(""),[Se,Ae]=(0,l.useState)(""),[De,Ne]=(0,l.useState)(""),[Ie,Oe]=(0,l.useState)(""),[Me,We]=(0,l.useState)(""),[Re,Ee]=(0,l.useState)([]),[ze,Be]=(0,l.useState)(!1),[Fe,He]=(0,l.useState)("");(0,l.useEffect)((()=>{Te(a,me)}),[ne]);const Te=async(e,t)=>{F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{const s=await z.Z.get("/get_workordermaster_material.php?site_cd=".concat(e,"&RowID=").concat(t));"SUCCESS"===s.data.status?(n(s.data.data.header),d(s.data.data.result),F().close()):F().fire({icon:"error",title:"Oops...",text:s.data.message})}catch(s){console.error("Error fetching data:",s),F().fire({icon:"error",title:"Oops get_sitecode...",text:s})}},Pe=e=>{je(e.wko_ls2_assetno),b(e.wko_ls2_stockno),M(e.wko_ls2_stk_locn),H(e.wko_ls2_desc),P(e.wko_ls2_chg_costcenter),ee(e.wko_ls2_chg_account),ie(e.wko_ls2_qty_needed),ve(e.wko_ls2_mtl_uom),Ce(e.wko_ls2_item_cost),fe(e.wko_ls2_mr_no),Ze(e.wko_ls2_mr_lineno),Ae(e.mtr_mst_status),Ne(e.mtr_ls1_rcv_qty),Oe(e.wko_ls2_po_no),We(e.wko_ls2_po_lineno),y(!0)};function Le(e){let{rightIcons:t,...s}=e;return(0,ae.jsx)(k.Z,{...s,InputProps:{endAdornment:t&&(0,ae.jsx)("div",{style:{display:"flex",flexDirection:"row",color:"#000"},children:t.map(((e,t)=>(0,ae.jsx)(u.Z,{children:e},t)))})}})}const[Ue,qe]=(0,l.useState)([{site_ID:a,mst_RowID:me,emp_mst_login_id:i,mtr_mst_wo_no:pe,wko_ls2_mtl_uom:"",wko_ls2_item_cost:"",mtr_ls1_rcv_qty:".0000",mtr_mst_assetno:ge,selectStock:"",selectStockLocation:"",setDescription:"",selectChargeCostCenter:"",selectChargeAccount:"",setQtyNeeded:""}]),Ge=e=>{const t=[...Ue];void 0!==e?t.splice(e,1):t.splice(1,t.length),qe(t)},Ye=Ue.map((e=>({...e,selectStock:"",selectStockLocation:"",selectChargeCostCenter:"",setDescription:"",setQtyNeeded:""}))),Qe=async()=>{Be(!0)},Ve=()=>{Be(!1)},Ke=()=>{He("")},Xe=async(e,t,s)=>{const a=[...Ue];"setQtyNeeded"==t?(a[e][t]=s,qe(a),ie(s)):(a[e][t]=s,qe(a)),"selectChargeCostCenter"==t?q(s):"selectChargeAccount"==t?se(s):"setQtyNeeded"==t&&ie(s)},Je=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=CostCenter")).data.data.CostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.costcenter})));P(e)}catch(e){console.error(e)}},$e=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=WKO_Labor_Account")).data.data.WKO_Labor_Account.map((e=>({label:e.account+" : "+e.descs,value:e.account})));ee(e)}catch(e){console.error(e)}},et=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls2_qty_needed)||0)),0),tt=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls2_qty_needed)||0)*(parseFloat(t.wko_ls2_item_cost)||0)),0),st=()=>{w(!1),N(""),He(""),E(""),H(""),q(""),se([]),ie(""),Ge()};return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{style:{paddingBottom:"20px",backgroundColor:"white"},children:(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px"},children:(0,ae.jsx)("img",{src:re,style:{width:"50px",height:"50px"}})}),(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",flexDirection:"column"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px",fontWeight:"bold"},children:"Material"}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("span",{style:{color:"blue"},children:(1*et).toFixed(2)})," ","Total Parts Costing"," ",(0,ae.jsxs)("span",{style:{color:"#19d895"},children:["$",tt.toFixed(2)]})]})]})]})}),(0,ae.jsx)("div",{className:"table-responsive",children:(0,ae.jsx)(V.Z,{component:K.Z,children:(0,ae.jsxs)(X.Z,{children:[(0,ae.jsx)(J.Z,{children:(0,ae.jsx)(Q.Z,{children:(()=>{const e={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Y.Z,{},"select"),Object.keys(o).map((t=>(0,ae.jsx)(Y.Z,{style:e,children:t},t)))]})})()})}),(0,ae.jsx)($.Z,{children:c.map(((e,t)=>(0,ae.jsxs)(Q.Z,{onClick:t=>Pe(e,t),children:[(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:t+1}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_stockno}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_stk_locn}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_desc}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_chg_costcenter}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_chg_account}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_qty_needed}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_mtl_uom}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_item_cost}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls2_mr_no}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:(0,ae.jsx)("span",{style:{backgroundColor:"W"===e.mtr_mst_status?"#FF6258":"A"===e.mtr_mst_status?"#19D895":"D"===e.mtr_mst_status?"#2196F3":null,color:"white",padding:"5px",borderRadius:"5px",fontSize:"13px",fontWeight:"bold"},children:"W"===e.mtr_mst_status?"Awaiting (W)":"A"===e.mtr_mst_status?"Approve (A)":"D"===e.mtr_mst_status?"Disapprove (D)":e.mtr_mst_status})})]},t)))})]})})}),(0,ae.jsx)("div",{children:(0,ae.jsxs)(x.Z,{onClose:st,"aria-labelledby":"customized-dialog-title",open:j,maxWidth:"lg",fullWidth:!0,disableBackdropClick:!0,sx:{width:"50vw",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},children:[(0,ae.jsxs)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:[(0,ae.jsx)("img",{src:re,style:{width:"30px",height:"30px",marginRight:"2px"}}),"Material"]}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:st,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{width:"100%",marginTop:"15px"},children:(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"col-sm-12 WrkOdrMtb",children:Ue.map(((e,t)=>{const{selectStock:s,selectStockLocation:l,setDescription:i,selectChargeCostCenter:o,selectChargeAccount:n,setQtyNeeded:c}=e;return(0,ae.jsxs)("div",{className:"row my-3 tb",children:[(0,ae.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,ae.jsx)(Z.Z,{item:!0,xs:6,children:(0,ae.jsxs)(D.Z,{style:{color:"#2196f3",textDecoration:"underline",fontWeight:600,fontSize:16},children:["Line ",t+1]})}),(0,ae.jsx)(Z.Z,{item:!0,xs:6,sx:{textAlign:"right"},children:1!==Ue.length&&(0,ae.jsx)(f.Z,{className:"workmarerial_dlt",onClick:()=>Ge(t),children:(0,ae.jsx)(I.G,{icon:W.WA2})})})]}),(0,ae.jsxs)(Z.Z,{container:!0,spacing:1.5,className:"timeCartPopuplabel",children:[(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Stock No:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(Le,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,value:""!=e.selectStock?e.selectStock:"",disabled:!0,placeholder:"Select...",style:{color:"#000"},rightIcons:[(0,ae.jsx)(L.Z,{icon:"material-symbols:close",onClick:Ke}),(0,ae.jsx)(L.Z,{icon:"tabler:edit",onClick:Qe})]})}),(0,ae.jsxs)(x.Z,{onClose:Ve,"aria-labelledby":"customized-dialog-title",open:ze,maxWidth:"lg",fullWidth:!0,disableBackdropClick:!0,sx:{width:"100vw",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},children:[(0,ae.jsxs)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:[(0,ae.jsx)("img",{src:re,style:{width:"30px",height:"30px",marginRight:"2px"}}),"Stock No"]}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:Ve,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{width:"100%",marginTop:"15px"},children:(0,ae.jsx)(oe.Z,{onRowClick:(e,s,l)=>(async(e,t,s,l)=>{if(F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading(),void 0!==t&&null!==t){He(t);try{const s=await z.Z.get("/get_Stock _No_dataMaterial.php?site_cd="+a+"&itm_mst_stockno="+t);if("SUCCESS"===s.data.status){Ee(s.data.data),b(Fe+":"+s.data.data[0].itm_mst_desc),console.log("Raam",s.data.data[0]),s.data.data.map((e=>({label:e.itm_mst_mstr_locn,value:e.itm_mst_mstr_locn})));const t=[...Ue],a=Fe;t[e].selectStock=a,qe(t);const l=s.data.data[0].itm_mst_desc;t[e].setDescription=l,qe(t);const i=s.data.data[0].itm_mst_mstr_locn;t[e].selectStockLocation=i,qe(t);const o=s.data.data[0].itm_mst_issue_uom;t[e].wko_ls2_mtl_uom=o,qe(t);const r=s.data.data[0].itm_det_issue_price;t[e].wko_ls2_item_cost=r,qe(t);const n=_e;t[e].selectChargeCostCenter=n,qe(t),F().close()}}catch(i){console.error("Error posting form data:",i)}}"1"==l&&Be(!1)})(t,e,0,l)})})}),(0,ae.jsxs)(g.Z,{style:{display:"flex",justifyContent:"space-between",padding:"10px"},children:[(0,ae.jsx)(f.Z,{type:"button",size:"small",startIcon:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"}),variant:"soft",color:"error",className:"CloseButton",onClick:e=>{e.preventDefault(),Ve()},children:"Close"}),(0,ae.jsx)("div",{className:"timeCartSubmit",children:(0,ae.jsx)(f.Z,{variant:"contained",type:"button",size:"small",className:"SaveButton assetSpares",onClick:e=>{e.preventDefault(),""===Fe?F().fire({icon:"error",title:"Oops...",text:"Please select one option!"}):Be(!1)},style:{marginLeft:"5px"},children:"Select"})})]})]}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Description:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",className:"Extrasize",fullWidth:!0,value:""!=e.setDescription?e.setDescription:"",onChange:e=>{}})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Stock Location:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:R,value:e.selectStockLocation,onChange:(e,t)=>{},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Charge Cost Center:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:T,value:e.selectChargeCostCenter,onChange:(e,s)=>Xe(t,"selectChargeCostCenter",s),onOpen:Je,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Charge Account:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:G,value:e.selectChargeAccount,onChange:(e,s)=>Xe(t,"selectChargeAccount",s),onOpen:$e,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Qty Needed:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:6,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",type:"number",className:"Extrasize",fullWidth:!0,placeholder:"1.000",onChange:e=>Xe(t,"setQtyNeeded",e.target.value),value:c})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:2,children:(0,ae.jsx)("div",{className:"col-sm-1 form-label bgClr",children:"EACH"})})]})]},t)}))})})})}),(0,ae.jsxs)(g.Z,{style:{display:"flex",justifyContent:"space-between",padding:"10px"},children:[(0,ae.jsx)(f.Z,{variant:"soft",color:"error",className:"CloseButton",startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),onClick:e=>{e.preventDefault(),st()},children:"Close"}),(0,ae.jsxs)("div",{className:"timeCartSubmit",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(f.Z,{variant:"contained",className:"AddNewButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:add-line"}),onClick:e=>{e.preventDefault();let t=!0;Ue.forEach((e=>{""===e.selectStock.trim()?(F().fire({icon:"error",title:"Oops...",text:"Stock No is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setDescription.trim()?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectChargeCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Charge Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectChargeAccount?(F().fire({icon:"error",title:"Oops...",text:"Charge Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded&&(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t&&qe([...Ue,{site_ID:a,mst_RowID:me,emp_mst_login_id:i,mtr_mst_wo_no:pe,wko_ls2_mtl_uom:"",wko_ls2_item_cost:"",mtr_ls1_rcv_qty:".0000",mtr_mst_assetno:ge,selectStock:"",selectStockLocation:"",setDescription:"",selectChargeCostCenter:"",selectChargeAccount:"",setQtyNeeded:""}])},style:{marginRight:"10px"},children:"Add"}),(0,ae.jsx)(f.Z,{variant:"contained",className:"SaveButton assetSpares",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},onClick:async e=>{e.preventDefault();let t=!0;if(Ue.forEach((e=>{""===e.selectStock.trim()?(F().fire({icon:"error",title:"Oops...",text:"Stock No is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setDescription.trim()?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectChargeCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Charge Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectChargeAccount?(F().fire({icon:"error",title:"Oops...",text:"Charge Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded&&(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t){F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{const e=await z.Z.post("/insert_wordOrderPlanningMaterial.php",Ue);"SUCCESS"===e.data.status&&(F().close(),F().fire({title:"Material Request!",customClass:{container:"swalcontainercustom"},text:e.data.message,icon:"success",confirmButtonText:"OK"}).then((e=>{d([...c,Ue]),Te(a,me),e.isConfirmed&&(Ge(),st())})))}catch(s){console.error("Error posting form data:",s)}}},children:"Save"})]})]})]})}),(0,ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,ae.jsx)(f.Z,{type:"button",className:"tabAddButton",onClick:()=>{w(!0),qe(Ye)},children:"+ Add Material"})})]})})},ce="data:image/png;base64,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",de=e=>{let{onRowClick:t,data:s}=e,a=localStorage.getItem("site_ID"),i=localStorage.getItem("emp_mst_login_id");const[o,n]=l.useState([]),[c,d]=l.useState([]),[m,p]=l.useState([]),[j,w]=(0,l.useState)(!1),v=()=>{w(!1),Ye()},[y,C]=(0,l.useState)(!1),[b,S]=(0,l.useState)([]),[N,O]=(0,l.useState)([]),[M,R]=(0,l.useState)(""),[E,B]=(0,l.useState)([]),[H,T]=(0,l.useState)([]),[P,U]=(0,l.useState)([]),[q,G]=(0,l.useState)([]),[ee,te]=(0,l.useState)("0"),[se,le]=(0,l.useState)("0"),[ie,oe]=(0,l.useState)([]),[re,ne]=(0,l.useState)([]),[de,me]=(0,l.useState)([]),[ue,pe]=(0,l.useState)([]),xe=(0,A.TH)(),[_e,he]=(0,l.useState)(""),[ge,je]=(0,l.useState)(s.RowID),[we,ve]=(0,l.useState)(s.WorkOrderNo),[ye,Ce]=(0,l.useState)(s.selected_Charge_Cost_Center),[be,fe]=(0,l.useState)(s.Asset_No?s.Asset_No.split(" : ")[0]:""),[ke,Ze]=(0,l.useState)(""),[Se,Ae]=(0,l.useState)(""),[De,Ne]=(0,l.useState)(""),[Ie,Oe]=(0,l.useState)(""),[Me,We]=(0,l.useState)(""),[Re,Ee]=(0,l.useState)(""),[ze,Be]=(0,l.useState)(""),[Fe,He]=(0,l.useState)([]),[Te,Pe]=(0,l.useState)(!1),[Le,Ue]=(0,l.useState)("");(0,l.useEffect)((()=>{qe(a,ge)}),[xe]);const qe=async(e,t)=>{F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{const s=await z.Z.get("/get_workordermaster_specialorder.php?site_cd=".concat(e,"&RowID=").concat(t));"SUCCESS"===s.data.status?(n(s.data.data.header),d(s.data.data.result),F().close()):F().fire({icon:"error",title:"Oops...",text:s.data.message})}catch(s){console.error("Error fetching data:",s),F().fire({icon:"error",title:"Oops get_sitecode...",text:s})}},Ge=e=>{fe(e.wko_ls3_assetno),S(e.wko_ls3_rec_supplier),R(e.wko_ls3_descr),B(e.wko_ls3_tax_cd),U(e.wko_ls3_mtl_uom),te(e.wko_ls3_qty_needed),le(e.wko_ls3_item_cost),oe(e.wko_ls3_chg_costcenter),me(e.wko_ls3_chg_account),Ze(e.wko_ls3_pr_no),Ae(e.wko_ls3_pr_lineno),Ne(e.pur_mst_purq_approve),Oe(e.pur_ls1_po_no),We(e.pur_ls1_po_lineno),Ee(e.wko_ls3_po_no),Be(e.wko_ls3_po_lineno),C(!0)},Ye=()=>{O(""),R(""),T(""),G(""),te(""),le(""),ne(""),pe("")},[Qe,Ve]=(0,l.useState)([{pur_ls1_po_lineno:null,pur_ls1_po_no:null,mtr_mst_wo_no:we,mtr_mst_assetno:be,emp_mst_login_id:i,pur_mst_purq_approve:"W",wko_ls3_pr_lineno:"1",wko_ls3_pr_no:"PR100002",site_cd:a,mst_RowID:ge,selectedSupplier:"",setDescription:"",selectedTaxCode:"",selectedUOM:"",setQtyNeeded:"",setItemCost:"",selectedCostCenter:"",selectedChargeAccount:""}]),Ke=e=>{const t=[...Qe];void 0!==e?t.splice(e,1):t.splice(1,t.length),Ve(t)},Xe=Qe.map((e=>({...e,selectedSupplier:"",setDescription:"",selectedTaxCode:"",selectedUOM:"",setQtyNeeded:"",setItemCost:"",selectedCostCenter:"",selectedChargeAccount:""}))),Je=async(e,t,s)=>{const a=[...Qe];"setQtyNeeded"==t?(a[e][t]=s,Ve(a),te(s)):(a[e][t]=s,Ve(a)),"selectedSupplier"==t?O(s):"setDescription"==t?R(s):"selectedTaxCode"==t?T(s):"selectedUOM"==t?G(s):"selectedTaxCode"==t?T(s):"setItemCost"==t?le(s):"selectedCostCenter"==t?ne(s):"selectedChargeAccount"==t&&pe(s)},$e=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=supplier")).data.data.supplier.map((e=>({label:e.sup_mst_supplier_cd+" : "+e.sup_mst_desc,value:e.sup_mst_supplier_cd})));S(e)}catch(e){console.error(e)}},et=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=ITM_Tax_Code")).data.data.ITM_Tax_Code.map((e=>({label:e.tax_mst_tax_cd+" : "+e.tax_mst_desc,value:e.tax_mst_tax_cd})));B(e)}catch(e){console.error(e)}},tt=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=ITM_Issue_UOM")).data.data.ITM_Issue_UOM.map((e=>({label:e.uom_mst_uom+" : "+e.uom_mst_desc,value:e.uom_mst_uom})));U(e)}catch(e){console.error(e)}},st=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=CostCenter")).data.data.CostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.costcenter})));oe(e)}catch(e){console.error(e)}},at=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=WKO_Labor_Account")).data.data.WKO_Labor_Account.map((e=>({label:e.account+" : "+e.descs,value:e.account})));me(e)}catch(e){console.error(e)}},lt=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls3_qty_needed)||0)),0),it=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls3_qty_needed)||0)*(parseFloat(t.wko_ls3_item_cost)||0)),0);return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{style:{paddingBottom:"20px",backgroundColor:"white"},children:(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px"},children:(0,ae.jsx)("img",{src:ce,style:{width:"50px",height:"50px"}})}),(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",flexDirection:"column"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px",fontWeight:"bold"},children:"Special Order"}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("span",{style:{color:"blue"},children:(1*lt).toFixed(2)})," ","Total Parts Costing"," ",(0,ae.jsxs)("span",{style:{color:"#19d895"},children:["$",it.toFixed(2)]})]})]})]})}),(0,ae.jsx)("div",{className:"table-responsive",children:(0,ae.jsx)(V.Z,{component:K.Z,children:(0,ae.jsxs)(X.Z,{children:[(0,ae.jsx)(J.Z,{children:(0,ae.jsx)(Q.Z,{children:(()=>{const e={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Y.Z,{},"select"),Object.keys(o).map((t=>(0,ae.jsx)(Y.Z,{style:e,children:t},t)))]})})()})}),(0,ae.jsx)($.Z,{children:c.map(((e,t)=>(0,ae.jsxs)(Q.Z,{onClick:t=>Ge(e,t),children:[(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:t+1}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls3_rec_supplier}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls3_descr}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls3_mtl_uom}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls3_qty_needed}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls3_item_cost}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"}}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:(0,ae.jsx)("span",{style:{backgroundColor:"W"===e.pur_mst_purq_approve?"#FF6258":"A"===e.pur_mst_purq_approve?"#19D895":"D"===e.pur_mst_purq_approve?"#2196F3":null,color:"white",padding:"5px",borderRadius:"5px",fontSize:"13px",fontWeight:"bold"},children:"W"===e.pur_mst_purq_approve?"Awaiting (W)":"A"===e.pur_mst_purq_approve?"Approve (A)":"D"===e.pur_mst_purq_approve?"Disapprove (D)":e.pur_mst_purq_approve})})]},t)))})]})})}),(0,ae.jsx)("div",{children:(0,ae.jsxs)(x.Z,{onClose:v,"aria-labelledby":"customized-dialog-title",open:j,maxWidth:"lg",fullWidth:!0,disableBackdropClick:!0,sx:{width:"50vw",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},children:[(0,ae.jsxs)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:[(0,ae.jsx)("img",{src:ce,style:{width:"30px",height:"30px",marginRight:"2px"}}),"Special Order (PR)"]}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:v,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{width:"100%",marginTop:"15px"},children:(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"col-sm-12 WrkOdrMtb",children:Qe.map(((e,t)=>{const{selectedSupplier:s,setDescription:a,selectedTaxCode:l,selectedUOM:i,setQtyNeeded:o,setItemCost:n,selectedCostCenter:c,selectedChargeAccount:d}=e;return(0,ae.jsxs)("div",{className:"row my-3 tb",children:[(0,ae.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,ae.jsx)(Z.Z,{item:!0,xs:6,children:(0,ae.jsxs)(D.Z,{style:{color:"#2196f3",textDecoration:"underline",fontWeight:600,fontSize:16},children:["Line ",t+1]})}),(0,ae.jsx)(Z.Z,{item:!0,xs:6,sx:{textAlign:"right"},children:1!==Qe.length&&(0,ae.jsx)(f.Z,{className:"workmarerial_dlt",onClick:()=>Ke(t),children:(0,ae.jsx)(I.G,{icon:W.WA2})})})]}),(0,ae.jsxs)(Z.Z,{container:!0,spacing:1.5,className:"timeCartPopuplabel",children:[(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Supplier:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:b,value:e.selectedSupplier,onChange:(e,s)=>Je(t,"selectedSupplier",s),onOpen:$e,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Description:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",className:"Extrasize",fullWidth:!0,value:""!=e.setDescription?e.setDescription:"",onChange:e=>Je(t,"setDescription",e.target.value)})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Tax Code:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:E,value:e.selectedTaxCode,onChange:(e,s)=>Je(t,"selectedTaxCode",s),onOpen:et,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"UOM:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:P,value:e.selectedUOM,onChange:(e,s)=>Je(t,"selectedUOM",s),onOpen:tt,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Qty Needed:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",type:"number",className:"Extrasize",fullWidth:!0,placeholder:"1.000",onChange:e=>Je(t,"setQtyNeeded",e.target.value),value:o})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Item Cost:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",type:"number",className:"Extrasize",fullWidth:!0,placeholder:"1.000",onChange:e=>Je(t,"setItemCost",e.target.value),value:n})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Cost Center:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:ie,value:e.selectedCostCenter,onChange:(e,s)=>Je(t,"selectedCostCenter",s),onOpen:st,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Account:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:de,value:e.selectedChargeAccount,onChange:(e,s)=>Je(t,"selectedChargeAccount",s),onOpen:at,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})})]})]},t)}))})})})}),(0,ae.jsxs)(g.Z,{style:{display:"flex",justifyContent:"space-between",padding:"10px"},children:[(0,ae.jsx)(f.Z,{variant:"soft",color:"error",className:"CloseButton",startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),onClick:e=>{e.preventDefault(),v()},children:"Close"}),(0,ae.jsxs)("div",{className:"timeCartSubmit",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(f.Z,{variant:"contained",className:"AddNewButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:add-line"}),style:{marginRight:"10px"},onClick:e=>{e.preventDefault();let t=!0;Qe.forEach((e=>{""===e.selectedSupplier?(F().fire({icon:"error",title:"Oops...",text:"Supplier is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setDescription.trim()?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedTaxCode?(F().fire({icon:"error",title:"Oops...",text:"Tax Code is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedUOM?(F().fire({icon:"error",title:"Oops...",text:"UOM is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded.trim()?(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setItemCost.trim()?(F().fire({icon:"error",title:"Oops...",text:"Item Cost is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedChargeAccount&&(F().fire({icon:"error",title:"Oops...",text:"Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t&&Ve([...Qe,{pur_ls1_po_lineno:null,pur_ls1_po_no:null,mtr_mst_wo_no:we,mtr_mst_assetno:be,emp_mst_login_id:i,pur_mst_purq_approve:"W",wko_ls3_pr_lineno:"1",wko_ls3_pr_no:"PR100002",site_cd:a,mst_RowID:ge,selectedSupplier:"",setDescription:"",selectedTaxCode:"",selectedUOM:"",setQtyNeeded:"",setItemCost:"",selectedCostCenter:"",selectedChargeAccount:""}])},children:"Add"}),(0,ae.jsx)(f.Z,{variant:"contained",className:"SaveButton assetSpares",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},onClick:async e=>{e.preventDefault();let t=!0;if(Qe.forEach((e=>{""===e.selectedSupplier?(F().fire({icon:"error",title:"Oops...",text:"Supplier is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setDescription.trim()?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedTaxCode?(F().fire({icon:"error",title:"Oops...",text:"Tax Code is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedUOM?(F().fire({icon:"error",title:"Oops...",text:"UOM is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded.trim()?(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setItemCost.trim()?(F().fire({icon:"error",title:"Oops...",text:"Item Cost is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedChargeAccount&&(F().fire({icon:"error",title:"Oops...",text:"Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t){F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{const e=await z.Z.post("/inser_workOrderSpecialOrder.php",Qe);console.log("API Response_speccial:",e),"SUCCESS"===e.data.status&&(F().close(),F().fire({title:"Special Order Request!",customClass:{container:"swalcontainercustom"},text:e.data.message,icon:"success",confirmButtonText:"OK"}).then((e=>{d([...c,Qe]),qe(a,ge),e.isConfirmed&&(Ke(),v())})))}catch(s){console.error("Error posting form data:",s)}}},children:"Save"})]})]})]})}),(0,ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,ae.jsx)(f.Z,{type:"button",className:"tabAddButton",onClick:()=>{w(!0),Ve(Xe)},children:"+ Add Special Order"})})]})})},me="data:image/png;base64,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",ue=e=>{let{onRowClick:t,data:s}=e,a=localStorage.getItem("site_ID"),i=localStorage.getItem("emp_mst_login_id");const[o,n]=l.useState([]),[c,d]=l.useState([]),[m,p]=l.useState([]),[j,w]=(0,l.useState)(!1),v=()=>{w(!1),Ve()},[y,C]=(0,l.useState)(!1),[b,S]=(0,l.useState)([]),[N,O]=(0,l.useState)([]),[M,R]=(0,l.useState)(""),[E,B]=(0,l.useState)([]),[H,T]=(0,l.useState)([]),[P,U]=(0,l.useState)([]),[q,G]=(0,l.useState)([]),[ee,te]=(0,l.useState)("0"),[se,le]=(0,l.useState)("0"),[ie,oe]=(0,l.useState)([]),[re,ne]=(0,l.useState)([]),[ce,de]=(0,l.useState)([]),[ue,pe]=(0,l.useState)([]),xe=(0,A.TH)(),[_e,he]=(0,l.useState)(""),[ge,je]=(0,l.useState)(s.RowID),[we,ve]=(0,l.useState)(""),[ye,Ce]=(0,l.useState)(""),[be,fe]=(0,l.useState)(""),[ke,Ze]=(0,l.useState)(""),[Se,Ae]=(0,l.useState)(""),[De,Ne]=(0,l.useState)(""),[Ie,Oe]=(0,l.useState)(""),[Me,We]=(0,l.useState)(""),[Re,Ee]=(0,l.useState)(""),[ze,Be]=(0,l.useState)(s.WorkOrderNo),[Fe,He]=(0,l.useState)(s.Asset_No?s.Asset_No.split(" : ")[0]:""),[Te,Pe]=(0,l.useState)([]),[Le,Ue]=(0,l.useState)(!1),[qe,Ge]=(0,l.useState)("");(0,l.useEffect)((()=>{Ye(a,ge)}),[xe]);const Ye=async(e,t)=>{F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{const s=await z.Z.get("/get_workordermaster_outsourcecontract.php?site_cd=".concat(e,"&RowID=").concat(t));"SUCCESS"===s.data.status?(n(s.data.data.header),d(s.data.data.result),F().close()):F().fire({icon:"error",title:"Oops...",text:s.data.message})}catch(s){console.error("Error fetching data:",s),F().fire({icon:"error",title:"Oops get_sitecode...",text:s})}},Qe=e=>{ve(e.wko_ls4_assetno),S(e.wko_ls4_supplier),R(e.wko_ls4_descr),B(e.wko_ls4_tax_cd),U(e.wko_ls4_svc_uom),te(e.wko_ls4_qty_needed),le(e.wko_ls4_est_cost),oe(e.wko_ls4_chg_costcenter),de(e.wko_ls4_chg_account),fe(e.wko_ls4_pr_no),Ze(e.wko_ls4_pr_lineno),Ae(e.pur_mst_purq_approve),Oe(e.pur_ls1_po_no),Oe(e.pur_ls1_po_lineno),We(e.wko_ls4_po_no),Ee(e.wko_ls4_po_lineno),C(!0)},Ve=()=>{O(0),R(""),T(0),G(0),te(""),le(""),ne(0),pe(0)},[Ke,Xe]=(0,l.useState)([{mst_RowID:ge,emp_mst_login_id:i,mtr_mst_wo_no:ze,pur_ls1_po_lineno:null,pur_ls1_po_no:null,pur_mst_purq_approve:"W",site_cd:a,wko_ls4_assetno:Fe,wko_ls4_po_lineno:null,wko_ls4_po_no:null,wko_ls4_pr_lineno:"1",wko_ls4_pr_no:"PR100004",selectedSupplier:"",setDescription:"",selectedTaxCode:"",selectedUOM:"",setQtyNeeded:"",setEstimateCost:"",selectedCostCenter:"",selectedChargeAccount:""}]),Je=e=>{const t=[...Ke];void 0!==e?t.splice(e,1):t.splice(1,t.length),Xe(t)},$e=Ke.map((e=>({...e,selectedSupplier:"",setDescription:"",selectedTaxCode:"",selectedUOM:"",setQtyNeeded:"",setEstimateCost:"",selectedCostCenter:"",selectedChargeAccount:""}))),et=async(e,t,s)=>{const a=[...Ke];"setQtyNeeded"==t?(a[e][t]=s,Xe(a),te(s)):(a[e][t]=s,Xe(a)),"selectedSupplier"==t?O(s):"setDescription"==t?R(s):"selectedTaxCode"==t?T(s):"selectedUOM"==t?G(s):"selectedTaxCode"==t?T(s):"setEstimateCost"==t?le(s):"selectedCostCenter"==t?ne(s):"selectedChargeAccount"==t&&pe(s)},tt=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=supplier")).data.data.supplier.map((e=>({label:e.sup_mst_supplier_cd+" : "+e.sup_mst_desc,value:e.sup_mst_supplier_cd})));S(e)}catch(e){console.error(e)}},st=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=ITM_Tax_Code")).data.data.ITM_Tax_Code.map((e=>({label:e.tax_mst_tax_cd+" : "+e.tax_mst_desc,value:e.tax_mst_tax_cd})));B(e)}catch(e){console.error(e)}},at=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=ITM_Issue_UOM")).data.data.ITM_Issue_UOM.map((e=>({label:e.uom_mst_uom+" : "+e.uom_mst_desc,value:e.uom_mst_uom})));U(e)}catch(e){console.error(e)}},lt=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=CostCenter")).data.data.CostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.costcenter})));oe(e)}catch(e){console.error(e)}},it=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=WKO_Labor_Account")).data.data.WKO_Labor_Account.map((e=>({label:e.account+" : "+e.descs,value:e.account})));de(e)}catch(e){console.error(e)}},ot=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls4_qty_needed)||0)),0),rt=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls4_qty_needed)||0)*(parseFloat(t.wko_ls4_est_cost)||0)),0);return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{style:{paddingBottom:"20px",backgroundColor:"white"},children:(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px"},children:(0,ae.jsx)("img",{src:me,style:{width:"50px",height:"50px"}})}),(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",flexDirection:"column"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px",fontWeight:"bold"},children:"Outsource Contract (PR)"}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("span",{style:{color:"blue"},children:(1*ot).toFixed(2)})," ","Total Parts Costing"," ",(0,ae.jsxs)("span",{style:{color:"#19d895"},children:["$",rt.toFixed(2)]})]})]})]})}),(0,ae.jsx)("div",{className:"table-responsive",children:(0,ae.jsx)(V.Z,{component:K.Z,children:(0,ae.jsxs)(X.Z,{children:[(0,ae.jsx)(J.Z,{children:(0,ae.jsx)(Q.Z,{children:(()=>{const e={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Y.Z,{},"select"),Object.keys(o).map((t=>(0,ae.jsx)(Y.Z,{style:e,children:t},t)))]})})()})}),(0,ae.jsx)($.Z,{children:c.map(((e,t)=>(0,ae.jsxs)(Q.Z,{onClick:t=>Qe(e,t),children:[(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:t+1}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_supplier}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_descr}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_tax_cd}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_svc_uom}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_qty_needed}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_est_cost}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_chg_costcenter}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls4_chg_account}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:(0,ae.jsx)("span",{style:{backgroundColor:"W"===e.pur_mst_purq_approve?"#FF6258":"A"===e.pur_mst_purq_approve?"#19D895":"D"===e.pur_mst_purq_approve?"#2196F3":null,color:"white",padding:"5px",borderRadius:"5px",fontSize:"13px",fontWeight:"bold"},children:"W"===e.pur_mst_purq_approve?"Awaiting (W)":"A"===e.pur_mst_purq_approve?"Approve (A)":"D"===e.pur_mst_purq_approve?"Disapprove (D)":e.pur_mst_purq_approve})})]},t)))})]})})}),(0,ae.jsx)("div",{children:(0,ae.jsxs)(x.Z,{onClose:v,"aria-labelledby":"customized-dialog-title",open:j,maxWidth:"lg",fullWidth:!0,disableBackdropClick:!0,sx:{width:"50vw",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},children:[(0,ae.jsxs)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:[(0,ae.jsx)("img",{src:me,style:{width:"30px",height:"30px",marginRight:"2px"}}),"Outsource Contract (PR)"]}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:v,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{width:"100%",marginTop:"15px"},children:(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"col-sm-12 WrkOdrMtb",children:Ke.map(((e,t)=>{const{selectedSupplier:s,setDescription:a,selectedTaxCode:l,selectedUOM:i,setQtyNeeded:o,setEstimateCost:n,selectedCostCenter:c,selectedChargeAccount:d}=e;return(0,ae.jsxs)("div",{className:"row my-3 tb",children:[(0,ae.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,ae.jsx)(Z.Z,{item:!0,xs:6,children:(0,ae.jsxs)(D.Z,{style:{color:"#2196f3",textDecoration:"underline",fontWeight:600,fontSize:16},children:["Line ",t+1]})}),(0,ae.jsx)(Z.Z,{item:!0,xs:6,sx:{textAlign:"right"},children:1!==Ke.length&&(0,ae.jsx)(f.Z,{className:"workmarerial_dlt",onClick:()=>Je(t),children:(0,ae.jsx)(I.G,{icon:W.WA2})})})]}),(0,ae.jsxs)(Z.Z,{container:!0,spacing:1.5,className:"timeCartPopuplabel",children:[(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Supplier:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:b,value:e.selectedSupplier,onChange:(e,s)=>et(t,"selectedSupplier",s),onOpen:tt,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Description:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",className:"Extrasize",fullWidth:!0,value:""!=e.setDescription?e.setDescription:"",onChange:e=>et(t,"setDescription",e.target.value)})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Tax Code:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:E,value:e.selectedTaxCode,onChange:(e,s)=>et(t,"selectedTaxCode",s),onOpen:st,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"UOM:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:P,value:e.selectedUOM,onChange:(e,s)=>et(t,"selectedUOM",s),onOpen:at,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Qty Needed:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",type:"number",inputProps:{maxLength:11},className:"Extrasize",fullWidth:!0,placeholder:"1.000",onChange:e=>et(t,"setQtyNeeded",e.target.value),value:o})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Estimate Cost:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",type:"number",className:"Extrasize",fullWidth:!0,placeholder:"1.000",onChange:e=>et(t,"setEstimateCost",e.target.value),value:n})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Cost Center:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:ie,value:e.selectedCostCenter,onChange:(e,s)=>et(t,"selectedCostCenter",s),onOpen:lt,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Account:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:ce,value:e.selectedChargeAccount,onChange:(e,s)=>et(t,"selectedChargeAccount",s),onOpen:it,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})})]})]},t)}))})})})}),(0,ae.jsxs)(g.Z,{style:{display:"flex",justifyContent:"space-between",padding:"10px"},children:[(0,ae.jsx)(f.Z,{variant:"soft",color:"error",className:"CloseButton",startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),onClick:e=>{e.preventDefault(),v()},children:"Close"}),(0,ae.jsxs)("div",{className:"timeCartSubmit",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(f.Z,{variant:"contained",className:"AddNewButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:add-line"}),onClick:e=>{e.preventDefault();let t=!0;Ke.forEach((e=>{""===e.selectedSupplier?(F().fire({icon:"error",title:"Oops...",text:"Supplier is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setDescription.trim()?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedTaxCode?(F().fire({icon:"error",title:"Oops...",text:"Tax Code is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedUOM?(F().fire({icon:"error",title:"Oops...",text:"UOM is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded.trim()?(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setEstimateCost.trim()?(F().fire({icon:"error",title:"Oops...",text:"Estimate Cost is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedChargeAccount&&(F().fire({icon:"error",title:"Oops...",text:"Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t&&Xe([...Ke,{mst_RowID:ge,mtr_mst_wo_no:ze,emp_mst_login_id:i,pur_ls1_po_lineno:null,pur_ls1_po_no:null,pur_mst_purq_approve:"W",site_cd:a,wko_ls4_assetno:Fe,wko_ls4_po_lineno:null,wko_ls4_po_no:null,wko_ls4_pr_lineno:"1",wko_ls4_pr_no:"PR100004",selectedSupplier:"",setDescription:"",selectedTaxCode:"",selectedUOM:"",setQtyNeeded:"",setEstimateCost:"",selectedCostCenter:"",selectedChargeAccount:""}])},style:{marginRight:"10px"},children:"Add"}),(0,ae.jsx)(f.Z,{variant:"contained",className:"SaveButton assetSpares",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},onClick:async e=>{e.preventDefault();let t=!0;if(Ke.forEach((e=>{""===e.selectedSupplier?(F().fire({icon:"error",title:"Oops...",text:"Supplier is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setDescription.trim()?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedTaxCode?(F().fire({icon:"error",title:"Oops...",text:"Tax Code is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedUOM?(F().fire({icon:"error",title:"Oops...",text:"UOM is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded.trim()?(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setEstimateCost.trim()?(F().fire({icon:"error",title:"Oops...",text:"Estimate Cost is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedChargeAccount&&(F().fire({icon:"error",title:"Oops...",text:"Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t){F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading(),console.log("inputFields____btn_submit",Ke);try{const e=await z.Z.post("/inser_workOrderContract.php",Ke);console.log("API Response_Contract:",e),"SUCCESS"===e.data.status&&(F().close(),F().fire({title:"Outsource Contract Request!",customClass:{container:"swalcontainercustom"},text:e.data.message,icon:"success",confirmButtonText:"OK"}).then((e=>{d([...c,Ke]),Ye(a,ge),e.isConfirmed&&(Je(),v())})))}catch(s){console.error("Error posting form data:",s)}}},children:"Save"})]})]})]})}),(0,ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,ae.jsx)(f.Z,{type:"button",className:"tabAddButton",onClick:()=>{w(!0),Xe($e)},children:"+ Add Outsource Contract (PR)"})})]})})},pe="data:image/png;base64,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";var xe=s(24750),_e=s(71652),he=s(53106),ge=s(97892),je=s.n(ge);const we=e=>{let{onRowClick:t,data:s}=e,a=localStorage.getItem("site_ID"),i=localStorage.getItem("emp_mst_login_id");const[o,n]=l.useState([]),[c,d]=l.useState([]),[m,p]=l.useState([]),[j,w]=(0,l.useState)(!1),v=()=>{w(!1),qe()},[y,C]=(0,l.useState)(!1),[b,S]=(0,l.useState)(""),[N,O]=(je()().format("DD/MM/YYYY"),(0,l.useState)((()=>je()().format("YYYY-MM-DD")))),[M,R]=(0,l.useState)([]),[E,B]=(0,l.useState)([]),[H,T]=(0,l.useState)("0"),[P,U]=(0,l.useState)("0"),[q,G]=(0,l.useState)([]),[ee,te]=(0,l.useState)([]),[se,le]=(0,l.useState)([]),[ie,oe]=(0,l.useState)([]),[re,ne]=(0,l.useState)([]),[ce,de]=(0,l.useState)([]),me=(0,A.TH)(),[ue,ge]=(0,l.useState)(""),[we,ve]=(0,l.useState)(s.RowID),[ye,Ce]=(0,l.useState)(""),[be,fe]=(0,l.useState)(""),[ke,Ze]=(0,l.useState)(""),[Se,Ae]=(0,l.useState)(""),[De,Ne]=(0,l.useState)(""),[Ie,Oe]=(0,l.useState)(""),[Me,We]=(0,l.useState)(""),[Re,Ee]=(0,l.useState)(""),[ze,Be]=(0,l.useState)(""),[Fe,He]=(0,l.useState)(s.WorkOrderNo),[Te,Pe]=(0,l.useState)(s.Asset_No?s.Asset_No.split(" : ")[0]:"");(0,l.useEffect)((()=>{Le(a,we)}),[me]);const Le=async(e,t)=>{F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{const s=await z.Z.get("/get_workordermaster_misc.php?site_cd=".concat(e,"&RowID=").concat(t));"SUCCESS"===s.data.status?(n(s.data.data.header),d(s.data.data.result),F().close()):F().fire({icon:"error",title:"Oops...",text:s.data.message})}catch(s){console.error("Error fetching data:",s),F().fire({icon:"error",title:"Oops get_sitecode...",text:s})}},Ue=e=>{Ce(e.wko_ls4_assetno),S(e.wko_ls4_descr),ne(e.wko_ls4_tax_cd),R(e.wko_ls4_svc_uom),T(e.wko_ls4_qty_needed),G(e.wko_ls4_chg_costcenter),le(e.wko_ls4_chg_account),Ze(e.wko_ls4_pr_no),Ae(e.wko_ls4_pr_lineno),Ne(e.pur_mst_purq_approve),We(e.pur_ls1_po_no),We(e.pur_ls1_po_lineno),Ee(e.wko_ls4_po_no),Be(e.wko_ls4_po_lineno),C(!0)},qe=()=>{S(""),O(""),B(""),T(""),U(""),te(0),oe(0)},[Ge,Ye]=(0,l.useState)([{mst_RowID:we,emp_mst_login_id:i,mtr_mst_wo_no:Fe,site_cd:a,wko_ls4_assetno:Te,setDescription:"",setMiscDate:N,selectedUOM:"",setQtyNeeded:"",setItemCost:"",selectedCostCenter:"",selectedChargeAccount:""}]),Qe=e=>{const t=[...Ge];void 0!==e?t.splice(e,1):t.splice(1,t.length),Ye(t)},Ve=Ge.map((e=>({...e,setDescription:"",selectedUOM:"",setQtyNeeded:"",setMiscDate:"",setItemCost:"",selectedCostCenter:"",selectedChargeAccount:""}))),Ke=async(e,t,s)=>{const a=[...Ge];"setQtyNeeded"==t?(a[e][t]=s,Ye(a),T(s)):(a[e][t]=s,Ye(a)),"setDescription"==t?S(s):"setMiscDate"==t?O(s):"selectedUOM"==t||"selectedUOM"==t?B(s):"setItemCost"==t?U(s):"selectedTaxCode"==t?de(s):"selectedCostCenter"==t?te(s):"selectedChargeAccount"==t&&oe(s)},Xe=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=ITM_Issue_UOM")).data.data.ITM_Issue_UOM.map((e=>({label:e.uom_mst_uom+" : "+e.uom_mst_desc,value:e.uom_mst_uom})));R(e)}catch(e){console.error(e)}},Je=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=CostCenter")).data.data.CostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.costcenter})));G(e)}catch(e){console.error(e)}},$e=async()=>{try{let e=(await z.Z.get("/get_dropdown.php?site_cd="+a+"&type=WKO_Labor_Account")).data.data.WKO_Labor_Account.map((e=>({label:e.account+" : "+e.descs,value:e.account})));le(e)}catch(e){console.error(e)}},et=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls5_qty)||0)),0),tt=c.reduce(((e,t)=>e+(parseFloat(t.wko_ls5_qty)||0)*(parseFloat(t.wko_ls5_item_cost)||0)),0);return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{style:{paddingBottom:"20px",backgroundColor:"white"},children:(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px"},children:(0,ae.jsx)("img",{src:pe,style:{width:"50px",height:"50px"}})}),(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",flexDirection:"column"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px",fontWeight:"bold"},children:"Misc"}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("span",{style:{color:"blue"},children:(1*et).toFixed(2)})," ","Total Parts Costing"," ",(0,ae.jsxs)("span",{style:{color:"#19d895"},children:["$",tt.toFixed(2)]})]})]})]})}),(0,ae.jsx)("div",{className:"table-responsive",children:(0,ae.jsx)(V.Z,{component:K.Z,children:(0,ae.jsxs)(X.Z,{children:[(0,ae.jsx)(J.Z,{children:(0,ae.jsx)(Q.Z,{children:(()=>{const e={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Y.Z,{},"select"),Object.keys(o).map((t=>(0,ae.jsx)(Y.Z,{style:e,children:t},t)))]})})()})}),(0,ae.jsx)($.Z,{children:c.map(((e,t)=>(0,ae.jsxs)(Q.Z,{onClick:t=>Ue(e,t),children:[(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:t+1}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_assetno}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_desc}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_date&&e.wko_ls5_date.date?e.wko_ls5_date.date.substring(0,10):""}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_uom}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_qty}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_item_cost}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_est_amt}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_costcenter}),(0,ae.jsx)(Y.Z,{style:{padding:"5px",textAlign:"center"},children:e.wko_ls5_account})]},t)))})]})})}),(0,ae.jsx)("div",{children:(0,ae.jsxs)(x.Z,{onClose:v,"aria-labelledby":"customized-dialog-title",open:j,maxWidth:"lg",fullWidth:!0,disableBackdropClick:!0,sx:{width:"50vw",marginLeft:"auto",marginRight:"auto",marginTop:"20px"},children:[(0,ae.jsxs)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:[(0,ae.jsx)("img",{src:pe,style:{width:"30px",height:"30px",marginRight:"2px"}}),"Misc"]}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:v,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{width:"100%",marginTop:"15px"},children:(0,ae.jsx)("div",{className:"row",children:(0,ae.jsx)("div",{className:"col-sm-12 WrkOdrMtb",children:Ge.map(((e,t)=>{const{setDescription:s,setMiscDate:a,selectedUOM:l,setQtyNeeded:i,setItemCost:o,selectedCostCenter:n,selectedChargeAccount:c}=e;return(0,ae.jsxs)("div",{className:"row my-3 tb",children:[(0,ae.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,ae.jsx)(Z.Z,{item:!0,xs:6,children:(0,ae.jsxs)(D.Z,{style:{color:"#2196f3",textDecoration:"underline",fontWeight:600,fontSize:16},children:["Line ",t+1]})}),(0,ae.jsx)(Z.Z,{item:!0,xs:6,sx:{textAlign:"right"},children:1!==Ge.length&&(0,ae.jsx)(f.Z,{className:"workmarerial_dlt",onClick:()=>Qe(t),children:(0,ae.jsx)(I.G,{icon:W.WA2})})})]}),(0,ae.jsxs)(Z.Z,{container:!0,spacing:1.5,className:"timeCartPopuplabel",children:[(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Description:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",className:"Extrasize",fullWidth:!0,value:""!=e.setDescription?e.setDescription:"",onChange:e=>Ke(t,"setDescription",e.target.value)})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Date:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,className:"customInputDate",children:(0,ae.jsx)(_e._,{dateAdapter:xe.y,children:(0,ae.jsx)(he.M,{value:je()(a,"YYYY-MM-DD"),onChange:e=>((e,t)=>{const s=[...Ge];s[t].setMiscDate=e.format("YYYY-MM-DD"),Ye(s)})(e,t),sx:{width:"100%",padding:"20px",padding:"0px",border:"1px solid #d0d0d0",borderRadius:"8px"}})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"UOM:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:M,value:e.selectedUOM,onChange:(e,s)=>Ke(t,"selectedUOM",s),onOpen:Xe,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Quantity:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",type:"number",className:"Extrasize",fullWidth:!0,placeholder:"1.000",onChange:e=>Ke(t,"setQtyNeeded",e.target.value),value:i})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Item Cost:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",type:"number",className:"Extrasize",fullWidth:!0,placeholder:"1.000",onChange:e=>Ke(t,"setItemCost",e.target.value),value:o})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Cost Center:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:q,value:e.selectedCostCenter,onChange:(e,s)=>Ke(t,"selectedCostCenter",s),onOpen:Je,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:4,style:{padding:"10px"},children:(0,ae.jsx)("label",{children:"Account:"})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,ae.jsx)(r.Z,{options:se,value:e.selectedChargeAccount,onChange:(e,s)=>Ke(t,"selectedChargeAccount",s),onOpen:$e,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})})]})]},t)}))})})})}),(0,ae.jsxs)(g.Z,{style:{display:"flex",justifyContent:"space-between",padding:"10px"},children:[(0,ae.jsx)(f.Z,{variant:"soft",color:"error",className:"CloseButton",startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),onClick:e=>{e.preventDefault(),v()},children:"Close"}),(0,ae.jsxs)("div",{className:"timeCartSubmit",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(f.Z,{variant:"contained",className:"AddNewButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:add-line"}),onClick:e=>{e.preventDefault();let t=!0;Ge.forEach((e=>{""===e.setDescription?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedUOM?(F().fire({icon:"error",title:"Oops...",text:"UOM is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded.trim()?(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setItemCost.trim()?(F().fire({icon:"error",title:"Oops...",text:"Item Cost is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedChargeAccount&&(F().fire({icon:"error",title:"Oops...",text:"Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t&&Ye([...Ge,{mst_RowID:we,emp_mst_login_id:i,mtr_mst_wo_no:Fe,site_cd:a,wko_ls4_assetno:Te,setDescription:"",setMiscDate:"",selectedUOM:"",setQtyNeeded:"",setItemCost:"",selectedCostCenter:"",selectedChargeAccount:""}])},style:{marginRight:"10px"},children:"Add"}),(0,ae.jsx)(f.Z,{variant:"contained",className:"SaveButton assetSpares",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},onClick:async e=>{e.preventDefault();let t=!0;if(Ge.forEach((e=>{""===e.setDescription.trim()?(F().fire({icon:"error",title:"Oops...",text:"Description is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedUOM?(F().fire({icon:"error",title:"Oops...",text:"UOM is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setQtyNeeded.trim()?(F().fire({icon:"error",title:"Oops...",text:"Qty Needed is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.setItemCost.trim()?(F().fire({icon:"error",title:"Oops...",text:"Item Cost is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedCostCenter?(F().fire({icon:"error",title:"Oops...",text:"Cost Center is Required!",customClass:{container:"swalcontainercustom"}}),t=!1):""===e.selectedChargeAccount&&(F().fire({icon:"error",title:"Oops...",text:"Account is Required!",customClass:{container:"swalcontainercustom"}}),t=!1)})),t){F().fire({title:"Please Wait!",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading(),console.log("inputFields____btn_submit",Ge);try{const e=await z.Z.post("/insert_workOrderMisc.php",Ge);console.log("API Response_Misc:",e),"SUCCESS"===e.data.status&&(F().close(),F().fire({title:"Misc Request!",customClass:{container:"swalcontainercustom"},text:e.data.message,icon:"success",confirmButtonText:"OK"}).then((e=>{d([...c,Ge]),Le(a,we),e.isConfirmed&&(Qe(),v())})))}catch(s){console.error("Error posting form data:",s)}}},children:"Save"})]})]})]})}),(0,ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,ae.jsx)(f.Z,{type:"button",className:"tabAddButton",onClick:()=>{w(!0),Ye(Ve)},children:"+ Add Misc"})})]})})},ve=e=>{let{data:t}=e;return(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{children:(0,ae.jsx)("div",{className:"card",children:(0,ae.jsx)("div",{className:"card-body",style:{borderRadius:"4px",boxShadow:"2px 2px 15px 2px #f0f0f0"},children:(0,ae.jsx)(ne,{data:t})})})}),(0,ae.jsx)("br",{}),(0,ae.jsx)("br",{}),(0,ae.jsx)("div",{className:"card",children:(0,ae.jsx)("div",{className:"card-body",style:{borderRadius:"4px",boxShadow:"2px 2px 15px 2px #f0f0f0"},children:(0,ae.jsx)(de,{data:t})})}),(0,ae.jsx)("br",{}),(0,ae.jsx)("div",{className:"card",children:(0,ae.jsx)("div",{className:"card-body",style:{borderRadius:"4px",boxShadow:"2px 2px 15px 2px #f0f0f0"},children:(0,ae.jsx)(ue,{data:t})})}),(0,ae.jsx)("div",{children:(0,ae.jsx)("div",{className:"card",children:(0,ae.jsx)("div",{className:"card-body",style:{borderRadius:"4px",boxShadow:"2px 2px 15px 2px #f0f0f0"},children:(0,ae.jsx)(we,{data:t})})})})]})};var ye;T()(F());const Ce=(0,i.ZP)(x.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),be=(0,i.ZP)("div")(ye||(ye=(0,a.Z)(['\n  display: flex;\n  flex-direction: column;\n  margin-top: 40px;\n  position: relative;\n  :before {\n    content: "";\n    position: absolute;\n    background: #4694d1;\n    height: 90%;\n    width: 2px;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 15px;\n  }\n  :after {\n    content: "";\n    position: absolute;\n    background: #f3e7f3;\n    height: ',";\n    width: 2px;\n    top: 45%;\n    transition: 0.4s ease;\n    transform: translateY(-50%);\n    left: 14px;\n  }\n"])),(e=>{let{width:t}=e;return t}));function fe(e){var t,a,i,x,O,B,H,T,Y,Q,V,K,X,J,$,ee,te,se,le,oe,re,ne,ce,de,me,ue;let{currentUser:pe,onPageChange:xe}=e,_e=localStorage.getItem("site_ID"),he=localStorage.getItem("emp_mst_name");const ge=(0,A.TH)(),[je,we]=(new URLSearchParams(ge.search),(0,l.useState)(!1)),[ye,fe]=(0,l.useState)(""),[ke,Ze]=(0,l.useState)("error"),[Se,Ae]=(0,l.useState)(0),De=ge.state||{},{RowID:Ne}=De||{},{currentPage:Ie,selectedOption:Oe}=De,{completeRowID:Me}=ge.state||{},{closeRowID:We}=ge.state||{},[Re,Ee]=(0,l.useState)(!0),[ze,Be]=(0,l.useState)([]),[Fe,He]=(0,l.useState)([]),Te=(0,A.s0)(),Pe=(0,l.useRef)(null),Le=(0,P.K$)(),Ue=new Date,[qe,Ge]=(Ue.toISOString().slice(0,16),(0,l.useState)([])),[Ye,Qe]=(0,l.useState)([]),[Ve,Ke]=(0,l.useState)(Ue),[Xe,Je]=(0,l.useState)([]),[$e,et]=(0,l.useState)([]),[tt,st]=(0,l.useState)(""),[at,lt]=(0,l.useState)(),[it,ot]=(0,l.useState)({preview:"",raw:""}),[rt,nt]=(0,l.useState)([]),[ct,dt]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)({name:"",path:""}),[pt,xt]=(0,l.useState)(""),[_t,ht]=(0,l.useState)(""),[gt,jt]=(0,l.useState)(0),[wt,vt]=(0,l.useState)(!1),[yt,Ct]=(0,l.useState)({}),bt=()=>vt(!1),[ft,kt]=(0,l.useState)(!1),Zt=()=>kt(!1),[St,At]=(0,l.useState)(""),[Dt,Nt]=(0,l.useState)(0),[It,Ot]=(0,l.useState)(""),[Mt,Wt]=(0,l.useState)(0),[Rt,Et]=(0,l.useState)([]),[zt,Bt]=(0,l.useState)([]),[Ft,Ht]=(0,l.useState)([]),[Tt,Pt]=(0,l.useState)([]),[Lt,Ut]=(0,l.useState)([]),[qt,Gt]=(0,l.useState)([]),[Yt,Qt]=(0,l.useState)([]),[Vt,Kt]=(0,l.useState)([]),[Xt,Jt]=(0,l.useState)([]),[$t,es]=(0,l.useState)([]),[ts,ss]=(0,l.useState)([]),[as,ls]=(0,l.useState)([]),[is,os]=(0,l.useState)([]),[rs,ns]=(0,l.useState)([]),[cs,ds]=(0,l.useState)([]),[ms,us]=(0,l.useState)([]),[ps,xs]=(0,l.useState)([]),[_s,hs]=(0,l.useState)([]),[gs,js]=(0,l.useState)([]),[ws,vs]=(0,l.useState)([]),[ys,Cs]=(0,l.useState)([]),[bs,fs]=(0,l.useState)([]),[ks,Zs]=(0,l.useState)([]),[Ss,As]=(0,l.useState)([]),[Ds,Ns]=(0,l.useState)(""),[Is,Os]=(0,l.useState)([]),[Ms,Ws]=(0,l.useState)([]),[Rs,Es]=(0,l.useState)([]),[zs,Bs]=(0,l.useState)([]),[Fs,Hs]=(0,l.useState)([]),[Ts,Ps]=(0,l.useState)([]),[Ls,Us]=(0,l.useState)(""),[qs,Gs]=(0,l.useState)(""),[Ys,Qs]=(0,l.useState)(new Date),[Vs,Ks]=(0,l.useState)(new Date),[Xs,Js]=(0,l.useState)(""),[$s,ea]=(0,l.useState)([]),[ta,sa]=(0,l.useState)([]),[aa,la]=(0,l.useState)(),[ia,oa]=(0,l.useState)([]),[ra,na]=(0,l.useState)(),[ca,da]=(0,l.useState)([]),[ma,ua]=(0,l.useState)(),[pa,xa]=(0,l.useState)([]),[_a,ha]=(0,l.useState)([]),[ga,ja]=(0,l.useState)(),[wa,va]=(0,l.useState)(new Date),[ya,Ca]=(0,l.useState)([]),[ba,fa]=(0,l.useState)(),[ka,Za]=(0,l.useState)(new Date),[Sa,Aa]=(0,l.useState)([]),[Da,Na]=(0,l.useState)([]),[Ia,Oa]=(0,l.useState)([]),[Ma,Wa]=(0,l.useState)([]),[Ra,Ea]=(0,l.useState)([]),[za,Ba]=(0,l.useState)([]),[Fa,Ha]=(0,l.useState)([]),[Ta,Pa]=(0,l.useState)(""),[La,Ua]=(0,l.useState)(!1),[qa,Ga]=(0,l.useState)("0"),[Ya,Qa]=(0,l.useState)(!1),[Va,Ka]=(0,l.useState)("0"),[Xa,Ja]=(0,l.useState)(!1),[$a,el]=(0,l.useState)("0"),[tl,sl]=(0,l.useState)([]),[al,ll]=(0,l.useState)([]),[il,ol]=(0,l.useState)([]),[rl,nl]=(0,l.useState)([]),[cl,dl]=(0,l.useState)([]),[ml,ul]=(0,l.useState)([]),[pl,xl]=(0,l.useState)([]),[_l,hl]=(0,l.useState)([]),[gl,jl]=(0,l.useState)([]),[wl,vl]=(0,l.useState)([]),[yl,Cl]=(0,l.useState)([]),[bl,fl]=(0,l.useState)([]),[kl,Zl]=(0,l.useState)([]),[Sl,Al]=(0,l.useState)([]),[Dl,Nl]=(0,l.useState)(""),[Il,Ol]=(0,l.useState)(""),[Ml,Wl]=(0,l.useState)(""),[Rl,El]=(0,l.useState)(""),[zl,Bl]=(0,l.useState)(""),[Fl,Hl]=(0,l.useState)(""),[Tl,Pl]=(0,l.useState)(""),[Ll,Ul]=(0,l.useState)(""),[ql,Gl]=(0,l.useState)(""),[Yl,Ql]=(0,l.useState)(""),[Vl,Kl]=(0,l.useState)(""),[Xl,Jl]=(0,l.useState)(""),[$l,ei]=(0,l.useState)(""),[ti,si]=(0,l.useState)(""),[ai,li]=(0,l.useState)(""),[ii,oi]=(0,l.useState)(""),[ri,ni]=(0,l.useState)(""),[ci,di]=(0,l.useState)(""),[mi,ui]=(0,l.useState)(""),[pi,xi]=(0,l.useState)(""),[_i,hi]=(0,l.useState)(""),[gi,ji]=(0,l.useState)(""),[wi,vi]=(0,l.useState)(""),[yi,Ci]=(0,l.useState)(""),[bi,fi]=(0,l.useState)([]),[ki,Zi]=(0,l.useState)([]),Si=()=>Di(!1),[Ai,Di]=(0,l.useState)(!1),[Ni,Ii]=(0,l.useState)(!1),Oi=()=>Ii(!1),[Mi,Wi]=(0,l.useState)([]),[Ri,Ei]=(0,l.useState)(!1),zi=()=>Ei(!1),[Bi,Fi]=(0,l.useState)(""),[Hi,Ti]=(0,l.useState)(null),Pi=(0,l.useRef)(null),[Li,Ui]=(0,l.useState)([]),[qi,Gi]=(0,l.useState)(null),Yi=(0,l.useRef)(null),[Qi,Vi]=(0,l.useState)(null),[Ki,Xi]=(0,l.useState)(!1),Ji=()=>Xi(!1),$i=(0,l.useRef)(null),[eo,to]=(0,l.useState)(!1),[so,ao]=(0,l.useState)(!1),[lo,io]=(0,l.useState)(!1),[oo,ro]=(0,l.useState)(!1),[no,co]=(0,l.useState)(!1),[mo,uo]=(0,l.useState)(!1),[po,xo]=(0,l.useState)(!1),[_o,ho]=(0,l.useState)(!1),[go,jo]=(0,l.useState)(!1),[wo,vo]=(0,l.useState)(!1),[yo,Co]=(0,l.useState)(!0),[bo,fo]=(0,l.useState)(!0),[ko,Zo]=(0,l.useState)([]),[So,Ao]=(0,l.useState)(null),[Do,No]=(0,l.useState)(!1),[Io,Oo]=(0,l.useState)(!1),[Mo,Wo]=(0,l.useState)(!1),[Ro,Eo]=(0,l.useState)(!1),zo=(0,l.useRef)(null),Bo=(0,l.useRef)(null),Fo=(0,l.useRef)(null);(0,l.useEffect)((()=>{!async function(){""!==Ne&&null!==Ne&&void 0!==Ne?(vi("Update"),await Po(),await Ho(),await To()):void 0!==Me&&null!==Me&&""!==Me?(vi("Completed"),await Po(),await Ho(),await To()):void 0!==We&&null!==We&&""!==We?(vi("Close Order"),await Po(),await Ho(),await To()):(await Ho(),await To(),await Lo(),await Uo(),vi("Save")),Ee(!1)}()}),[]);const Ho=async()=>{try{const e=await z.Z.get("/getWorkOrderFromLebal.php");"SUCCESS"===e.data.status&&(Be(e.data.data.wko_mst),He(e.data.data.wko_det))}catch(e){console.error("Error fetching data:",e)}},To=async()=>{try{const e=await z.Z.get("/get_workOrder_mandatoryFiled.php");e.data.data.MandatoryField.length>0&&Zo(e.data.data.MandatoryField)}catch(e){console.error("Error fetching data:",e)}},Po=async()=>{F().fire({title:"Please Wait !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();try{let e;if(e=void 0!==Me&&null!==Me&&""!==Me?await z.Z.get("/get_workordermaster_select.php?RowID="+Me):void 0!==We&&null!==We&&""!==We?await z.Z.get("/get_workordermaster_select.php?RowID="+We):await z.Z.get("/get_workordermaster_select.php?RowID="+Ne),"SUCCESS"===e.data.status){JSON.stringify(e);if(Ns(e.data.data[0].wko_mst_wo_no),At(e.data.data[0].wko_mst_assetno),Os({label:e.data.data[0].wko_mst_status}),Ws({label:e.data.data[0].wko_mst_asset_status}),Pt({label:e.data.data[0].wko_mst_plan_priority}),Es({label:e.data.data[0].wko_mst_asset_group_code}),es({label:e.data.data[0].wko_mst_chg_costcenter}),Bs({label:e.data.data[0].wko_mst_work_area}),Hs({label:e.data.data[0].wko_mst_originator}),ds({label:e.data.data[0].wko_mst_asset_level}),Gs(e.data.data[0].wko_mst_phone),Ps({label:e.data.data[0].wko_mst_asset_location}),Qt({label:e.data.data[0].wko_mst_flt_code}),Us(e.data.data[0].wko_mst_descs),null==e.data.data[0].wko_mst_org_date)Qs("");else{const t=e.data.data[0].wko_mst_org_date.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();Qs(s)}if(null==e.data.data[0].wko_mst_due_date)Ks("");else{const t=e.data.data[0].wko_mst_due_date.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();Ks(s)}if(Js(e.data.data[0].wko_det_corr_action),Ht({label:e.data.data[0].wko_mst_project_id}),ea({label:e.data.data[0].wko_mst_orig_priority}),sa({label:e.data.data[0].wko_det_cause_code}),null==e.data.data[0].wko_det_sched_date)la("");else{const t=e.data.data[0].wko_det_sched_date.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();la(s)}if(oa({label:e.data.data[0].wko_det_act_code}),null==e.data.data[0].wko_det_exc_date)na("");else{const t=e.data.data[0].wko_det_exc_date.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();na(s)}if(da({label:e.data.data[0].wko_det_delay_cd}),null==e.data.data[0].wko_det_sc_date)ua("");else{const t=e.data.data[0].wko_det_sc_date.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();ua(s)}if(ha({label:e.data.data[0].wko_det_work_type}),null==e.data.data[0].wko_det_cmpl_date)ja("");else{const t=e.data.data[0].wko_det_cmpl_date.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();ja(s)}if(Ca({label:e.data.data[0].wko_det_work_class}),null==e.data.data[0].wko_det_clo_date)fa("");else{const t=e.data.data[0].wko_det_clo_date.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();fa(s)}if(os({label:e.data.data[0].wko_det_work_grp}),Aa({label:e.data.data[0].wko_det_supv_id}),Oa({label:e.data.data[0].wko_det_planner}),Ea({label:e.data.data[0].wko_det_approver}),Ha({label:e.data.data[0].wko_det_assign_to}),Pa(e.data.data[0].wko_det_perm_id),Ua(e.data.data[0].wko_det_temp_asset),Qa(e.data.data[0].wko_det_approved),Ja(e.data.data[0].wko_det_safety),ll({label:e.data.data[0].wko_det_customer_cd}),nl({label:e.data.data[0].wko_det_laccount}),ul({label:e.data.data[0].wko_det_maccount}),hl({label:e.data.data[0].wko_det_crd_costcenter}),vl({label:e.data.data[0].wko_det_caccount}),fl({label:e.data.data[0].wko_det_saccount}),Ol(e.data.data[0].wko_det_note1),Wl(e.data.data[0].wko_det_varchar1),El(e.data.data[0].wko_det_varchar2),Bl(e.data.data[0].wko_det_varchar3),Hl(e.data.data[0].wko_det_varchar4),Pl(e.data.data[0].wko_det_varchar5),Ul(e.data.data[0].wko_det_varchar6),Gl(e.data.data[0].wko_det_varchar7),Ql(e.data.data[0].wko_det_varchar8),Kl(e.data.data[0].wko_det_varchar9),Jl(e.data.data[0].wko_det_varchar10),ei(e.data.data[0].wko_det_numeric1),si(e.data.data[0].wko_det_numeric2),li(e.data.data[0].wko_det_numeric3),oi(e.data.data[0].wko_det_numeric4),ni(e.data.data[0].wko_det_numeric5),null==e.data.data[0].wko_det_datetime1)di("");else{const t=e.data.data[0].wko_det_datetime1.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();di(s)}if(null==e.data.data[0].wko_det_datetime2)ui("");else{const t=e.data.data[0].wko_det_datetime2.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();ui(s)}if(null==e.data.data[0].wko_det_datetime3)xi("");else{const t=e.data.data[0].wko_det_datetime3.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();xi(s)}if(null==e.data.data[0].wko_det_datetime4)hi("");else{const t=e.data.data[0].wko_det_datetime4.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();hi(s)}if(null==e.data.data[0].wko_det_datetime5)ji("");else{const t=e.data.data[0].wko_det_datetime5.date,s=M()(t,"YYYY-MM-DD HH:mm:ss.SSSSSS").toDate();ji(s)}Lo(),F().close(),qo()}else F().fire({icon:"error",title:"Oops...",text:e.data})}catch(e){F().fire({icon:"error",title:"Oops get_WorkOrder_select...",text:e})}},Lo=async()=>{try{const e=await z.Z.get("/get_workOrderStatus.php?site_cd="+_e);console.log("response____status__",e);let t=e.data.data.WorkStatus.map((e=>({label:e.wrk_sts_status+" : "+e.wrk_sts_desc,value:e.wrk_sts_desc,key:e.wrk_sts_typ_cd})));if(Et(t),void 0!==Me&&null!==Me&&""!==Me){const e=t.find((e=>"COMPLETE"===e.key));Os(e)}if(void 0!==We&&null!==We&&""!==We){const e=t.find((e=>"CLOSE"===e.key));Os(e)}let s=e.data.data.PlanPeriority.map((e=>({label:e.wrk_pri_pri_cd+" : "+e.wrk_pri_desc,value:e.wrk_pri_desc})));Bt(s);let a=e.data.data.FaultCode.map((e=>({label:e.wrk_flt_fault_cd+" : "+e.wrk_flt_desc,value:e.wrk_flt_desc})));Gt(a);let l=e.data.data.AssetStatus.map((e=>({label:e.ast_sts_status+" : "+e.ast_sts_desc,value:e.ast_sts_desc})));Kt(l);let i=e.data.data.AssetGroupCode.map((e=>({label:e.ast_grp_grp_cd+" : "+e.ast_grp_desc,value:e.ast_grp_desc})));Ut(i);let o=e.data.data.ChargeCostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.descs})));Jt(o);let r=e.data.data.WorkGroup.map((e=>({label:e.wrk_grp_grp_cd+" : "+e.wrk_grp_desc,value:e.wrk_grp_desc})));ls(r);let n=e.data.data.AssetLevel.map((e=>({label:e.ast_lvl_ast_lvl+" : "+e.ast_lvl_desc,value:e.ast_lvl_desc})));ns(n);let c=e.data.data.AssetLocation.map((e=>({label:e.ast_loc_ast_loc+" : "+e.ast_loc_desc,value:e.ast_loc_desc})));us(c);let d=e.data.data.CasuseCode.map((e=>({label:e.wrk_ccd_cause_cd+" : "+e.wrk_ccd_desc,value:e.wrk_ccd_desc})));xs(d);let m=e.data.data.ActionCode.map((e=>({label:e.wrk_act_action_cd+" : "+e.wrk_act_desc,value:e.wrk_act_desc})));hs(m);let u=e.data.data.WKO_Delay_Code.map((e=>({label:e.wrk_dcd_delay_cd+" : "+e.wrk_dcd_desc,value:e.wrk_dcd_desc})));js(u);let p=e.data.data.WorkType.map((e=>({label:e.wrk_typ_typ_cd+" : "+e.wrk_typ_desc,value:e.wrk_typ_desc})));vs(p);let x=e.data.data.WorkPermitType.map((e=>({label:e.wrk_cls_cls_cd+" : "+e.wrk_cls_desc,value:e.wrk_cls_desc})));Cs(x);let _=e.data.data.OriginalPeriority.map((e=>({label:e.wrk_pri_pri_cd+" : "+e.wrk_pri_desc,value:e.wrk_pri_desc})));fs(_);let h=e.data.data.Work_Area.map((e=>({label:e.mst_war_work_area+" : "+e.mst_war_desc,value:e.mst_war_desc})));Zs(h)}catch(e){console.error("Error fetching data:",e)}},Uo=async()=>{try{const e=await z.Z.get("/GetWordkOrderStatus_Plan_PriorityData.php");"SUCCESS"==e.data.status&&(Os({label:e.data.data.dft_mst_wko_sts}),Pt({label:e.data.data.dft_mst_wko_pri}),Hs({label:he}))}catch(e){console.error("Error fetching data:",e)}},qo=async()=>{try{const e=await z.Z.get("/get_WorkOrderImg.php?RowID="+Ne);e.data.data&&(e.data.data.AllImgGet&&e.data.data.AllImgGet.length>0&&(lt(e.data.data.AllImgGet),xt(e.data.data.AllImgGet[0].ImgStatus),ut({name:e.data.data.AllImgGet[0].file_name,path:e.data.data.AllImgGet[0].attachment})),e.data.data.AllRef&&e.data.data.AllRef.length>0&&(et(e.data.data.AllRef),ht(e.data.data.AllRef[0].ImgStatusRef)))}catch(e){console.error("Error fetching data:",e)}},Go=()=>{kt(!0)},Yo=e=>{const t=at.filter((t=>t.RowID!==e));lt(t),Ci(e),xt("NEW_SINGLE_IMG"),dt(!0),ut({name:"",path:""})},Qo=e=>{e.target.files.length&&(ot({preview:URL.createObjectURL(e.target.files[0]),raw:e.target.files[0]}),dt(!0),xt("NEW_SINGLE_IMG")),""!=at&&lt("");const t=e.target.files[0],s=new FileReader;s.onloadend=()=>{ut({name:t.name,path:s.result})},s.readAsDataURL(t)},Vo=e=>{e.preventDefault(),ot(""),dt(!1)},Ko=e=>{dt(!1)},Xo=e=>{const t=qe.filter(((t,s)=>s!==e));Ge(t)},Jo=0===Object.keys(yt).length&&yt.constructor===Object;const $o=e=>{const t=ze.find((t=>t.column_name===e));return t?t.customize_label:""},er=e=>{const t=Fe.find((t=>t.column_name===e));return t?t.customize_label:""},tr=e=>{const t=ko.find((t=>t.column_name===e));return t&&"1"===t.cf_label_required?"Requiredlabel":""},[sr,ar]=(0,l.useState)(!1);function lr(){ar(!1),F().close()}const ir=e=>{(async e=>{let t=localStorage.getItem("site_ID");const s=e.split(":")[0].trim();if(""!=e)try{const e=await z.Z.get("/get_workOrderAssetmaster_select.php?site_cd="+t+"&ast_mst_asset_no="+s+"&asset_shortdesc=&cost_center=&asset_status=&asset_type=&asset_grpcode=&work_area=&asset_locn=&asset_code=&ast_lvl=&ast_sts_typ_cd=&createby=&service_type=&block=&floor=");"SUCCESS"===e.data.status?(Ws({label:e.data.data[0].ast_mst_asset_status}),Ws({label:e.data.data[0].ast_mst_asset_status}),Es({label:e.data.data[0].ast_mst_asset_grpcode+" : "+e.data.data[0].ast_grp_desc}),es({label:e.data.data[0].ast_mst_cost_center+" : "+e.data.data[0].descs}),Bs({label:e.data.data[0].ast_mst_work_area+" : "+e.data.data[0].mst_war_desc}),ds({label:e.data.data[0].ast_mst_ast_lvl+" : "+e.data.data[0].ast_lvl_desc}),Ps({label:e.data.data[0].ast_mst_asset_locn+" : "+e.data.data[0].ast_loc_desc}),os({label:e.data.data[0].ast_mst_wrk_grp+" : "+e.data.data[0].wrk_grp_desc}),F().close()):F().fire({icon:"error",title:"Oops...",text:e.data})}catch(a){F().fire({icon:"error",title:"Oops get_assetmaster_select...",text:a})}})(e)};function or(e){let{rightIcons:t,...s}=e;return(0,ae.jsx)(k.Z,{...s,InputProps:{endAdornment:t&&(0,ae.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:t.map(((e,t)=>(0,ae.jsx)(u.Z,{children:e},t)))})}})}const rr=async()=>{try{let e=(await z.Z.get("/get_workOrderOriginator.php?site_cd="+_e)).data.data.WorkOriginator.map((e=>({label:e.emp_mst_empl_id+" : "+e.emp_mst_name,value:e.emp_mst_empl_id})));As(e)}catch(e){console.error(e)}},nr=async()=>{try{let e=(await z.Z.get("/get_workOrderProjectID.php?site_cd="+_e)).data.data.WorkProjectID.map((e=>({label:e.prj_mst_prj_cd+" : "+e.prj_mst_desc,value:e.prj_mst_desc})));xa(e)}catch(e){console.error(e)}},cr=async()=>{try{let e=(await z.Z.get("/get_workOrderSupervisorId.php?site_cd="+_e)).data.data.WorkSupervisorID.map((e=>({label:e.emp_mst_empl_id+" : "+e.emp_mst_name,value:e.emp_mst_name})));ss(e)}catch(e){console.error(e)}},dr=async()=>{try{let e=(await z.Z.get("/get_workOrderPlanner.php?site_cd="+_e)).data.data.WorkPlanner.map((e=>({label:e.emp_mst_empl_id+" : "+e.emp_mst_name,value:e.emp_mst_name})));Na(e),Ao(null)}catch(e){console.error(e)}},mr=async()=>{try{let e=(await z.Z.get("/get_workOrderApprover.php?site_cd="+_e)).data.data.WorkApprover.map((e=>({label:e.emp_mst_empl_id+" : "+e.emp_mst_name,value:e.emp_mst_name})));Wa(e),Ao(null)}catch(e){console.error(e)}},ur=async()=>{try{let e=(await z.Z.get("/get_workOrderApprover.php?site_cd="+_e)).data.data.WorkApprover.map((e=>({label:e.emp_mst_empl_id+" : "+e.emp_mst_name,value:e.emp_mst_name})));Ba(e)}catch(e){console.error(e)}},pr=async()=>{try{let e=(await z.Z.get("/get_workOrderCustomerCode.php?site_cd="+_e)).data.data.WorkCustomerCode.map((e=>({label:e.cus_mst_customer_cd+" : "+e.cus_mst_desc,value:e.cus_mst_desc})));sl(e)}catch(e){console.error(e)}},xr=async()=>{try{let e=(await z.Z.get("/get_workOrderCostCenter.php?site_cd="+_e)).data.data.WorkCostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.descs})));xl(e)}catch(e){console.error(e)}},_r=async()=>{try{let e=(await z.Z.get("/get_workOrderLaborAccount.php?site_cd="+_e)).data.data.WorkLaborAccount.map((e=>({label:e.account+" : "+e.descs,value:e.descs})));ol(e)}catch(e){console.error(e)}},hr=async()=>{try{let e=(await z.Z.get("/get_workOrderLaborAccount.php?site_cd="+_e)).data.data.WorkLaborAccount.map((e=>({label:e.account+" : "+e.descs,value:e.descs})));jl(e)}catch(e){console.error(e)}},gr=async()=>{try{let e=(await z.Z.get("/get_workOrderLaborAccount.php?site_cd="+_e)).data.data.WorkLaborAccount.map((e=>({label:e.account+" : "+e.descs,value:e.descs})));dl(e)}catch(e){console.error(e)}},jr=async()=>{try{let e=(await z.Z.get("/get_workOrderLaborAccount.php?site_cd="+_e)).data.data.WorkLaborAccount.map((e=>({label:e.account+" : "+e.descs,value:e.descs})));Cl(e)}catch(e){console.error(e)}},wr=e=>{if(e.preventDefault(),""==Is||null==Is){No(!0);const e="Please fill the required field Status is required!";we(!0),fe(e),Ze("error")}else if(""==Ls||null==Ls){Oo(!0);const e="Please fill the required field Description is required!";we(!0),fe(e),Ze("error")}else if(""==St||null==St){Wo(!0);const e="Please fill the required field Asse No is required!";we(!0),fe(e),Ze("error")}else if(""==$t||null==$t){Eo(!0);const e="Please fill the required field Charge Cost Center is required!";we(!0),fe(e),Ze("error")}else if(""==$s||null==$s){ro(!0);const e="Please fill the required field Original Periority is required!";we(!0),fe(e),Ze("error")}else"Save"===wi?fr():"Update"===wi&&kr()},vr=()=>{we(!1)},yr=e=>{e.preventDefault(),""===Is||null===Is?to(!0):""===Xs||null===Xs?ho(!0):""===ta.label||null===ta.label?jo(!0):""===ia.label||null===ia.label?vo(!0):"Completed"===wi&&(console.log("Completed____btn"),Zr())},Cr=e=>{e.preventDefault(),""===Is||null===Is?to(!0):""===Xs||null===Xs?ho(!0):""===ta.label||null===ta.label?jo(!0):""===ia.label||null===ia.label?vo(!0):"Close Order"===wi&&(console.log("close____btn"),Sr())},br=()=>{Te("/dashboard/work/order",{state:{currentPage:Ie,selectedOption:Oe}})},fr=async()=>{F().fire({title:"Loading.... !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}});let e,t,s,a,l,i,o,r,n,c=M()().utcOffset("+08:00").format("yyyy-MM-DD HH:mm:ss"),d=localStorage.getItem("site_ID"),m=localStorage.getItem("emp_mst_login_id"),u=localStorage.getItem("emp_mst_empl_id");if(""==St||null==St)e="";else{e=St.split(":")[0]}""==Is.label||null==Is.label?s="":(t=Is.label.split(":"),s=t[0]),""==Ms||null==Ms?l="":(a=Ms.label.split(":"),l=a[0]),""==Tt||null==Tt?o="":(i=Tt.label.split(":"),o=i[0]),""==Rs.label||null==Rs.label?n="":(r=Rs.label.split(":"),n=r[0]);let p,x,_="";_=""==Ys||null==Ys?"":M()(Ys).utcOffset("+08:00").format("yyyy-MM-DD HH:mm:ss").trim(),""==$t||null==$t?x="":(p=$t.label.split(":"),x=p[0]);let h,g,j,w,v,y,C,b,f,k,Z,S,A,D,N,I,O,W,R="";R=""==Vs||null==Vs?"":M()(Vs).format("yyyy-MM-DD HH:mm:ss").trim(),""==zs||null==zs?g="":(h=zs.label.split(":"),g=h[0]),""==Fs||null==Fs?w="":(j=Fs.label.split(":"),w=j[0]),""===cs||null===cs?y="":(v=cs.label.split(":"),y=v[0]),""==Ts||null==Ts?b="":(C=Ts.label.split(":"),b=C[0]),""==Yt||null==Yt?k="":(f=Yt.label.split(":"),k=f[0]),""==Ft.label||null==Ft.label?S="":(Z=Ft.label.split(":"),S=Z[0]),""==$s.label||null==$s.label?D="":(A=$s.label.split(":"),D=A[0]),""==ta||null==ta?I="":(N=ta.label.split(":"),I=N[0]),""==_a||null==_a?W="":(O=_a.label.split(":"),W=O[0]);let E,B,H="";H=""==aa||null==aa?"":M()(aa).format("yyyy-MM-DD HH:mm:ss").trim(),""==ia||null==ia?B="":(E=ia.label.split(":"),B=E[0]);let T,P,L="";L=""==ra||null==ra?"":M()(ra).format("yyyy-MM-DD HH:mm:ss").trim(),""==ca.label||null==ca.label?P="":(T=ca.label.split(":"),P=T[0]);let U="";U=""==ma||null==ma?"":M()(ma).format("yyyy-MM-DD HH:mm:ss").trim();let q,G,Y="";Y=""==ga||null==ga?"":M()(ga).format("yyyy-MM-DD HH:mm:ss").trim(),""==ya||null==ya?G="":(q=ya.label.split(":"),G=q[0]);let Q="";Q=""==ba||null==ba?"":M()(ba).format("yyyy-MM-DD HH:mm:ss").trim();let V,K,X,J,$,ee,te,se,ae,le,ie,oe,re,ne,ce=is.label.split(":");if(""==Sa.label||null==Sa.label?K="":(V=Sa.label.split(":"),K=V[0]),""==Ia.label||null==Ia.label?J="":(X=Ia.label.split(":"),J=X[0]),0===Ra.length||null===Ra[0]?ee="":($=Ra.label.split(":"),ee=$[0]),""==Fa||null==Fa?se="":(te=Fa.label.split(":"),se=te[0]),0===al.length||null===al[0])ae="";else{ae=al.label.split(":")[0].trim()}if(0===rl.length||null===rl[0])le="";else{le=rl.label.split(":")[0]}if(0===ml.length||null===ml[0])ie="";else{ie=ml.label.split(":")[0]}if(0===_l.length||null===_l[0])oe="";else{oe=_l.label.split(":")[0]}if(0===wl.length||null===wl[0])re="";else{re=wl.label.split(":")[0]}if(0===bl.length||null===bl[0])ne="";else{ne=bl.label.split(":")[0]}let de="";de=""==ci||null==ci?"":M()(ci).format("yyyy-MM-DD HH:mm:ss").trim();let me="";me=""==mi||null==mi?"":M()(mi).format("yyyy-MM-DD HH:mm:ss").trim();let ue="";ue=""==pi||null==pi?"":M()(pi).format("yyyy-MM-DD HH:mm:ss").trim();let pe="";pe=""==_i||null==_i?"":M()(_i).format("yyyy-MM-DD HH:mm:ss").trim();let xe="";xe=""==gi||null==gi?"":M()(gi).format("yyyy-MM-DD HH:mm:ss").trim();let _e=[];var he={site_cd:d,wko_mst_wo_no:Ds.trim(),wko_mst_assetno:e.trim(),wko_mst_status:s.trim(),wko_mst_asset_status:l.trim(),wko_mst_plan_priority:o.trim(),wko_mst_asset_group_code:n.trim(),wko_mst_org_date:_,wko_mst_chg_costcenter:x.trim(),wko_mst_due_date:R,wko_mst_work_area:g.trim(),wko_mst_originator:w.trim(),wko_mst_asset_level:y.trim(),wko_mst_phone:qs.trim(),wko_mst_asset_location:b.trim(),wko_mst_flt_code:k.trim(),wko_mst_descs:Ls.trim(),wko_mst_project_id:S.trim(),wko_mst_orig_priority:D.trim(),wko_det_corr_action:Xs.trim(),wko_det_cause_code:I.trim(),wko_det_sched_date:H,wko_det_act_code:B.trim(),wko_det_exc_date:L,wko_det_delay_cd:P.trim(),wko_det_sc_date:U,wko_det_work_type:W.trim(),wko_det_cmpl_date:Y,wko_det_work_class:G.trim(),wko_det_clo_date:Q,wko_det_work_grp:ce[0].trim(),wko_det_supv_id:K.trim(),wko_det_planner:J.trim(),wko_det_approver:ee.trim(),wko_det_assign_to:se.trim(),wko_det_perm_id:Ta,wko_det_temp_asset:qa,wko_det_approved:Va,wko_det_safety:$a,wko_det_customer_cd:ae,wko_det_laccount:le.trim(),wko_det_maccount:ie.trim(),wko_det_crd_costcenter:oe.trim(),wko_det_caccount:re.trim(),wko_det_saccount:ne.trim(),wko_det_note1:Il?Il.trim():"",wko_det_varchar1:Ml?Ml.trim():"",wko_det_varchar2:Rl?Rl.trim():"",wko_det_varchar3:zl?zl.trim():"",wko_det_varchar4:Fl?Fl.trim():"",wko_det_varchar5:Tl?Tl.trim():"",wko_det_varchar6:Ll?Ll.trim():"",wko_det_varchar7:ql?ql.trim():"",wko_det_varchar8:Yl?Yl.trim():"",wko_det_varchar9:Vl?Vl.trim():"",wko_det_varchar10:Xl?Xl.trim():"",wko_det_numeric1:$l?$l.trim():"",wko_det_numeric2:ti?ti.trim():"",wko_det_numeric3:ai?ai.trim():"",wko_det_numeric4:ii?ii.trim():"",wko_det_numeric5:ri?ri.trim():"",wko_det_datetime1:de?de.trim():de,wko_det_datetime2:me?me.trim():me,wko_det_datetime3:ue?ue.trim():ue,wko_det_datetime4:pe?pe.trim():pe,wko_det_datetime5:xe?xe.trim():xe,asset_type_ID:Dl.trim(),ImgUpload:mt,audit_user:m.trim(),wko_mst_create_by:m.trim(),ast_aud_originator:u.trim(),wko_mst_create_date:c,cnt_mst_numbering:Dl};for(let M=0;M<ko.length;M++){const e=ko[M],t=he[e.column_name];if(null!==t&&""===t.trim()){_e=e.customize_label,Ao(e.column_name);break}}if(_e.length>0){F().close();const e="Please fill the required field: ".concat(_e);we(!0),fe(e),Ze("error")}else try{const e=await z.Z.post("/insert_new_workorder.php",JSON.stringify(he));console.log("json_workorderNew Data",e),"SUCCESS"===e.data.status?(F().close(),F().fire({icon:"success",customClass:{container:"swalcontainercustom"},title:e.data.status,text:e.data.message}).then((()=>{Te("/dashboard/work/order")}))):(F().close(),F().fire({icon:"error",title:"Oops...",text:e.data}))}catch(ge){F().close(),F().fire({icon:"error",title:"Oops get_WorkOrder_select...",text:ge})}};console.log("Asset_No____",St);const kr=async()=>{F().fire({title:"Loading.... !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}});let e,t,s,a,l,i,o,r,n=M()().utcOffset("+08:00").format("yyyy-MM-DD HH:mm:ss"),c=localStorage.getItem("site_ID"),d=localStorage.getItem("emp_mst_login_id"),m=localStorage.getItem("emp_mst_empl_id");if(""==St||null==St)e="";else{e=St.split(":")[0]}if(""===Is.label||null===Is.label){No(!0);const e="Please fill the required field Status is required!";return we(!0),fe(e),Ze("error"),void F().close()}if(t=Is.label.split(":"),s=t[0],""===Ms.label||null===Ms.label?l="":(a=Ms.label.split(":"),l=a[0]),Tt&&Tt.label?(i=Tt.label.split(":"),o=i[0]):o="",Rs&&Rs.label){r=Rs.label.split(":")[0]}else r="";let u,p,x="";if(x=""==Ys||null==Ys?"":M()(Ys).format("yyyy-MM-DD HH:mm:ss").trim(),""==$t.label||null==$t.label){Eo(!0);const e="Please fill the required field Charge Cost Center is required!";return we(!0),fe(e),Ze("error"),void F().close()}u=$t.label.split(":"),p=u[0];let _,h,g,j,w,v,y,C,b,f,k,Z="";if(Z=""==Vs||null==Vs?"":M()(Vs).format("yyyy-MM-DD HH:mm:ss").trim(),""==zs||null==zs?h="":(_=zs.label.split(":"),h=_[0]),Fs&&Fs.label){g=Fs.label.split(":")[0]}else g="";if(cs&&cs.label){j=cs.label.split(":")[0]}else j="";if(""==Ts||null==Ts?v="":(w=Ts.label.split(":"),v=w[0]),Yt&&Yt.label){y=Yt.label.split(":")[0]}else y="";if(""==Ft.label||null==Ft.label?b="":(C=Ft.label.split(":"),b=C[0]),""===$s.label||null===$s.label){ro(!0);const e="Please fill the required field Original Periority is required!";return we(!0),fe(e),Ze("error"),void F().close()}f=$s.label.split(":")[0];if(ta&&ta.label){k=ta.label.split(":")[0]}else k="";let S,A="";if(A=""==aa||null==aa?"":M()(aa).format("yyyy-MM-DD HH:mm:ss").trim(),ia&&ia.label){S=ia.label.split(":")[0]}else S="";let D,N="";if(N=""==ra||null==ra?"":M()(ra).format("yyyy-MM-DD HH:mm:ss").trim(),ca&&ca.label){D=ca.label.split(":")[0]}else D="";let I,O="";if(O=""==ma||null==ma?"":M()(ma).format("yyyy-MM-DD HH:mm:ss").trim(),""===_a.label||null===_a.label)I="";else{I=_a.label.split(":")[0]}let W,R="";if(R=""==ga||null==ga?"":M()(ga).format("yyyy-MM-DD HH:mm:ss").trim(),ya&&ya.label){W=ya.label.split(":")[0]}else W="";let E,B,H,T,P,L,U,q,G,Y,Q,V,K="";if(K=""==ba||null==ba?"":M()(ba).format("yyyy-MM-DD HH:mm:ss").trim(),""===is.label||null===is.label)E="";else{E=is.label.split(":")[0].trim()}if(Sa&&Sa.label){B=Sa.label.split(":")[0]}else B="";if(Ia&&Ia.label){H=Ia.label.split(":")[0]}else H="";if(Ra&&Ra.label){T=Ra.label.split(":")[0]}else T="";if(Fa&&Fa.label){P=Fa.label.split(":")[0]}else P="";if(al&&al.label){L=al.label.split(":")[0].trim()}else L="";if(rl&&rl.label){U=rl.label.split(":")[0]}else U="";if(ml&&ml.label){q=ml.label.split(":")[0]}else q="";if(_l&&_l.label){G=_l.label.split(":")[0]}else G="";if(wl&&wl.label){Y=wl.label.split(":")[0]}else Y="";if(bl&&bl.label){Q=bl.label.split(":")[0]}else Q="";V=""==yi||null==yi?"":yi;let X="";X=""==ci||null==ci?"":M()(ci).format("yyyy-MM-DD HH:mm:ss").trim();let J="";J=""==mi||null==mi?"":M()(mi).format("yyyy-MM-DD HH:mm:ss").trim();let $="";$=""==pi||null==pi?"":M()(pi).format("yyyy-MM-DD HH:mm:ss").trim();let ee="";ee=""==_i||null==_i?"":M()(_i).format("yyyy-MM-DD HH:mm:ss").trim();let te,se="";if(se=""==gi||null==gi?"":M()(gi).format("yyyy-MM-DD HH:mm:ss").trim(),""==Ls||null==Ls){Oo(!0);const e="Please fill the required field Description is required!";return we(!0),fe(e),Ze("error"),void F().close()}te=Ls;let ae=[];var le={site_cd:c,wko_mst_wo_no:Ds.trim(),wko_mst_assetno:e.trim(),wko_mst_status:s.trim(),wko_mst_asset_status:l.trim(),wko_mst_plan_priority:o.trim(),wko_mst_asset_group_code:r.trim(),wko_mst_org_date:x,wko_mst_chg_costcenter:u[0].trim(),wko_mst_due_date:Z,wko_mst_work_area:h.trim(),wko_mst_originator:g.trim(),wko_mst_asset_level:j.trim(),wko_mst_phone:qs,wko_mst_asset_location:v.trim(),wko_mst_flt_code:y.trim(),wko_mst_descs:te,wko_det_corr_action:Xs,wko_mst_project_id:b.trim(),wko_mst_orig_priority:f,wko_det_cause_code:k.trim(),wko_det_sched_date:A,wko_det_act_code:S.trim(),wko_det_exc_date:N,wko_det_delay_cd:D.trim(),wko_det_sc_date:O,wko_det_work_type:I,wko_det_cmpl_date:R,wko_det_work_class:W.trim(),wko_det_clo_date:K,wko_det_work_grp:E,wko_det_supv_id:B.trim(),wko_det_planner:H.trim(),wko_det_approver:T.trim(),wko_det_assign_to:P.trim(),wko_det_perm_id:Ta,wko_det_temp_asset:qa,wko_det_approved:Va,wko_det_safety:$a,wko_det_customer_cd:L,wko_det_laccount:U.trim(),wko_det_maccount:q.trim(),wko_det_crd_costcenter:G.trim(),wko_det_caccount:Y.trim(),wko_det_saccount:Q.trim(),wko_det_note1:Il,wko_det_varchar1:Ml?Ml.trim():"",wko_det_varchar2:Rl?Rl.trim():"",wko_det_varchar3:zl?zl.trim():"",wko_det_varchar4:Fl?Fl.trim():"",wko_det_varchar5:Tl?Tl.trim():"",wko_det_varchar6:Ll?Ll.trim():"",wko_det_varchar7:ql?ql.trim():"",wko_det_varchar8:Yl?Yl.trim():"",wko_det_varchar9:Vl?Vl.trim():"",wko_det_varchar10:Xl?Xl.trim():"",wko_det_numeric1:$l?$l.trim():"",wko_det_numeric2:ti?ti.trim():"",wko_det_numeric3:ai?ai.trim():"",wko_det_numeric4:ii?ii.trim():"",wko_det_numeric5:ri?ri.trim():"",wko_det_datetime1:X?X.trim():X,wko_det_datetime2:J?J.trim():J,wko_det_datetime3:$?$.trim():$,wko_det_datetime4:ee?ee.trim():ee,wko_det_datetime5:se?se.trim():se,asset_type_ID:Dl.trim(),audit_user:d.trim(),wko_mst_create_by:d.trim(),ast_aud_originator:m.trim(),wko_mst_create_date:n,SingleImguploadStatus:pt,ImguploadRefStatus:_t||"EMPTY",ImgGetDbImgRowId:V,ImgUpload:mt,SpecialOdrResult:bi,removedRefItems:rt,RowID:Ne,selectedPdfFiles:Xe};console.log("json_workorder_update____",le);for(let M=0;M<ko.length;M++){const e=ko[M],t=le[e.column_name];if(null!==t&&""===t.trim()){ae=e.customize_label,Ao(e.column_name);break}}if(ae.length>0){F().close();const e="Please fill the required field: ".concat(ae);return we(!0),fe(e),void Ze("error")}try{const e=await z.Z.post("/update_workorder.php",JSON.stringify(le));if("SUCCESS"===e.data.status)if(Xe.length>0){const e=new FormData;for(let t=0;t<Xe.length;t++)e.append("files[]",Xe[t]);e.append("site_cd",c),e.append("RowID",Ne),e.append("RefImgUploadStatus",_t),e.append("audit_user",d.trim());try{const t=await z.Z.post("/WorkOrderReferenceMultiImgUpload.php",e,{headers:{"Content-Type":"multipart/form-data"}});console.log("img___upload___",t),"SUCCESS"==t.data.status&&(F().close(),F().fire({icon:"success",customClass:{container:"swalcontainercustom"},title:t.data.status,text:t.data.message}).then((()=>{Te("/dashboard/work/order",{state:{currentPage:Ie,selectedOption:Oe}})})))}catch(ie){console.log("error__",ie)}}else F().close(),F().fire({icon:"success",customClass:{container:"swalcontainercustom"},title:e.data.status,text:e.data.message}).then((()=>{"SUCCESS"===e.data.status&&Te("/dashboard/work/order",{state:{currentPage:Ie,selectedOption:Oe}})}));else F().close(),F().fire({icon:"error",customClass:{container:"swalcontainercustom"},title:"Oops...",text:e.data})}catch(ie){F().close(),F().fire({icon:"error",customClass:{container:"swalcontainercustom"},title:"Oops Data Not Updated...",text:ie})}},Zr=async()=>{F().fire({title:"Loading.... !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading();const e=wa?M()(wa).format("YYYY-MM-DD HH:mm:ss.SSS"):"";let t,s,a;if(""===Is.label||null===Is.label)t="";else{t=Is.label.split(":")[0]}if(""===ia.label||null===ia.label)s("");else{s=ia.label.split(":")[0]}if(""===ta.label||null===ta.label)a("");else{a=ta.label.split(":")[0]}var l={site_cd:_e,wko_mst_status:t,audit_user:he.trim(),wko_det_cmpl_date:e,wko_det_corr_action:Xs,wko_sts_wo_no:Ds,mst_RowID:Me,wko_det_act_code:s,wko_det_cause_code:a};try{const e=await z.Z.post("/complete_workorder.php",JSON.stringify(l));console.log("res",e),"SUCCESS"==e.data.status&&(F().close(),F().fire({icon:"success",customClass:{container:"swalcontainercustom"},title:e.data.status,text:e.data.message}).then((()=>{Te("/dashboard/work/order")})))}catch(i){F().close(),F().fire({icon:"error",title:"Oops somthing is wrong...",text:i})}},Sr=async()=>{F().fire({title:"Loading.... !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}});const e=ka?M()(ka).format("YYYY-MM-DD HH:mm:ss.SSS"):"";let t,s,a;if(""===Is.label||null===Is.label)t="";else{t=Is.label.split(":")[0]}if(""===ia.label||null===ia.label)s("");else{s=ia.label.split(":")[0]}if(""===ta.label||null===ta.label)a("");else{a=ta.label.split(":")[0]}var l={site_cd:_e,wko_mst_status:t,audit_user:he.trim(),wko_det_close_date:e,wko_det_corr_action:Xs,wko_sts_wo_no:Ds,mst_RowID:We,wko_det_act_code:s,wko_det_cause_code:a};try{const e=await z.Z.post("/Close_workorder.php",JSON.stringify(l));console.log("res",e),"SUCCESS"==e.data.status&&(F().close(),F().fire({icon:"success",customClass:{container:"swalcontainercustom"},title:e.data.status,text:e.data.message}).then((()=>{Te("/dashboard/work/order")})))}catch(i){F().close(),F().fire({icon:"error",title:"Oops somthing is wrong...",text:i})}},Ar=e=>{const t=Math.floor(e%60),s=Math.floor(e%1440/60),a=Math.floor(e/1440);return a>0?"".concat(a,"d: ").concat(s,"h: ").concat(t,"m"):s>0?"".concat(s,"h: ").concat(t,"m"):t>0?"".concat(t,"m"):""},Dr=()=>{Di(!0),(async()=>{F().fire({title:"Please Wait !",allowOutsideClick:!1}),F().showLoading();let e="";if(Is.label){console.log("selected_Status:",Is),console.log("selected_Status.label:",Is.label);const t=Is.label.split(":");console.log("splitLabel:",t),e=t[0].trim()}try{let t;if(t=void 0!==Me&&null!==Me&&""!==Me?await z.Z.get("/get_workordermaster_statusaudit.php?site_cd=".concat(_e,"&RowID=").concat(Me)):void 0!==We&&null!==We&&""!==We?await z.Z.get("/get_workordermaster_statusaudit.php?site_cd=".concat(_e,"&RowID=").concat(We)):e&&"CMP"===e||e&&"CLO"===e?await z.Z.get("/get_workordermaster_complete_statusaudit.php?site_cd=".concat(_e,"&RowID=").concat(Ne)):await z.Z.get("/get_workordermaster_statusaudit.php?site_cd=".concat(_e,"&RowID=").concat(Ne)),"SUCCESS"===t.data.status){let e=t.data.data.map(((e,t)=>{let s=new Date(e.wko_sts_start_date.date),a=s.toLocaleDateString("en-GB"),l=s.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0}),i=s.toLocaleString("default",{weekday:"short"});return{label:e.wrk_sts_desc,label1:e.wko_sts_status,label2:e.emp_mst_name,label3:e.wko_sts_originator,label4:"".concat(i," ").concat(a," ").concat(l),label5:Ar(e.duration),label6:e.wrk_sts_desc,step:t+1}}));Zi(e),F().close()}else F().close(),F().fire({icon:"error",title:"Oops...",text:t.data.message})}catch(t){F().close(),console.log("Error",t)}})()},Nr=async()=>{F().fire({title:"Please Wait !",allowOutsideClick:!1});try{let e;if(e=void 0!==Me&&null!==Me&&""!==Me?await z.Z.get("/get_assignTo_history.php?site_cd=".concat(_e,"&RowID=").concat(Me)):void 0!==We&&null!==We&&""!==We?await z.Z.get("/get_assignTo_history.php?site_cd=".concat(_e,"&RowID=").concat(We)):await z.Z.get("/get_assignTo_history.php?site_cd=".concat(_e,"&RowID=").concat(Ne)),"SUCCESS"===e.data.status){let t=e.data.data.map(((e,t)=>{let s=new Date(e.audit_date.date),a=s.toLocaleDateString("en-GB"),l=s.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0}),i=s.toLocaleString("default",{weekday:"short"});return{label:e.wko_ls7_emp_id,label1:e.column1,label4:"".concat(i," ").concat(a," ").concat(l),label5:Ar(e.duration),step:t+1}}));Wi(t),F().close()}else F().close(),F().fire({icon:"error",title:"Oops...",text:e.data.message})}catch(e){F().close(),console.log("error",e)}},Ir=()=>{Ei(!0),Mr()},Or=()=>{$i.current&&($i.current.scrollTop=$i.current.scrollHeight)};(0,l.useEffect)((()=>{Or()}),[Li]);const Mr=async()=>{F().fire({title:"Loading.... !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),F().showLoading(),Ee(!0);try{const e=await z.Z.get("get_chart.php?mst_RowID=".concat(Ne,"&site_cd=").concat(_e,"&url=").concat(z.Z.defaults.baseURL,"&folder=React_web&dvc_id=Web"));"SUCCESS"===e.data.status&&(Ui(e.data.data),F().close(),Ee(!1))}catch(e){console.error("Error fetching data:",e)}},Wr=(e,t)=>{Os(t),to(!1),No(!1)};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(o.ql,{children:[(0,ae.jsx)("title",{children:"CMMS System"}),(0,ae.jsx)("meta",{name:"description",content:"New Work Order"})]}),(0,ae.jsxs)(n.Z,{maxWidth:!Le.themeStretch&&"lg",children:[(0,ae.jsxs)("div",{className:"CustomBreadAssetSave",style:{position:"-webkit-sticky",position:"sticky",top:"55px",backgroundColor:"white",zIndex:1e3,borderBottom:"1px solid #00000021",height:"105px"},children:[(0,ae.jsx)(E.Z,{heading:Ne?"Update ".concat(Ds," Work Order"):Me?"Complete ".concat(Ds," Work Order"):We?"Close ".concat(Ds," Work Order"):"Create New Work Order",links:[{name:"Work Order"},{name:Ne?"Update":"Create"}],action:(0,ae.jsx)("div",{style:{display:"flex",alignItems:"center"},children:void 0!==Me&&null!==Me&&""!==Me?(0,ae.jsxs)("div",{children:[(0,ae.jsx)(f.Z,{component:R.r,onClick:yr,variant:"contained",className:"SaveButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},children:wi}),(0,ae.jsx)(f.Z,{variant:"soft",color:"error",startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),onClick:br,children:"Close"})]}):void 0!==We&&null!==We&&""!==We?(0,ae.jsxs)("div",{children:[(0,ae.jsx)(f.Z,{component:R.r,onClick:Cr,variant:"contained",className:"SaveButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},children:wi}),(0,ae.jsx)(f.Z,{variant:"soft",color:"error",startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),onClick:br,children:"Close"})]}):(0,ae.jsxs)("div",{children:[(0,ae.jsx)(f.Z,{component:R.r,onClick:wr,variant:"contained",className:"SaveButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},disabled:Rt.some((e=>{var t,s;return e.key===(null!==(t=null===Is||void 0===Is||null===(s=Is.label)||void 0===s?void 0:s.split(" : ")[2])&&void 0!==t?t:"").trim()&&"CLOSE"===e.key})),children:wi}),(0,ae.jsx)(f.Z,{variant:"soft",color:"error",startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),onClick:br,children:"Close"})]})}),sx:{mb:{xs:3,md:5}}}),(0,ae.jsx)("div",{className:"cmmntBtn",children:void 0!==Me&&null!==Me&&""!==Me?(0,ae.jsx)("div",{children:(0,ae.jsxs)(f.Z,{onClick:Ir,disabled:!Me,children:[(0,ae.jsx)(L.Z,{icon:"mdi:comments-outline",style:{width:"15px",marginRight:"5px"}})," ","Add Comments"]})}):void 0!==We&&null!==We&&""!==We?(0,ae.jsx)("div",{children:(0,ae.jsxs)(f.Z,{onClick:Ir,disabled:!We,children:[(0,ae.jsx)(L.Z,{icon:"mdi:comments-outline",style:{width:"15px",marginRight:"5px"}}),"Add Comments"]})}):(0,ae.jsx)("div",{children:(0,ae.jsxs)(f.Z,{onClick:Ir,disabled:!Ne,children:[(0,ae.jsx)(L.Z,{icon:"mdi:comments-outline",style:{width:"15px",marginRight:"5px"}}),"Add Comments"]})})})]}),(0,ae.jsx)("div",{children:Re?(0,ae.jsx)("p",{children:"Loading data..."}):(0,ae.jsxs)(ae.Fragment,{children:[void 0!==Me&&null!==Me&&""!==Me&&(0,ae.jsx)("div",{className:"MainOrderFromGd",style:{backgroundColor:"white"},children:(0,ae.jsx)(Z.Z,{container:!0,spacing:0,children:(0,ae.jsx)(Z.Z,{xs:12,md:12,className:"CompleteDiv",children:(0,ae.jsxs)(C.Z,{sx:{p:3},children:[(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},children:[(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:1,display:"grid",gridTemplateColumns:{xs:"90%",sm:"90% 10%"},children:[(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_status")||"Status"}),(0,ae.jsx)(r.Z,{options:Rt.filter((e=>"COMPLETE"===e.key)),value:((null===Is||void 0===Is?void 0:Is.label)||"").split(" : ").slice(0,2).join(" : "),onChange:Wr,disableAnimation:!0,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize ".concat(eo?"errorEmpty":""),style:{width:"100%"},ref:zo})})})]}),(0,ae.jsx)(G.Z,{title:"Status Audit",placement:"right",className:"tooltipRht",disabled:"Save"==wi,children:(0,ae.jsx)(u.Z,{children:(0,ae.jsx)(L.Z,{icon:"pajamas:status-alert",onClick:Dr})})})]}),(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_cmpl_date")||"Complete Date"}),(0,ae.jsx)(p.x,{value:wa,format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{va(e)},slotProps:{textField:{fullWidth:!0}}})]})]}),(0,ae.jsx)(Z.Z,{container:!0,spacing:2,children:(0,ae.jsx)(Z.Z,{item:!0,xs:12,children:(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_corr_action")||"Corrective Actions"}),(0,ae.jsx)(c.u,{"aria-label":"empty textarea",placeholder:"Corrective Action",size:"small",value:Xs,minRows:6,className:"TxtAra ".concat(_o?"errorEmpty":""),style:{width:"100%"},onChange:e=>{Js(e.target.value),ho(!1)}})]})})}),(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_cause_code")||"Cause Code"}),(0,ae.jsx)(r.Z,{options:ps,value:null!==(t=null===ta||void 0===ta?void 0:ta.label)&&void 0!==t?t:"",onChange:(e,t)=>{sa(t||null),jo(!1)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0,className:"Extrasize ".concat(go?"errorEmpty":"")})})]}),(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_act_code")||"Action Code"}),(0,ae.jsx)(r.Z,{options:_s,value:null!==(a=null===ia||void 0===ia?void 0:ia.label)&&void 0!==a?a:"",onChange:(e,t)=>{oa(t||null),vo(!1)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0,className:"Extrasize ".concat(wo?"errorEmpty":"")})})]})]})]})})})}),void 0!==We&&null!==We&&""!==We&&(0,ae.jsx)("div",{className:"MainOrderFromGd",style:{backgroundColor:"white"},children:(0,ae.jsx)(Z.Z,{container:!0,spacing:0,children:(0,ae.jsx)(Z.Z,{xs:12,md:12,className:"CompleteDiv",children:(0,ae.jsxs)(C.Z,{sx:{p:3},children:[(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},children:[(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:1,display:"grid",gridTemplateColumns:{xs:"90%",sm:"90% 10%"},children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:"Requiredlabel",children:$o("wko_mst_status")||"Status"}),(0,ae.jsx)(r.Z,{options:Rt.filter((e=>"CLOSE"===e.key)),value:((null===Is||void 0===Is?void 0:Is.label)||"").split(" : ").slice(0,2).join(" : "),onChange:Wr,disableAnimation:!0,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize ".concat(eo?"errorEmpty":""),style:{width:"100%"},ref:zo})})})]}),(0,ae.jsx)(G.Z,{title:"Status Audit",placement:"right",className:"tooltipRht",disabled:"Save"==wi,children:(0,ae.jsx)(u.Z,{children:(0,ae.jsx)(L.Z,{icon:"pajamas:status-alert",onClick:Dr})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_clo_date")||"Close Date"}),(0,ae.jsx)(p.x,{value:ka,format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{Za(e)},slotProps:{textField:{fullWidth:!0}}})]})]}),(0,ae.jsx)(Z.Z,{container:!0,spacing:2,children:(0,ae.jsx)(Z.Z,{item:!0,xs:12,children:(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_corr_action")||"Corrective Actions"}),(0,ae.jsx)(c.u,{"aria-label":"empty textarea",placeholder:"Corrective Action",size:"small",value:Xs,minRows:6,className:"TxtAra ".concat(_o?"errorEmpty":""),style:{width:"100%"},onChange:e=>{Js(e.target.value),ho(!1)}})]})})}),(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_cause_code")||"Cause Code"}),(0,ae.jsx)(r.Z,{options:ps,value:null!==(i=null===ta||void 0===ta?void 0:ta.label)&&void 0!==i?i:"",onChange:(e,t)=>{sa(t||null),jo(!1)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0,className:"Extrasize ".concat(go?"errorEmpty":"")})})]}),(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_act_code")||"Action Code"}),(0,ae.jsx)(r.Z,{options:_s,value:null!==(x=null===ia||void 0===ia?void 0:ia.label)&&void 0!==x?x:"",onChange:(e,t)=>{oa(t||null),vo(!1)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0,className:"Extrasize ".concat(wo?"errorEmpty":"")})})]})]})]})})})}),(0,ae.jsx)("div",{className:"MainOrderFromGd",style:{backgroundColor:"white"},children:(0,ae.jsx)(Z.Z,{container:!0,spacing:0,children:(0,ae.jsx)(Z.Z,{xs:12,md:12,children:(0,ae.jsxs)(C.Z,{sx:{padding:"10px 24px 15px 24px"},children:[(0,ae.jsx)("div",{style:{display:"flex"},children:(0,ae.jsxs)("button",{className:"ToggleBttnIcon",onClick:()=>{Co(!yo)},children:[(0,ae.jsx)(L.Z,{icon:"fluent-mdl2:pen-workspace",style:{marginRight:"5px",width:"17px"}})," ","Work Order",yo?(0,ae.jsx)(L.Z,{icon:"ep:arrow-up-bold",style:{marginLeft:"4px",width:"12px"}}):(0,ae.jsx)(L.Z,{icon:"ep:arrow-down-bold",style:{marginLeft:"4px",width:"12px"}})]})}),yo&&(0,ae.jsxs)(Z.Z,{container:!0,spacing:0,children:[(0,ae.jsxs)(Z.Z,{xs:12,md:10,children:[(0,ae.jsx)("div",{className:"col-md-2 mobileImgversion",children:(0,ae.jsx)("div",{className:"row",children:(0,ae.jsxs)("div",{className:"row ImgShowMobile",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{htmlFor:"upload-button",children:at&&at.length>0?(0,ae.jsxs)("div",{children:[(0,ae.jsx)("img",{src:at[0].attachment?"".concat(z.Z.defaults.baseURL).concat(at[0].attachment):"",className:"imgCurPont",alt:"Base64 Image",onClick:Go}),(0,ae.jsx)("div",{className:"col btnCenter",children:(0,ae.jsxs)("button",{type:"button",className:"btn dlt",onClick:()=>Yo(at[0].RowID),style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"10px"},children:[(0,ae.jsx)(L.Z,{icon:"fluent:delete-48-filled",style:{fontSize:"24px"}}),"Delete"]})})]}):it.preview?(0,ae.jsxs)("div",{children:[(0,ae.jsx)("img",{src:it.preview,alt:"dummy",className:"imgCurPont",onClick:Go}),(0,ae.jsx)("div",{className:"col btnCenter",children:(0,ae.jsxs)("button",{type:"button",className:"btn dlt",onClick:Vo,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,ae.jsx)(L.Z,{icon:"fluent:delete-48-filled",style:{marginRight:"5px"}}),"Delete"]})})]}):(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("span",{className:"fa-stack fa-2x mb-2",children:(0,ae.jsx)("img",{src:s(76977),className:"sliderimg2",onClick:Ko,width:"200",height:"180",alt:""})})})}),at&&at.length>0?(0,ae.jsx)("div",{}):(0,ae.jsx)("div",{children:(0,ae.jsx)("input",{type:"file",id:"upload-button",disabled:ct,style:{display:"none"},onChange:Qo})}),(0,ae.jsx)("br",{})]}),(0,ae.jsxs)(Ce,{onClose:Zt,"aria-labelledby":"customized-dialog-title",open:ft,children:[(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:Zt,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:"X"}),(0,ae.jsx)(h.Z,{dividers:!0,style:{display:"flex",justifyContent:"center"},children:at&&at.length>0?(0,ae.jsx)("div",{children:(0,ae.jsx)("img",{src:at[0].attachment,alt:"dummy",className:"dummyImg",onClick:Go})}):(0,ae.jsx)("img",{src:it.preview,alt:"dummy",style:{height:"50%",width:"50%"},onClick:Go,className:"dummyImg"})})]})]})})}),(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},marginBottom:1.5,children:[(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:"Requiredlabel",children:$o("wko_mst_wo_no")||"Work Order No"}),(0,ae.jsx)(k.Z,{name:"name",size:"small",disabled:!0,defaultValue:Ds,className:"ExtrasizeDisable"})]}),(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:1,display:"grid",gridTemplateColumns:{xs:"85%",sm:"85% 10%"},children:[(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:"Requiredlabel",children:$o("wko_mst_status")||"Status"}),(0,ae.jsx)(r.Z,{options:Rt.filter((e=>"OPEN"===e.key)),value:((null===Is||void 0===Is?void 0:Is.label)||"").split(" : ").slice(0,2).join(" : "),onChange:Wr,disableAnimation:!0,renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,placeholder:"Select...",variant:"outlined",size:"small",className:"Extrasize ".concat(Do?"errorEmpty":""),style:{width:"100%"},ref:zo})})})]}),(0,ae.jsx)(G.Z,{title:"Status Audit",placement:"right",className:"tooltipRht",disabled:"Save"==wi,children:(0,ae.jsx)(u.Z,{children:(0,ae.jsx)(L.Z,{icon:"pajamas:status-alert",onClick:Dr})})})]})]}),(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},marginBottom:2,children:[(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_originator")||"Originator"}),(0,ae.jsx)(r.Z,{options:Ss,value:null!==(O=null===Fs||void 0===Fs?void 0:Fs.label)&&void 0!==O?O:"",onChange:(e,t)=>{Hs(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize",onClick:rr})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_plan_priority")||"Plan Periority"}),(0,ae.jsx)(r.Z,{options:zt,value:null!==(B=null===Tt||void 0===Tt?void 0:Tt.label)&&void 0!==B?B:"",onChange:async(e,t)=>{if(Pt(null===t?null:t),t&&t.label){const e=t.label.split(":")[0].trim();if(""!==e)try{const t=await z.Z.get("GetDueDatePlanPriority.php?ID=".concat(e,"&site_cd=").concat(_e));if("SUCCESS"===t.data.status){const e=t.data.data;if(isNaN(e))console.error("Invalid dueDateIncrement:",t.data.data);else{const t=60*e*1e3,s=new Date(Ys.getTime()+t);Ks(s),F().close(),Ee(!1)}}}catch(s){console.error("Error fetching data:",s)}}},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})]})]}),(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},marginBottom:0,children:[(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_phone")||"Phone"}),(0,ae.jsx)(k.Z,{variant:"outlined",size:"small",className:"Extrasize",defaultValue:qs,onChange:e=>{Gs(e.target.value)}})]}),(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},marginBottom:2,children:[(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_org_date")||"Origination Date"}),(0,ae.jsx)(p.x,{value:Ys,format:"dd/MM/yyyy HH:mm",className:"Extrasize",sx:{fontSize:"0.875rem"},onChange:e=>{Qs(e)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_wr_due_date")||"Due Date"}),(0,ae.jsx)(p.x,{value:Vs,format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{Ks(e)},slotProps:{textField:{fullWidth:!0}}})]})]})]}),(0,ae.jsx)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},marginBottom:2,children:(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_mst_flt_code"),children:$o("wko_mst_flt_code")||"Fault Code"}),(0,ae.jsx)(r.Z,{options:qt,value:null!==(H=null===Yt||void 0===Yt?void 0:Yt.label)&&void 0!==H?H:"",onChange:(e,t)=>{const s=null===t?null:t;Qt(s),(e=>{const t=e&&e.value?e:null;Us(t?t.value:null)})(s),io(!1),Ao(null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"ast_mst_perm_id"===So?"erroBorderadd":"",ref:Fo})})})]})}),(0,ae.jsx)(Z.Z,{item:!0,xs:12,sx:{mt:2},children:(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:"Requiredlabel",children:$o("wko_mst_descs")||"Description..."}),(0,ae.jsx)(c.u,{"aria-label":"empty textarea",placeholder:"Description...",minRows:6,value:Ls,onChange:e=>{Us(e.target.value),Oo(!1)},className:"Extrasize ".concat(Io?"errorEmpty":"TxtAra")})]})})]}),(0,ae.jsx)(Z.Z,{xs:12,md:2,className:"imgGird",children:(0,ae.jsx)(C.Z,{sx:{pt:2,pb:0,px:3},children:(0,ae.jsx)(y.Z,{sx:{mb:5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,ae.jsx)("div",{className:"col-md-2",children:(0,ae.jsx)("div",{className:"row",children:(0,ae.jsxs)("div",{className:"row ImgShowMobile",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{htmlFor:"upload-button",children:at&&at.length>0?(0,ae.jsxs)("div",{children:[(0,ae.jsx)("img",{src:at[0].attachment?"".concat(z.Z.defaults.baseURL).concat(at[0].attachment):"",className:"imgCurPont",alt:"Base64 Image",onClick:Go}),(0,ae.jsx)("div",{className:"col btnCenter",children:(0,ae.jsxs)("button",{type:"button",className:"btn dlt",onClick:()=>Yo(at[0].RowID),style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"10px"},children:[(0,ae.jsx)(L.Z,{icon:"fluent:delete-48-filled",style:{fontSize:"24px"}}),"Delete"]})})]}):it.preview?(0,ae.jsxs)("div",{children:[(0,ae.jsx)("img",{src:it.preview,alt:"dummy",className:"imgCurPont",onClick:Go}),(0,ae.jsx)("div",{className:"col btnCenter",children:(0,ae.jsxs)("button",{type:"button",className:"btn dlt",onClick:Vo,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,ae.jsx)(L.Z,{icon:"fluent:delete-48-filled",style:{marginRight:"5px"}}),"Delete"]})})]}):(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)("span",{className:"fa-stack fa-2x mb-2",children:(0,ae.jsx)("img",{src:s(76977),className:"sliderimg2",onClick:Ko,width:"200",height:"180",alt:""})})})}),at&&at.length>0?(0,ae.jsx)("div",{}):(0,ae.jsx)("div",{children:(0,ae.jsx)("input",{type:"file",id:"upload-button",disabled:ct,style:{display:"none"},onChange:Qo})}),(0,ae.jsx)("br",{})]}),(0,ae.jsxs)(Ce,{onClose:Zt,"aria-labelledby":"customized-dialog-title",open:ft,children:[(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:Zt,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:"X"}),(0,ae.jsx)(h.Z,{dividers:!0,style:{display:"flex",justifyContent:"center"},children:at&&at.length>0?(0,ae.jsx)("div",{children:(0,ae.jsx)("img",{src:at[0].attachment?"".concat(z.Z.defaults.baseURL).concat(at[0].attachment):"",alt:"dummy",className:"dummyImg",onClick:Go})}):(0,ae.jsx)("img",{src:it.preview,alt:"dummy",style:{height:"50%",width:"50%"},onClick:Go,className:"dummyImg"})})]})]})})})})})})]})]})})})}),(0,ae.jsx)("div",{className:"MainOrderFromGd",style:{backgroundColor:"white"},children:(0,ae.jsx)(Z.Z,{container:!0,spacing:0,children:(0,ae.jsx)(Z.Z,{xs:12,md:12,children:(0,ae.jsxs)(C.Z,{sx:{padding:"10px 24px 15px 24px"},children:[(0,ae.jsx)("div",{style:{display:"flex"},children:(0,ae.jsxs)("button",{className:"ToggleBttnIcon",onClick:()=>{fo(!bo)},children:[(0,ae.jsx)(L.Z,{icon:"carbon:user-settings",style:{marginRight:"2px",width:"20px"}})," ","Asset",bo?(0,ae.jsx)(L.Z,{icon:"ep:arrow-up-bold",style:{marginLeft:"4px",width:"12px"}}):(0,ae.jsx)(L.Z,{icon:"ep:arrow-down-bold",style:{marginLeft:"4px",width:"12px"}})]})}),bo&&(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:"Requiredlabel",children:$o("wko_mst_assetno")||"Asset No"}),(0,ae.jsx)("div",{ref:Bo,children:(0,ae.jsx)(or,{id:"outlined-basic",variant:"outlined",size:"small",className:"ExtrasizeDisable ".concat(Mo?"errorEmpty":""),fullWidth:!0,value:St||"",disabled:!0,placeholder:"Select...",rightIcons:[(0,ae.jsx)(L.Z,{icon:"material-symbols:close",onClick:()=>{At("")}}),(0,ae.jsx)(L.Z,{icon:"tabler:edit",onClick:e=>{e.preventDefault(),ar(!0),Wo(!1)}})]})})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_mst_asset_status"),children:$o("wko_mst_asset_status")||"Asset Status"}),(0,ae.jsx)(r.Z,{options:Vt,value:null!==(T=null===Ms||void 0===Ms?void 0:Ms.label)&&void 0!==T?T:"",onChange:(e,t)=>{Ws(t),ao(!1)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"wko_mst_asset_status"===So?"erroBorderadd":"",ref:zo})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_mst_asset_group_code"),children:$o("wko_mst_asset_group_code")||"Asset Group Code"}),(0,ae.jsx)(r.Z,{options:Lt,value:null!==(Y=null===Rs||void 0===Rs?void 0:Rs.label)&&void 0!==Y?Y:"",onChange:(e,t)=>{Es(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"wko_mst_asset_group_code"===So?"erroBorderadd":""})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:"Requiredlabel",children:$o("wko_mst_chg_costcenter")||"Charge Cost Center"}),(0,ae.jsx)(r.Z,{options:Xt,value:$t,onChange:(e,t)=>{es(t),Eo(!1),Eo(!1)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize ".concat(Ro?"errorEmpty":""),ref:zo})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_work_area")||"Work Area"}),(0,ae.jsx)(r.Z,{options:ks,value:zs,onChange:(e,t)=>{Bs(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_asset_level")||"Asset Level"}),(0,ae.jsx)(r.Z,{options:rs,value:cs,onChange:(e,t)=>{ds(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined"})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_asset_location")||"Asset Location"}),(0,ae.jsx)(r.Z,{options:ms,value:Ts,onChange:(e,t)=>{Ps(t||null)},renderInput:e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",className:"Extrasize"})})})]})]})]})})})}),(0,ae.jsx)(Z.Z,{container:!0,spacing:3,children:(0,ae.jsx)(Z.Z,{xs:12,md:12,children:(0,ae.jsxs)(C.Z,{sx:{p:3},children:[(0,ae.jsxs)(d.Z,{value:gt,onChange:(e,t)=>{jt(t)},"aria-label":"Basic tabs",defaultValue:0,children:[(0,ae.jsx)(m.Z,{label:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(L.Z,{icon:"akar-icons:info-fill",style:{marginRight:"4px"}}),"Details"]})}),(0,ae.jsx)(m.Z,{label:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(L.Z,{icon:"fluent-mdl2:financial",style:{marginRight:"4px"}}),"Financial"]})}),(0,ae.jsx)(m.Z,{label:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(L.Z,{icon:"material-symbols:date-range-outline",style:{marginRight:"4px"}}),"UDF1"]})}),(0,ae.jsx)(m.Z,{label:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(L.Z,{icon:"mdi:planner-outline",style:{marginRight:"4px"}}),"Planning"]})}),(0,ae.jsx)(m.Z,{label:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(L.Z,{icon:"guidance:time",style:{marginRight:"4px"}}),"Time Card"]})}),(0,ae.jsx)(m.Z,{label:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(L.Z,{icon:"codicon:references",style:{marginRight:"4px"}}),"Reference"]})})]}),(0,ae.jsxs)(y.Z,{role:"tabpanel",hidden:0!==gt,sx:{marginTop:"16px"},children:[(0,ae.jsx)(Z.Z,{container:!0,spacing:2,children:(0,ae.jsx)(Z.Z,{item:!0,xs:12,children:(0,ae.jsxs)(b.Z,{spacing:1.5,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_corr_action")||"Corrective Actions"}),(0,ae.jsx)(c.u,{"aria-label":"empty textarea",placeholder:"Corrective Action",value:Xs,minRows:6,className:"TxtAra",style:{width:"100%"},onChange:e=>{Js(e.target.value)}})]})})}),(0,ae.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_mst_project_id")||"Project ID"}),(0,ae.jsx)(r.Z,{options:pa,value:null!==(Q=null===Ft||void 0===Ft?void 0:Ft.label)&&void 0!==Q?Q:"",onChange:(e,t)=>{Ht(t)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",onClick:nr,variant:"outlined",fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_cause_code")||"Cause Code"}),(0,ae.jsx)(r.Z,{options:ps,value:null!==(V=null===ta||void 0===ta?void 0:ta.label)&&void 0!==V?V:"",onChange:(e,t)=>{sa(t)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_act_code")||"Action Code"}),(0,ae.jsx)(r.Z,{options:_s,value:null!==(K=null===ia||void 0===ia?void 0:ia.label)&&void 0!==K?K:"",onChange:(e,t)=>{oa(t)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_delay_cd")||"Delay Code"}),(0,ae.jsx)(r.Z,{options:gs,value:null!==(X=null===ca||void 0===ca?void 0:ca.label)&&void 0!==X?X:"",onChange:(e,t)=>{da(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_work_type"),children:er("wko_det_work_type")||"Work Type"}),(0,ae.jsx)(r.Z,{options:ws,value:null!==(J=null===_a||void 0===_a?void 0:_a.label)&&void 0!==J?J:"",onChange:(e,t)=>{ha(t),Ao(null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0,className:"wko_det_work_type"===So?"erroBorderadd":"",ref:zo})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_work_class"),children:er("wko_det_work_class")||"Work Permit Type"}),(0,ae.jsx)(r.Z,{options:ys,value:null!==($=null===ya||void 0===ya?void 0:ya.label)&&void 0!==$?$:"",onChange:(e,t)=>{Ca(t||null),Ao(null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0,className:"wko_det_work_class"===So?"erroBorderadd":""})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_work_grp"),children:er("wko_det_work_grp")||"Work Group"}),(0,ae.jsx)(r.Z,{options:as,value:null!==is&&""!==is?is.label:"",onChange:(e,t)=>{os(t),uo(!1),Ao(null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",onClick:cr,variant:"outlined",fullWidth:!0,className:"wko_det_work_grp"===So?"erroBorderadd":"",ref:zo})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_supv_id"),children:er("wko_det_supv_id")||"Supervisor ID"}),(0,ae.jsx)(r.Z,{options:ts,value:null!==(ee=null===Sa||void 0===Sa?void 0:Sa.label)&&void 0!==ee?ee:"",onChange:(e,t)=>{Aa(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",onClick:cr,variant:"outlined",fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_planner"),children:er("wko_det_planner")||"Planner"}),(0,ae.jsx)(r.Z,{options:Da,value:null!==(te=null===Ia||void 0===Ia?void 0:Ia.label)&&void 0!==te?te:"",onChange:(e,t)=>{Oa(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",onClick:dr,variant:"outlined",fullWidth:!0,className:"wko_det_planner"===So?"erroBorderadd":""})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_approver"),children:er("wko_det_approver")||"Approver"}),(0,ae.jsx)(r.Z,{options:Ma,value:null!==(se=null===Ra||void 0===Ra?void 0:Ra.label)&&void 0!==se?se:"",onChange:(e,t)=>{Ea(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",onClick:mr,variant:"outlined",fullWidth:!0,className:"wko_det_approver"===So?"erroBorderadd":""})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_perm_id"),children:er("wko_det_perm_id")||"Permanent ID"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",placeholder:"Area...",size:"small",variant:"outlined",value:Ta,onChange:e=>{Pa(e.target.value),Ao(null)},fullWidth:!0,className:"wko_det_perm_id"===So?"erroBorderadd":""})]})]}),(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:"Requiredlabel",children:$o("wko_mst_orig_priority")||"Original Periority"}),(0,ae.jsx)(r.Z,{options:bs,value:null!==(le=null===$s||void 0===$s?void 0:$s.label)&&void 0!==le?le:"",onChange:(e,t)=>{ea(t),ro(!1)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0,className:"Extrasize ".concat(oo?"errorEmpty":""),ref:zo})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_sched_date"),children:$o("wko_det_sched_date")||"Schedule Date"}),(0,ae.jsx)(p.x,{value:Vs,format:"dd/MM/yyyy HH:mm",className:"wko_det_sched_date"===So?"erroBorderadd":"Extrasize",onChange:e=>{la(e),Ao(null)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_exc_date"),children:$o("wko_det_exc_date")||"Exception Date"}),(0,ae.jsx)(p.x,{value:ra,format:"dd/MM/yyyy HH:mm",className:"wko_det_exc_date"===So?"erroBorderadd":"Extrasize",onChange:e=>{na(e),Ao(null)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_sc_date"),children:$o("wko_det_sc_date")||"Status Change Date"}),(0,ae.jsx)(p.x,{value:ma,format:"dd/MM/yyyy HH:mm",className:"wko_det_sc_date"===So?"erroBorderadd":"Extrasize",onChange:e=>{ua(e),Ao(null)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_cmpl_date"),children:$o("wko_det_cmpl_date")||"Completion Date"}),(0,ae.jsx)(p.x,{value:ga,format:"dd/MM/yyyy HH:mm",className:"wko_det_cmpl_date"===So?"erroBorderadd":"Extrasize",onChange:e=>{ja(e),Ao(null)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",className:tr("wko_det_clo_date"),children:$o("wko_det_clo_date")||"Close Date"}),(0,ae.jsx)(p.x,{value:ba,format:"dd/MM/yyyy HH:mm",className:"wko_det_clo_date"===So?"erroBorderadd":"Extrasize",onChange:e=>{fa(e),Ao(null)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_temp_asset")||"Temporary Asset"}),(0,ae.jsx)("div",{className:"customlayoutchk",children:(0,ae.jsx)(N.Z,{control:(0,ae.jsx)(S.Z,{color:"primary"}),checked:La,onChange:e=>{Ua(!La),Ga(La?"0":"1")},labelPlacement:"start"})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_approved")||"Approved"}),(0,ae.jsx)("div",{className:"customlayoutchk",children:(0,ae.jsx)(N.Z,{control:(0,ae.jsx)(S.Z,{color:"primary"}),checked:Ya,onChange:e=>{Qa(!Ya),Ka(Ya?"0":"1")},labelPlacement:"start"})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_safety")||"Safety"}),(0,ae.jsx)("div",{className:"customlayoutchk",children:(0,ae.jsx)(N.Z,{control:(0,ae.jsx)(S.Z,{color:"primary"}),checked:Xa,onChange:e=>{Ja(!Xa),el(Xa?"0":"1")},labelPlacement:"start"})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_wo_open")||"WO Open"}),(0,ae.jsx)("div",{className:"customlayoutchk",children:"\xa0Y"})]})]}),(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(y.Z,{rowGap:2,columnGap:1,display:"grid",gridTemplateColumns:{xs:"85%",sm:"85% 10%"},children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_assign_to")||"Assign To"}),(0,ae.jsx)(r.Z,{options:za,value:null!==(oe=null===Fa||void 0===Fa?void 0:Fa.label)&&void 0!==oe?oe:"",onChange:(e,t)=>{Ha(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",onClick:ur,variant:"outlined",style:{width:"100%"},fullWidth:!0})})]}),(0,ae.jsx)(G.Z,{title:"Assign To Audit",placement:"right",className:"tooltipRhtAssign",disabled:"Save"==wi,children:(0,ae.jsx)(u.Z,{children:(0,ae.jsx)(L.Z,{icon:"pajamas:status-alert",onClick:()=>{Ii(!0),Nr()}})})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_wr_no")||"Work Request No"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",size:"small",variant:"outlined",fullWidth:!0,disabled:!0})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_wr_due_date")||"WR Due Date"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,disabled:!0})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_parent_wo")||"Parent WO"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,disabled:!0})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_wr_org_date")||"WR Origination Date"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",size:"small",variant:"outlined",fullWidth:!0,disabled:!0})]})]})]})]}),(0,ae.jsx)(y.Z,{role:"tabpanel",hidden:1!==gt,sx:{marginTop:"16px"},children:(0,ae.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_customer_cd")||"Customer Code"}),(0,ae.jsx)(r.Z,{options:tl,value:null!==(re=null===al||void 0===al?void 0:al.label)&&void 0!==re?re:"",onChange:(e,t)=>{ll(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",onClick:pr,variant:"outlined",placeholder:"Select...",fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_crd_costcenter")||"Credit Cost Center"}),(0,ae.jsx)(r.Z,{options:pl,value:null!==(ne=null===_l||void 0===_l?void 0:_l.label)&&void 0!==ne?ne:"",onChange:(e,t)=>{hl(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",variant:"outlined",placeholder:"Select...",onClick:xr,fullWidth:!0})})]})]}),(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_laccount")||"Labor Account"}),(0,ae.jsx)(r.Z,{options:il,value:null!==(ce=null===rl||void 0===rl?void 0:rl.label)&&void 0!==ce?ce:"",onChange:(e,t)=>{nl(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",onClick:_r,fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_caccount")||"Contract Account"}),(0,ae.jsx)(r.Z,{options:gl,value:null!==(de=null===wl||void 0===wl?void 0:wl.label)&&void 0!==de?de:"",onChange:(e,t)=>{vl(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",variant:"outlined",placeholder:"Select...",onClick:hr,fullWidth:!0})})]})]}),(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_maccount")||"Material Account"}),(0,ae.jsx)(r.Z,{options:cl,value:null!==(me=null===ml||void 0===ml?void 0:ml.label)&&void 0!==me?me:"",onChange:(e,t)=>{ul(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",variant:"outlined",placeholder:"Select...",onClick:gr,fullWidth:!0})})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_saccount")||"Miscellaneous Account"}),(0,ae.jsx)(r.Z,{options:yl,value:null!==(ue=null===bl||void 0===bl?void 0:bl.label)&&void 0!==ue?ue:"",onChange:(e,t)=>{fl(t||null)},renderInput:e=>(0,ae.jsx)(k.Z,{...e,size:"small",variant:"outlined",placeholder:"Select...",onClick:jr,fullWidth:!0})})]})]})]})}),(0,ae.jsxs)(y.Z,{role:"tabpanel",hidden:2!==gt,sx:{marginTop:"16px"},children:[(0,ae.jsx)(Z.Z,{container:!0,spacing:2,children:(0,ae.jsx)(Z.Z,{item:!0,xs:12,children:(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_note1")||"Note1"}),(0,ae.jsx)(c.u,{"aria-label":"empty textarea",placeholder:"Note1...",defaultValue:Il,minRows:6,className:"TxtAra",style:{width:"100%"},onChange:e=>{Ol(e.target.value)}})]})})}),(0,ae.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar1")||"Varchar1"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:Ml,onChange:e=>{Wl(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar2")||"Varchar2"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:Rl,onChange:e=>{El(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar3")||"Varchar3"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:zl,onChange:e=>{Bl(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar4")||"Varchar4"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:Fl,onChange:e=>{Hl(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar5")||"Varchar5"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:Tl,onChange:e=>{Pl(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar6")||"Varchar6"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:Ll,onChange:e=>{Ul(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar7")||"Varchar7"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:ql,onChange:e=>{Gl(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar8")||"Varchar8"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",size:"small",variant:"outlined",fullWidth:!0,defaultValue:Yl,onChange:e=>{Ql(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar9")||"Varchar9"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:Vl,onChange:e=>{Kl(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_varchar10")||"Varchar10"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",fullWidth:!0,defaultValue:Xl,onChange:e=>{Jl(e.target.value)}})]})]}),(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_numeric1")||"Numeric1"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",placeholder:".0000",fullWidth:!0,defaultValue:$l,onChange:e=>{ei(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_numeric2")||"Numeric2"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",placeholder:".0000",fullWidth:!0,defaultValue:ti,onChange:e=>{si(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_numeric3")||"Numeric3"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",placeholder:".0000",fullWidth:!0,defaultValue:ai,onChange:e=>{li(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_numeric4")||"Numeric4"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",placeholder:".0000",fullWidth:!0,defaultValue:ii,onChange:e=>{oi(e.target.value)}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:er("wko_det_numeric5")||"Numeric5"}),(0,ae.jsx)(k.Z,{id:"outlined-basic",variant:"outlined",size:"small",placeholder:".0000",fullWidth:!0,defaultValue:ri,onChange:e=>{ni(e.target.value)}})]})]}),(0,ae.jsxs)(Z.Z,{item:!0,xs:12,md:4,children:[(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_datetime1")||"Date1"}),(0,ae.jsx)(p.x,{value:ci,format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{di(e)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_datetime2")||"Date2"}),(0,ae.jsx)(p.x,{format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{ui(e)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_datetime3")||"Date3"}),(0,ae.jsx)(p.x,{format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{xi(e)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_datetime4")||"Date4"}),(0,ae.jsx)(p.x,{format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{hi(e)},slotProps:{textField:{fullWidth:!0}}})]}),(0,ae.jsxs)(b.Z,{spacing:1,sx:{pb:1.5},children:[(0,ae.jsx)(D.Z,{variant:"subtitle2",children:$o("wko_det_datetime5")||"Date5"}),(0,ae.jsx)(p.x,{format:"dd/MM/yyyy HH:mm",className:"Extrasize",onChange:e=>{ji(e)},slotProps:{textField:{fullWidth:!0}}})]})]})]})]}),(0,ae.jsx)(y.Z,{role:"tabpanel",hidden:3!==gt,sx:{marginTop:"16px"},children:Ne&&(0,ae.jsx)(ve,{data:{RowID:Ne,WorkOrderNo:Ds,Asset_No:St}})}),(0,ae.jsx)(y.Z,{role:"tabpanel",hidden:4!==gt,sx:{marginTop:"16px"},children:Ne&&(0,ae.jsx)(ie,{data:{RowID:Ne,WorkOrderNo:Ds,Asset_No:St},onDataFromSecondComponent:e=>{window.location.reload()}})}),(0,ae.jsx)(y.Z,{role:"tabpanel",hidden:5!==gt,sx:{marginTop:"16px"},children:(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{style:{paddingBottom:"20px",backgroundColor:"white"},children:(0,ae.jsxs)("div",{className:"template-demo",style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)("div",{style:{marginRight:"10px"},children:(0,ae.jsx)("img",{src:U,style:{width:"60px",height:"60px"}})}),(0,ae.jsx)("div",{className:"template-demo",style:{display:"flex",flexDirection:"column"},children:(0,ae.jsx)("div",{style:{marginRight:"10px",fontWeight:"bold"},children:(0,ae.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData;qe.forEach((e=>{t.append("files[]",e)}))},className:"row",children:(0,ae.jsxs)("div",{className:"col-sm-10 text-center",children:[(0,ae.jsx)("input",{type:"file",ref:Pe,style:{display:"none"},multiple:!0,onChange:function(e){const t=e.target.files;Je((e=>[...e,...t]));const s=[...Ye];for(let a=0;a<t.length;a++){const e=new FileReader;e.onload=e=>{const l={name:t[a].name,type:t[a].type,base64:e.target.result};s.push(l),s.length===t.length&&Qe(s)},e.readAsDataURL(t[a])}Ge([...qe,...t]),ht("Ref_New_img")},className:"form-control form-control-lg",id:"formFileMultiple"}),(0,ae.jsx)("button",{onClick:()=>{Pe.current.click()},type:"submit",className:"btn Refbtl",children:"+ Add Attachment"})]})})})})]})}),(0,ae.jsx)("div",{className:"table-responsive",children:(0,ae.jsxs)("table",{className:"table table-hover mt-2 col-sm-12 astFimg",children:[(0,ae.jsx)("thead",{children:(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("th",{children:"Image"}),(0,ae.jsx)("th",{children:"File Name"}),(0,ae.jsx)("th",{children:"Audit User"}),(0,ae.jsx)("th",{children:"Audit Date"}),(0,ae.jsx)("th",{children:"Action"})]})}),(0,ae.jsxs)("tbody",{children:[""!==$e&&null!==$e&&$e.map(((e,t)=>(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:e.file_name.toLowerCase().endsWith(".pdf")?(0,ae.jsx)(I.G,{icon:W.gSj,onClick:()=>(e=>{const t=atob(e),s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);const a=new Blob([s],{type:"application/pdf"}),l=URL.createObjectURL(a);window.open(l,"_blank")})(e.attachment),style:{width:"50px",height:"50px"},className:"fntpdf"}):(0,ae.jsx)("img",{src:$e[0].attachment?"".concat(z.Z.defaults.baseURL).concat($e[0].attachment):"",style:{width:"60px",height:"60px"},onClick:()=>(e=>{st(e.attachment),vt(!0)})(e)},t)}),(0,ae.jsx)("td",{children:e.file_name}),(0,ae.jsx)("td",{children:e.audit_user}),(0,ae.jsx)("td",{children:new Date(e.audit_date.date).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,ae.jsx)("td",{children:(0,ae.jsx)("button",{type:"button",onClick:()=>(e=>{const t=$e.find((t=>t.RowID===e)),s=$e.filter((t=>t.RowID!==e));et(s),nt((e=>[...e,t]))})(e.RowID),className:"btn multiplsimg",children:(0,ae.jsx)(L.Z,{icon:"fluent:delete-48-filled",style:{fontSize:"24px"}})})})]},t))),qe.map(((e,t)=>e&&void 0===t?(0,ae.jsx)("tr",{children:(0,ae.jsx)("td",{children:(0,ae.jsx)("img",{src:$e[0].attachment?"".concat(z.Z.defaults.baseURL).concat($e[0].attachment):"",style:{width:"60px",height:"60px"}})})}):e.name.toLowerCase().endsWith(".pdf")?(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:(0,ae.jsx)(I.G,{icon:W.gSj,style:{width:"50px",height:"50px"}})}),(0,ae.jsx)("td",{children:e.name}),(0,ae.jsx)("td",{children:"Admin"}),(0,ae.jsx)("td",{children:(new Date).toLocaleString()+""}),(0,ae.jsx)("td",{children:(0,ae.jsx)("button",{type:"button",className:"btn",onClick:e=>{e.preventDefault(),Xo(t)},children:(0,ae.jsx)(L.Z,{icon:"carbon:close-outline"})})})]},t):(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{children:(0,ae.jsx)("img",{src:URL.createObjectURL(e),alt:"Uploaded image",onClick:t=>(Ct(e),void vt(!0))},t)}),(0,ae.jsx)("td",{children:e.name}),(0,ae.jsx)("td",{children:"Admin"}),(0,ae.jsx)("td",{children:(new Date).toLocaleString()+""}),(0,ae.jsx)("td",{children:(0,ae.jsx)("button",{type:"button",className:"btn",onClick:e=>{e.preventDefault(),Xo(t)},children:(0,ae.jsx)(L.Z,{icon:"carbon:close-outline"})})})]},t)))]}),Jo?(0,ae.jsxs)(Ce,{onClose:bt,"aria-labelledby":"customized-dialog-title",open:wt,children:[(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:bt,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"carbon:close-outline",style:{marginRight:"4px"}})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsxs)(D.Z,{gutterBottom:!0,children:[console.log("selectedImage____",tt),(0,ae.jsx)("img",{src:tt?"".concat(z.Z.defaults.baseURL).concat(tt):"",style:{width:"100%",height:"auto"}})]})})]}):(0,ae.jsxs)(Ce,{onClose:bt,"aria-labelledby":"customized-dialog-title",open:wt,children:[(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:bt,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"carbon:close-outline"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)(D.Z,{gutterBottom:!0,children:(0,ae.jsx)("img",{style:{height:"100%",width:"100%"},src:URL.createObjectURL(yt),alt:"Uploaded image"})})})]})]})})]})}),(0,ae.jsx)(y.Z,{role:"tabpanel",hidden:6!==gt,sx:{marginTop:"16px"}}),(0,ae.jsx)(Z.Z,{container:!0,xs:12,md:12,justifyContent:"flex-end",style:{paddingRight:"20px",marginTop:"20px"},children:(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(f.Z,{component:R.r,variant:"contained",className:"SaveButton",startIcon:(0,ae.jsx)(L.Z,{icon:"mingcute:save-fill"}),style:{backgroundColor:"#4CAF50",color:"white",marginRight:"10px"},onClick:wr,disabled:void 0!==Me&&""!==Me&&null!==Me||Is&&"CLO : CLOSED"===Is.label,children:wi}),(0,ae.jsx)(f.Z,{variant:"soft",color:"error",onClick:br,startIcon:(0,ae.jsx)(L.Z,{icon:"jam:close"}),children:"Close"})]})})]})})}),(0,ae.jsxs)(Ce,{onClose:lr,"aria-labelledby":"customized-dialog-title",open:sr,maxWidth:"lg",fullWidth:!0,children:[(0,ae.jsx)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:"Select Asset No"}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:lr,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{className:"TblSelect",children:(0,ae.jsx)(q.Z,{onRowClick:(e,t,s)=>{At(t),xo(!1),void 0!==e&&null!==e&&Nt(e),void 0!==t&&null!==t&&ir(t),"1"==s&&(ar(!1),Ot(""))},onChangePage:e=>{Wt(e)},onSearchChange:e=>{Ot(e)}})})}),(0,ae.jsxs)(g.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,ae.jsx)("div",{children:(0,ae.jsxs)("span",{class:"TotlFont",children:[It||(Mt?Dt-Mt:Dt||0),"\xa0Asset"]})}),(0,ae.jsx)("div",{className:"mlauto",children:(0,ae.jsx)(f.Z,{variant:"primary",onClick:lr,children:"Select"})})]})]}),(0,ae.jsx)("div",{children:(0,ae.jsxs)(Ce,{onClose:Si,"aria-labelledby":"customized-dialog-title",open:Ai,maxWidth:"lg",fullWidth:!0,children:[(0,ae.jsx)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:"Work Order Status Audit"}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:Si,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsxs)("div",{style:{width:"100%",maxWidth:"600px",marginLeft:"110px",marginTop:"-30px"},children:[console.log("steps_____",ki),(0,ae.jsx)(be,{children:ki.map((e=>{let{step:t,label:s,label1:a,label2:l,label3:i,label4:o,label5:r,label6:n}=e;return(0,ae.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,ae.jsx)("div",{style:{fontSize:"11px",color:"grey",position:"absolute",left:"-81px",top:"45px",width:"80px",height:"20px",borderRadius:"5%",textAlign:"right"},children:r}),(0,ae.jsx)("div",{step:t,style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"#4694d1",border:"3px solid ".concat("completed"===t?"#0080FF":"#F3E7F3"),transition:"0.4s ease",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)("div",{style:{fontSize:"15px",color:"#f3e7f3"},children:t})}),(0,ae.jsx)("div",{style:{position:"relative",bottom:"30px",textAlign:"left",left:"50px"},children:(0,ae.jsxs)("div",{style:{fontSize:"15px",color:"#4a154b"},children:[n," (",a,")"]},t)}),(0,ae.jsx)("div",{style:{position:"relative",bottom:"30px",textAlign:"left",left:"50px"},children:(0,ae.jsxs)("div",{style:{fontSize:"11px",color:"grey"},children:["Status Update By: ",l," (",i,")"]},t)}),(0,ae.jsx)("div",{style:{position:"relative",bottom:"30px",textAlign:"left",left:"50px"},children:(0,ae.jsxs)("div",{style:{fontSize:"11px",color:"grey"},children:["On Start Date: ",o]},t)})]},t)}))})]})})]})}),(0,ae.jsx)("div",{children:(0,ae.jsxs)(Ce,{onClose:Oi,"aria-labelledby":"customized-dialog-title",open:Ni,maxWidth:"lg",fullWidth:!0,children:[(0,ae.jsx)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:"Assign History"}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:Oi,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{width:"100%",maxWidth:"600px",marginLeft:"110px",marginTop:"-30px"},children:(0,ae.jsx)(be,{children:Mi.map((e=>{let{step:t,label:s,label1:a,label2:l,label3:i,label4:o,label5:r}=e;return(0,ae.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,ae.jsx)("div",{style:{fontSize:"11px",color:"grey",position:"absolute",left:"-90px",top:"0px",width:"80px",height:"20px",borderRadius:"5%",textAlign:"right"},children:o}),(0,ae.jsx)("div",{step:t,style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"#4694d1",border:"3px solid ".concat("completed"===t?"#0080FF":"#F3E7F3"),transition:"0.4s ease",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)("div",{style:{fontSize:"15px",color:"#f3e7f3"},children:t})}),(0,ae.jsx)("div",{style:{position:"relative",bottom:"30px",textAlign:"left",left:"50px"},children:(0,ae.jsx)("div",{style:{fontSize:"15px",color:"#4a154b"},children:s},t)}),(0,ae.jsx)("div",{style:{position:"relative",bottom:"30px",textAlign:"left",left:"50px"},children:(0,ae.jsx)("div",{style:{fontSize:"12px",color:"grey",fontWeight:"600"},children:a},t)})]},t)}))})})})]})}),(0,ae.jsxs)(Ce,{onClose:zi,"aria-labelledby":"customized-dialog-title",open:Ri,maxWidth:"lg",fullWidth:!0,children:[(0,ae.jsxs)(_.Z,{sx:{m:0,p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},id:"customized-dialog-title",className:"dailogTitWork",children:[(0,ae.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ae.jsx)(L.Z,{icon:"quill:chat",style:{fontSize:"24px",verticalAlign:"middle",marginRight:"5px"}}),(0,ae.jsx)("span",{style:{fontSize:"16px",verticalAlign:"middle"},children:"Work Order Comment"})]}),(0,ae.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:()=>{Mr()},sx:{color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"tabler:refresh"})}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:zi,sx:{color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"ic:baseline-close"})})]})]}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsxs)("div",{className:"chat-container",children:[(0,ae.jsx)("div",{className:"menud",ref:$i,children:(0,ae.jsx)("ol",{className:"chatd",children:Re?(0,ae.jsx)("li",{children:"Loading..."}):Li.map(((e,t)=>(0,ae.jsxs)("li",{className:"messagedd ".concat(e.wko_ls11_name===he?"self2":"other2"),children:[(0,ae.jsx)("div",{className:"avatar2 ".concat(e.wko_ls11_name===he?"top-left":"bottom-right"),children:(0,ae.jsx)("span",{children:e.wko_ls11_name?e.wko_ls11_name.charAt(0):"?"})}),(0,ae.jsx)("div",{className:"msg2",children:(0,ae.jsxs)("div",{className:"msfcls",children:[(0,ae.jsx)("p",{className:"usrName",children:(0,ae.jsx)("span",{children:e.wko_ls11_name})}),(0,ae.jsx)("p",{className:"msgP",children:M()(e.audit_date.date).format("DD/MM/YYYY HH:mm")}),e.full_size_link?(0,ae.jsx)("img",{src:e.full_size_link,alt:"Comment Img",style:{maxWidth:"100px",maxHeight:"100px",marginBottom:"10px",marginTop:"5px"}}):e.attachment?(0,ae.jsx)("img",{src:"data:image/png;base64,".concat(e.attachment),alt:"Comment Img",style:{maxWidth:"100px",maxHeight:"100px",marginBottom:"10px",marginTop:"5px"}}):null,(0,ae.jsx)("p",{className:"commentTxt",children:e.wko_ls11_sts_upd&&(0,ae.jsx)("p",{children:e.wko_ls11_sts_upd})})]})})]},t)))})}),(0,ae.jsxs)("div",{className:"input-container",children:[(0,ae.jsx)("label",{htmlFor:"file-upload",className:"upload-icon",children:(0,ae.jsx)(L.Z,{icon:"fa:camera"})}),(0,ae.jsx)("input",{type:"file",id:"file-upload",ref:Yi,style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{const s=e.result.split(",")[1],a=e.result,l=t.name;Gi(a),Ti({base64:s,fileName:l})},e.readAsDataURL(t)}}}),qi&&(0,ae.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,ae.jsx)("img",{src:qi,alt:"Uploaded Preview",style:{width:"50px",height:"50px",borderRadius:"50px",marginRight:"5px",cursor:"pointer"},onClick:()=>{Xi(!0)}}),(0,ae.jsx)("div",{style:{position:"absolute",top:"0",right:"0",cursor:"pointer",padding:"1px",background:"rgba(255, 255, 255, 0.7)",borderRadius:"50%",width:"21px",height:"22px"},onClick:()=>{Gi("")},children:(0,ae.jsx)(L.Z,{icon:"carbon:close-outline"})})]}),(0,ae.jsx)("input",{type:"text",className:"text_input",placeholder:"Comment...",disabled:!!qi,ref:Pi}),tt&&(0,ae.jsx)("div",{className:"upImgCntr",children:(0,ae.jsx)("img",{src:"data:image/png;base64,".concat(tt),alt:"Selected Image",style:{maxWidth:"100%",maxHeight:"100%"}})}),(0,ae.jsx)("button",{type:"submit",className:"submit-button",onClick:async()=>{F().fire({title:"Loading.... !",allowOutsideClick:!1}),F().showLoading();let e=localStorage.getItem("site_ID"),t=localStorage.getItem("emp_mst_login_id"),s=localStorage.getItem("emp_mst_name");const a=Pi.current.value.trim();if(""===a&&!Hi)return console.log("both empty"),void F().close();const l={wko_ls11_name:s,audit_user:t,audit_date:{date:M()().format("YYYY-MM-DD HH:mm:ss"),timezone_type:3,timezone:"UTC"},wko_ls11_sts_upd:a,attachment:Hi?Hi.base64:null};Ui((e=>[...e,l]));const i={site_cd:e,RowId:Ne,commentMsg:a,Emp_name:s,Emp_login_Name:t,orderNo:Ds,ImgUpload:Hi};try{const e=await z.Z.post("/insert_comment.php",JSON.stringify(i));"SUCCESS"===e.data.status?(F().close(),Pi.current&&(Pi.current.value=""),Gi(""),Ti(null),Or()):(F().close(),F().fire({icon:"error",title:"Oops...",text:e.data}))}catch(o){F().close(),console.error("Error submitting comment:",o),F().fire({icon:"error",title:"Submission Failed",text:"There was an error submitting your comment. Please try again."})}},children:(0,ae.jsx)(L.Z,{icon:"fa:send"})})]})]})})]}),(0,ae.jsxs)(Ce,{onClose:Ji,"aria-labelledby":"customized-dialog-title",open:Ki,maxWidth:"sm",fullWidth:!0,children:[(0,ae.jsx)(_.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:"Selected Image"}),(0,ae.jsx)(u.Z,{"aria-label":"close",onClick:Ji,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,ae.jsx)(L.Z,{icon:"material-symbols:close"})}),(0,ae.jsx)(h.Z,{dividers:!0,children:(0,ae.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,ae.jsx)("img",{src:qi,alt:"upload_img",style:{maxWidth:"100%",maxHeight:"100%"}})})})]}),(0,ae.jsx)("div",{className:"AssetFromSnackbar",children:(0,ae.jsx)(j.Z,{open:je,autoHideDuration:null,onClose:vr,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{boxShadow:"0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05)","& .MuiAlert-filledError":{backgroundColor:"#fff",color:"#000",fontWeight:"600",position:"relative",animation:je?"bounce-in 0.5s ease-out":"none"}},children:(0,ae.jsxs)(v.Z,{onClose:vr,severity:"error",variant:"filled",sx:{"@keyframes bounce-in":{"0%":{transform:"scale(0.9)"},"50%":{transform:"scale(1.05)"},"100%":{transform:"scale(1)"}}},children:[ye,(0,ae.jsx)(w.Z,{variant:"determinate",value:je?100-Se:0,style:{width:"99%",position:"absolute",bottom:"0",marginLeft:"-50px"},sx:{"& .MuiLinearProgress-bar":{backgroundColor:"green"}}})]})})})]})})]})]})}},4007:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(72791),l=s(40268),i=s(21830),o=s.n(i),r=s(15617),n=s.n(r),c=s(18709),d=s(80184);const m=e=>{let{onRowClick:t,onChangePage:s,onSearchChange:i}=e,r=localStorage.getItem("site_ID");const[m,u]=(0,a.useState)([]),[p,x]=(0,a.useState)(null),_=window.performance.now(),[h,g]=(0,a.useState)(0);(0,a.useEffect)((()=>{o().fire({title:"Please Wait !",allowOutsideClick:!1}),o().showLoading(),c.Z.get("/get_AssetWorkOrderStatus.php?site_cd="+r).then((e=>{const s=window.performance.now()-_;console.log("API load time: ".concat(s," milliseconds")),o().close(),u(e.data.data.WorkAssetNo),t(e.data.data.WorkAssetNo.length);window.performance.now()})).catch((e=>{console.log(e)}))}),[]);const j=[{title:"Asset No",field:"ast_mst_asset_no",render:e=>w(e)},{title:"Short Description",field:"ast_mst_asset_shortdesc"},{title:"Asset Status",field:"ast_mst_asset_status"},{title:"Asset Location",field:"ast_mst_work_area"}],w=e=>e.ast_mst_asset_no===p?(0,d.jsxs)("div",{children:[(0,d.jsx)(l.Z,{icon:"mingcute:save-fill",style:{marginRight:"0px",marginTop:"2px",float:"left",fontSize:"16px",color:"#289e49"}}),e.ast_mst_asset_no]}):(0,d.jsx)("div",{children:e.ast_mst_asset_no});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{children:(0,d.jsx)("div",{class:"container Ordertbl",children:(0,d.jsx)(n(),{title:"",data:m,columns:j,options:{search:!0,paging:!0,pageSize:10,pageSizeOptions:!1,overflowY:"auto",paginationPosition:"top",toolbarButtonAlignment:"right",paginationType:"normal",rowStyle:e=>({backgroundColor:e.ast_mst_asset_no===p?"#a9ebb9":"#FFF",fontSize:"12px !important"})},onRowClick:(e,s)=>{p&&p===s.ast_mst_asset_no&&t(m.length,s.ast_mst_asset_no+" : "+s.ast_mst_asset_shortdesc,1),x(s.ast_mst_asset_no),t(m.length,s.ast_mst_asset_no+" : "+s.ast_mst_asset_shortdesc)},onChangePage:e=>{const t=10*e;g(t),s(t)},onSearchChange:e=>(e=>{const t=m.filter((t=>t.ast_mst_asset_no.toLowerCase().includes(e.toLowerCase())||t.ast_mst_asset_shortdesc.toLowerCase().includes(e.toLowerCase())||t.ast_mst_asset_status.toLowerCase().includes(e.toLowerCase())||t.ast_mst_work_area.toLowerCase().includes(e.toLowerCase())));i(t.length)})(e)})})})})}},6405:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(72791),l=s(21830),i=s.n(l),o=s(15617),r=s.n(o),n=s(18709),c=s(40268),d=s(80184);const m=e=>{let{onRowClick:t}=e,s=localStorage.getItem("site_ID");const[l,o]=(0,a.useState)([]),[m,u]=(0,a.useState)(0),[p,x]=(0,a.useState)(null),[_,h]=(0,a.useState)(0);(0,a.useEffect)((()=>{i().fire({title:"Please Wait !",allowOutsideClick:!1}),i().showLoading(),n.Z.get("/get_stock_no_popup_data.php?site_cd="+s).then((e=>{i().close(),o(e.data.data),u(e.data.data.length)})).catch((e=>{console.log(e)}))}),[]);const g=[{title:"Stock No",field:"itm_mst_stockno",cellStyle:{width:"60px"},render:e=>j(e)},{title:"Description",field:"itm_mst_desc",cellStyle:{width:"350px"},render:e=>e.itm_mst_desc.length>40?"".concat(e.itm_mst_desc.substring(0,40),"..."):e.itm_mst_desc},{title:"Extended Description",field:"itm_mst_ext_desc",cellStyle:{width:"250px"}},{title:"Part No",field:"itm_mst_partno"},{title:"Total OH",field:"itm_mst_ttl_oh"},{title:"Type",field:"itm_mst_type"},{title:"Commodity Code",field:"itm_mst_com_code",cellStyle:{width:"250px"}},{title:"Stock Group",field:"itm_mst_itm_grp",cellStyle:{width:"200px"}}],j=e=>e.itm_mst_stockno===p?(0,d.jsxs)("div",{children:[(0,d.jsx)(c.Z,{icon:"simple-line-icons:check",style:{marginRight:"0px",marginTop:"2px",float:"left",fontSize:"16px",color:"#289e49"}}),e.itm_mst_stockno]}):(0,d.jsx)("div",{children:e.itm_mst_stockno});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{children:(0,d.jsx)("div",{class:"container Ordertbl",children:(0,d.jsx)(r(),{title:"",data:l,columns:g,options:{search:!0,paging:!0,pageSize:10,pageSizeOptions:!1,overflowY:"auto",paginationPosition:"top",toolbarButtonAlignment:"right",paginationType:"normal",rowStyle:e=>({backgroundColor:e.itm_mst_stockno===p?"#a9ebb9":"#FFF",fontSize:"12px !important"})},onRowClick:(e,s)=>{p&&p===s.itm_mst_stockno&&t(s.itm_mst_stockno,s.itm_mst_desc,1),x(s.itm_mst_stockno),t(s.itm_mst_stockno,s.itm_mst_desc)}})})})})}},76977:(e,t,s)=>{e.exports=s.p+"static/media/Add_Image_icon.8572e93b1eb5ea4880b1.png"},48157:(e,t,s)=>{e.exports=s.p+"static/media/loder.1a690078a61404cf4789.gif"},37225:e=>{e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=3062.61f39dc8.chunk.js.map