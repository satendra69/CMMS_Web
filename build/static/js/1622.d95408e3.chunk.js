"use strict";(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[1622],{25265:(e,t,n)=>{n.d(t,{ZP:()=>f,l2:()=>l,wE:()=>d});var r=n(82599),s=n(54690),o=n(85375),a=n(87183);function l(e,t){const n=(new Date).getFullYear(),l=e?(0,r.Z)(e):null,i=t?(0,r.Z)(t):null,d=n===l&&n===i,c=!(!e||!t)&&(0,s.Z)(new Date(e),new Date(t)),x=!(!e||!t)&&(0,o.Z)(new Date(e),new Date(t));return d?x?c?(0,a.Mu)(t,"dd MMM yy"):"".concat((0,a.Mu)(e,"dd")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM")," - ").concat((0,a.Mu)(t,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM yy")," - ").concat((0,a.Mu)(t,"dd MMM yy"))}var i=n(72791);function d(e,t){const[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(t),[d,c]=(0,i.useState)(e),x=!(!e||!t)&&new Date(e).getTime()>new Date(t).getTime(),h=(0,i.useCallback)((()=>{r(!0)}),[]),u=(0,i.useCallback)((()=>{r(!1)}),[]);return{startDate:d,endDate:s,onChangeStartDate:(0,i.useCallback)((e=>{c(e)}),[]),onChangeEndDate:(0,i.useCallback)((e=>{x&&o(null),o(e)}),[x]),open:n,onOpen:h,onClose:u,onReset:(0,i.useCallback)((()=>{c(null),o(null)}),[]),selected:!!d&&!!s,error:x,label:"".concat((0,a.Mu)(d)," - ").concat((0,a.Mu)(s)),shortLabel:l(d,s),setStartDate:c,setEndDate:o}}var c=n(53106),x=n(16997),h=n(4841),u=n(53767),p=n(5849),m=n(5574),j=n(65661),Z=n(77386),g=n(4899),y=n(30035),b=n(38887),w=n(80184);function f(e){let{title:t="Select date range",variant:n="input",startDate:r,endDate:s,onChangeStartDate:o,onChangeEndDate:a,open:l,onClose:i,error:d}=e;const f=(0,b.F)("up","md"),v="calendar"===n;return(0,w.jsxs)(m.Z,{fullWidth:!0,maxWidth:!v&&"xs",open:l,onClose:i,PaperProps:{sx:{...v&&{maxWidth:720}}},children:[(0,w.jsx)(j.Z,{sx:{pb:2},children:t}),(0,w.jsxs)(g.Z,{sx:{...v&&f&&{overflow:"unset"}},children:[(0,w.jsx)(u.Z,{justifyContent:"center",spacing:v?3:2,direction:v&&f?"row":"column",sx:{pt:1},children:v?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(x.W,{value:r,onChange:o})}),(0,w.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(x.W,{value:s,onChange:a})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.M,{label:"Start date",value:r,onChange:o}),(0,w.jsx)(c.M,{label:"End date",value:s,onChange:a})]})}),d&&(0,w.jsx)(y.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,w.jsxs)(Z.Z,{children:[(0,w.jsx)(p.Z,{variant:"outlined",color:"inherit",onClick:i,children:"Cancel"}),(0,w.jsx)(p.Z,{disabled:d,variant:"contained",onClick:i,children:"Apply"})]})]})}},51622:(e,t,n)=>{n.d(t,{H:()=>Ze,C:()=>J});var r=n(72791),s=n(12065),o=n(61474),a=n(29347),l=n(88588),i=n(15416),d=n(5849),c=n(97639),x=n(10266),h=n(62155),u=n(90977),p=n(55261),m=n(38072),j=n(19208),Z=n(18306),g=n(87183),y=n(22459),b=n(80160),w=n(40268),f=n(63454),v=n(3352),C=n(60720),D=n(73379),k=n(1382),S=n(16386),M=n(64554),P=n(4841),I=n(53767),R=n(60220),T=n(76090),A=n(82626),F=n(9195),O=n(13034),W=n(68745),_=n(49900),E=n(17070),N=n(56832),Q=n(80184);function z(e){let{row:t,selected:n,onViewRow:r,onSelectRow:s,onDeleteRow:o}=e;const{items:a,status:l,orderNumber:i,createdAt:c,customer:x,totalQuantity:h,subTotal:p}=t,m=(0,y.k)(),j=(0,y.k)(),Z=(0,N.S)(),g=(0,Q.jsxs)(F.Z,{hover:!0,selected:n,children:[(0,Q.jsx)(W.Z,{padding:"checkbox",children:(0,Q.jsx)(O.Z,{checked:n,onClick:s})}),(0,Q.jsx)(W.Z,{children:(0,Q.jsx)(M.Z,{onClick:r,sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:i})}),(0,Q.jsxs)(W.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,Q.jsx)(R.Z,{alt:x.name,src:x.avatarUrl,sx:{mr:2}}),(0,Q.jsx)(_.Z,{primary:x.name,secondary:x.email,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled"}})]}),(0,Q.jsx)(W.Z,{children:(0,Q.jsx)(_.Z,{primary:(0,S.Z)(new Date(c),"dd MMM yyyy"),secondary:(0,S.Z)(new Date(c),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,Q.jsxs)(W.Z,{align:"center",children:[" ",h," "]}),(0,Q.jsxs)(W.Z,{children:[" ",(0,E.e_)(p)," "]}),(0,Q.jsx)(W.Z,{children:(0,Q.jsx)(b.Z,{variant:"soft",color:("completed"===l?"success":"pending"===l&&"warning")||"cancelled"===l&&"error"||"default",children:l})}),(0,Q.jsxs)(W.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[(0,Q.jsx)(u.Z,{color:j.value?"inherit":"default",onClick:j.onToggle,sx:{...j.value&&{bgcolor:"action.hover"}},children:(0,Q.jsx)(w.Z,{icon:"eva:arrow-ios-downward-fill"})}),(0,Q.jsx)(u.Z,{color:Z.open?"inherit":"default",onClick:Z.onOpen,children:(0,Q.jsx)(w.Z,{icon:"eva:more-vertical-fill"})})]})]}),f=(0,Q.jsx)(F.Z,{children:(0,Q.jsx)(W.Z,{sx:{p:0,border:"none"},colSpan:8,children:(0,Q.jsx)(T.Z,{in:j.value,timeout:"auto",unmountOnExit:!0,sx:{bgcolor:"background.neutral"},children:(0,Q.jsx)(I.Z,{component:P.Z,sx:{m:1.5},children:a.map((e=>(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",sx:{p:e=>e.spacing(1.5,2,1.5,1.5),"&:not(:last-of-type)":{borderBottom:e=>"solid 2px ".concat(e.palette.background.neutral)}},children:[(0,Q.jsx)(R.Z,{src:e.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),(0,Q.jsx)(_.Z,{primary:e.name,secondary:e.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),(0,Q.jsxs)(M.Z,{children:["x",e.quantity]}),(0,Q.jsx)(M.Z,{sx:{width:110,textAlign:"right"},children:(0,E.e_)(e.price)})]},e.id)))})})})});return(0,Q.jsxs)(Q.Fragment,{children:[g,f,(0,Q.jsxs)(N.Z,{open:Z.open,onClose:Z.onClose,arrow:"right-top",sx:{width:140},children:[(0,Q.jsxs)(A.Z,{onClick:()=>{m.onTrue(),Z.onClose()},sx:{color:"error.main"},children:[(0,Q.jsx)(w.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]}),(0,Q.jsxs)(A.Z,{onClick:()=>{r(),Z.onClose()},children:[(0,Q.jsx)(w.Z,{icon:"solar:eye-bold"}),"View"]})]}),(0,Q.jsx)(v.Q,{open:m.value,onClose:m.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,Q.jsx)(d.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var L=n(53106),X=n(93006),B=n(97808);function H(e){let{filters:t,onFilters:n,canReset:s,onResetFilters:o}=e;const a=(0,N.S)(),l=(0,r.useCallback)((e=>{n("name",e.target.value)}),[n]),i=(0,r.useCallback)((e=>{n("startDate",e)}),[n]),c=(0,r.useCallback)((e=>{n("endDate",e)}),[n]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(I.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,Q.jsx)(L.M,{label:"Start date",value:t.startDate,onChange:i,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,Q.jsx)(L.M,{label:"End date",value:t.endDate,onChange:c,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:200}}}),(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,Q.jsx)(X.Z,{fullWidth:!0,value:t.name,onChange:l,placeholder:"Search customer or order number...",InputProps:{startAdornment:(0,Q.jsx)(B.Z,{position:"start",children:(0,Q.jsx)(w.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,Q.jsx)(u.Z,{onClick:a.onOpen,children:(0,Q.jsx)(w.Z,{icon:"eva:more-vertical-fill"})})]}),s&&(0,Q.jsx)(d.Z,{color:"error",sx:{flexShrink:0},onClick:o,startIcon:(0,Q.jsx)(w.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]}),(0,Q.jsxs)(N.Z,{open:a.open,onClose:a.onClose,arrow:"right-top",sx:{width:140},children:[(0,Q.jsxs)(A.Z,{onClick:()=>{a.onClose()},children:[(0,Q.jsx)(w.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,Q.jsxs)(A.Z,{onClick:()=>{a.onClose()},children:[(0,Q.jsx)(w.Z,{icon:"solar:import-bold"}),"Import"]}),(0,Q.jsxs)(A.Z,{onClick:()=>{a.onClose()},children:[(0,Q.jsx)(w.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var U=n(85771),Y=n(25265);function G(e){let{filters:t,onFilters:n,onResetFilters:r,results:s,...o}=e;const a=(0,Y.l2)(t.startDate,t.endDate);return(0,Q.jsxs)(I.Z,{spacing:1.5,...o,children:[(0,Q.jsxs)(M.Z,{sx:{typography:"body2"},children:[(0,Q.jsx)("strong",{children:s}),(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,Q.jsxs)(I.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:["all"!==t.status&&(0,Q.jsx)(q,{label:"Status:",children:(0,Q.jsx)(U.Z,{size:"small",label:t.status,onDelete:()=>{n("status","all")}})}),t.startDate&&t.endDate&&(0,Q.jsx)(q,{label:"Date:",children:(0,Q.jsx)(U.Z,{size:"small",label:a,onDelete:()=>{n("startDate",null),n("endDate",null)}})}),(0,Q.jsx)(d.Z,{color:"error",onClick:r,startIcon:(0,Q.jsx)(w.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function q(e){let{label:t,children:n,sx:r,...s}=e;return(0,Q.jsxs)(I.Z,{component:P.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...r},...s,children:[(0,Q.jsx)(M.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,Q.jsx)(I.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const K=[{value:"all",label:"All"},...Z.s8],V=[{id:"orderNumber",label:"Order",width:116},{id:"name",label:"Customer"},{id:"createdAt",label:"Date",width:140},{id:"totalQuantity",label:"Items",width:120,align:"center"},{id:"totalAmount",label:"Price",width:140},{id:"status",label:"Status",width:110},{id:"",width:88}],$={name:"",status:"all",startDate:null,endDate:null};function J(){const e=(0,k.x6)({defaultOrderBy:"orderNumber"}),t=(0,C.K$)(),n=(0,j.tv)(),S=(0,y.k)(),[M,P]=(0,r.useState)(Z._Q),[I,R]=(0,r.useState)($),T=!(!I.startDate||!I.endDate)&&I.startDate.getTime()>I.endDate.getTime(),A=function(e){let{inputData:t,comparator:n,filters:r,dateError:s}=e;const{status:o,name:a,startDate:l,endDate:i}=r,d=t.map(((e,t)=>[e,t]));d.sort(((e,t)=>{const r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=d.map((e=>e[0])),a&&(t=t.filter((e=>-1!==e.orderNumber.toLowerCase().indexOf(a.toLowerCase())||-1!==e.customer.name.toLowerCase().indexOf(a.toLowerCase())||-1!==e.customer.email.toLowerCase().indexOf(a.toLowerCase()))));"all"!==o&&(t=t.filter((e=>e.status===o)));s||l&&i&&(t=t.filter((e=>(0,g.IO)(e.createdAt)>=(0,g.IO)(l)&&(0,g.IO)(e.createdAt)<=(0,g.IO)(i))));return t}({inputData:M,comparator:(0,k.sQ)(e.order,e.orderBy),filters:I,dateError:T}),F=A.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),O=e.dense?52:72,W=!!I.name||"all"!==I.status||!!I.startDate&&!!I.endDate,_=!A.length&&W||!A.length,E=(0,r.useCallback)(((t,n)=>{e.onResetPage(),R((e=>({...e,[t]:n})))}),[e]),N=(0,r.useCallback)((t=>{const n=M.filter((e=>e.id!==t));P(n),e.onUpdatePageDeleteRow(F.length)}),[F.length,e,M]),L=(0,r.useCallback)((()=>{const t=M.filter((t=>!e.selected.includes(t.id)));P(t),e.onUpdatePageDeleteRows({totalRows:M.length,totalRowsInPage:F.length,totalRowsFiltered:A.length})}),[A.length,F.length,e,M]),X=(0,r.useCallback)((()=>{R($)}),[]),B=(0,r.useCallback)((e=>{n.push(m.H.dashboard.order.details(e))}),[n]),U=(0,r.useCallback)(((e,t)=>{E("status",t)}),[E]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(x.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,Q.jsx)(D.Z,{heading:"List",links:[{name:"Dashboard",href:m.H.dashboard.root},{name:"Order",href:m.H.dashboard.order.root},{name:"List"}],sx:{mb:{xs:3,md:5}}}),(0,Q.jsxs)(l.Z,{children:[(0,Q.jsx)(a.Z,{value:I.status,onChange:U,sx:{px:2.5,boxShadow:e=>"inset 0 -2px 0 0 ".concat((0,s.Fq)(e.palette.grey[500],.08))},children:K.map((e=>(0,Q.jsx)(o.Z,{iconPosition:"end",value:e.value,label:e.label,icon:(0,Q.jsxs)(b.Z,{variant:"all"===e.value||e.value===I.status?"filled":"soft",color:("completed"===e.value?"success":"pending"===e.value&&"warning")||"cancelled"===e.value&&"error"||"default",children:["all"===e.value&&Z._Q.length,"completed"===e.value&&Z._Q.filter((e=>"completed"===e.status)).length,"pending"===e.value&&Z._Q.filter((e=>"pending"===e.status)).length,"cancelled"===e.value&&Z._Q.filter((e=>"cancelled"===e.status)).length,"refunded"===e.value&&Z._Q.filter((e=>"refunded"===e.status)).length]})},e.value)))}),(0,Q.jsx)(H,{filters:I,onFilters:E,canReset:W,onResetFilters:X}),W&&(0,Q.jsx)(G,{filters:I,onFilters:E,onResetFilters:X,results:A.length,sx:{p:2.5,pt:0}}),(0,Q.jsxs)(p.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,Q.jsx)(k.Z4,{dense:e.dense,numSelected:e.selected.length,rowCount:M.length,onSelectAllRows:t=>e.onSelectAllRows(t,M.map((e=>e.id))),action:(0,Q.jsx)(c.Z,{title:"Delete",children:(0,Q.jsx)(u.Z,{color:"primary",onClick:S.onTrue,children:(0,Q.jsx)(w.Z,{icon:"solar:trash-bin-trash-bold"})})})}),(0,Q.jsx)(f.Z,{children:(0,Q.jsxs)(i.Z,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[(0,Q.jsx)(k.K,{order:e.order,orderBy:e.orderBy,headLabel:V,rowCount:M.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,M.map((e=>e.id)))}),(0,Q.jsxs)(h.Z,{children:[A.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map((t=>(0,Q.jsx)(z,{row:t,selected:e.selected.includes(t.id),onSelectRow:()=>e.onSelectRow(t.id),onDeleteRow:()=>N(t.id),onViewRow:()=>B(t.id)},t.id))),(0,Q.jsx)(k.$W,{height:O,emptyRows:(0,k.fQ)(e.page,e.rowsPerPage,M.length)}),(0,Q.jsx)(k.et,{notFound:_})]})]})})]}),(0,Q.jsx)(k.S_,{count:A.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),(0,Q.jsx)(v.Q,{open:S.value,onClose:S.onFalse,title:"Delete",content:(0,Q.jsxs)(Q.Fragment,{children:["Are you sure want to delete ",(0,Q.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,Q.jsx)(d.Z,{variant:"contained",color:"error",onClick:()=>{L(),S.onFalse()},children:"Delete"})})]})}var ee=n(24308),te=n(65469),ne=n(94721),re=n(6718),se=n(4567);function oe(e){let{customer:t,delivery:n,payment:r,shippingAddress:s}=e;const o=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(re.Z,{title:"Customer Info",action:(0,Q.jsx)(u.Z,{children:(0,Q.jsx)(w.Z,{icon:"solar:pen-bold"})})}),(0,Q.jsxs)(I.Z,{direction:"row",sx:{p:3},children:[(0,Q.jsx)(R.Z,{alt:t.name,src:t.avatarUrl,sx:{width:48,height:48,mr:2}}),(0,Q.jsxs)(I.Z,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[(0,Q.jsx)(se.Z,{variant:"subtitle2",children:t.name}),(0,Q.jsx)(M.Z,{sx:{color:"text.secondary"},children:t.email}),(0,Q.jsxs)(M.Z,{children:["IP Address:",(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:t.ipAddress})]}),(0,Q.jsx)(d.Z,{size:"small",color:"error",startIcon:(0,Q.jsx)(w.Z,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]}),a=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(re.Z,{title:"Delivery",action:(0,Q.jsx)(u.Z,{children:(0,Q.jsx)(w.Z,{icon:"solar:pen-bold"})})}),(0,Q.jsxs)(I.Z,{spacing:1.5,sx:{p:3,typography:"body2"},children:[(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",children:[(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),n.shipBy]}),(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",children:[(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),n.speedy]}),(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",children:[(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),(0,Q.jsx)(te.Z,{underline:"always",color:"inherit",children:n.trackingNumber})]})]})]}),i=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(re.Z,{title:"Shipping",action:(0,Q.jsx)(u.Z,{children:(0,Q.jsx)(w.Z,{icon:"solar:pen-bold"})})}),(0,Q.jsxs)(I.Z,{spacing:1.5,sx:{p:3,typography:"body2"},children:[(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",children:[(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),s.fullAddress]}),(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",children:[(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),s.phoneNumber]})]})]}),c=(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(re.Z,{title:"Payment",action:(0,Q.jsx)(u.Z,{children:(0,Q.jsx)(w.Z,{icon:"solar:pen-bold"})})}),(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",sx:{p:3,typography:"body2"},children:[(0,Q.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",flexGrow:1},children:"Phone number"}),r.cardNumber,(0,Q.jsx)(w.Z,{icon:"logos:mastercard",width:24,sx:{ml:.5}})]})]});return(0,Q.jsxs)(l.Z,{children:[o,(0,Q.jsx)(ne.Z,{sx:{borderStyle:"dashed"}}),a,(0,Q.jsx)(ne.Z,{sx:{borderStyle:"dashed"}}),i,(0,Q.jsx)(ne.Z,{sx:{borderStyle:"dashed"}}),c]})}function ae(e){let{items:t,shipping:n,discount:r,taxes:s,subTotal:o,totalAmount:a}=e;const i=(0,Q.jsxs)(I.Z,{spacing:2,alignItems:"flex-end",sx:{my:3,textAlign:"right",typography:"body2"},children:[(0,Q.jsxs)(I.Z,{direction:"row",children:[(0,Q.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,Q.jsx)(M.Z,{sx:{width:160,typography:"subtitle2"},children:(0,E.e_)(o)||"-"})]}),(0,Q.jsxs)(I.Z,{direction:"row",children:[(0,Q.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,Q.jsx)(M.Z,{sx:{width:160,...n&&{color:"error.main"}},children:n?"- ".concat((0,E.e_)(n)):"-"})]}),(0,Q.jsxs)(I.Z,{direction:"row",children:[(0,Q.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,Q.jsx)(M.Z,{sx:{width:160,...r&&{color:"error.main"}},children:r?"- ".concat((0,E.e_)(r)):"-"})]}),(0,Q.jsxs)(I.Z,{direction:"row",children:[(0,Q.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,Q.jsx)(M.Z,{sx:{width:160},children:s?(0,E.e_)(s):"-"})]}),(0,Q.jsxs)(I.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,Q.jsx)(M.Z,{children:"Total"}),(0,Q.jsx)(M.Z,{sx:{width:160},children:(0,E.e_)(a)||"-"})]})]});return(0,Q.jsxs)(l.Z,{children:[(0,Q.jsx)(re.Z,{title:"Details"}),(0,Q.jsxs)(I.Z,{sx:{px:3},children:[(0,Q.jsx)(f.Z,{children:t.map((e=>(0,Q.jsxs)(I.Z,{direction:"row",alignItems:"center",sx:{py:3,minWidth:640,borderBottom:e=>"dashed 2px ".concat(e.palette.background.neutral)},children:[(0,Q.jsx)(R.Z,{src:e.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),(0,Q.jsx)(_.Z,{primary:e.name,secondary:e.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),(0,Q.jsxs)(M.Z,{sx:{typography:"body2"},children:["x",e.quantity]}),(0,Q.jsx)(M.Z,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:(0,E.e_)(e.price)})]},e.id)))}),i]})]})}var le=n(83854);function ie(e){let{status:t,backLink:n,createdAt:r,orderNumber:s,statusOptions:o,onChangeStatus:a}=e;const l=(0,N.S)();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(I.Z,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[(0,Q.jsxs)(I.Z,{spacing:1,direction:"row",alignItems:"flex-start",children:[(0,Q.jsx)(u.Z,{component:le.r,href:n,children:(0,Q.jsx)(w.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,Q.jsxs)(I.Z,{spacing:.5,children:[(0,Q.jsxs)(I.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,Q.jsxs)(se.Z,{variant:"h4",children:[" Order ",s," "]}),(0,Q.jsx)(b.Z,{variant:"soft",color:("completed"===t?"success":"pending"===t&&"warning")||"cancelled"===t&&"error"||"default",children:t})]}),(0,Q.jsx)(se.Z,{variant:"body2",sx:{color:"text.disabled"},children:(0,g.zM)(r)})]})]}),(0,Q.jsxs)(I.Z,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[(0,Q.jsx)(d.Z,{color:"inherit",variant:"outlined",endIcon:(0,Q.jsx)(w.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:l.onOpen,sx:{textTransform:"capitalize"},children:t}),(0,Q.jsx)(d.Z,{color:"inherit",variant:"outlined",startIcon:(0,Q.jsx)(w.Z,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),(0,Q.jsx)(d.Z,{color:"inherit",variant:"contained",startIcon:(0,Q.jsx)(w.Z,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),(0,Q.jsx)(N.Z,{open:l.open,onClose:l.onClose,arrow:"top-right",sx:{width:140},children:o.map((e=>(0,Q.jsx)(A.Z,{selected:e.value===t,onClick:()=>{l.onClose(),a(e.value)},children:e.label},e.value)))})]})}var de=n(89616),ce=n(30556),xe=n(27454),he=n(84909),ue=n(85044),pe=n(21658),me=n(23454);function je(e){let{history:t}=e;const n=(0,Q.jsxs)(I.Z,{spacing:2,component:P.Z,variant:"outlined",sx:{p:2.5,minWidth:260,flexShrink:0,borderRadius:2,typography:"body2",borderStyle:"dashed"},children:[(0,Q.jsxs)(I.Z,{spacing:.5,children:[(0,Q.jsx)(M.Z,{sx:{color:"text.disabled"},children:"Order time"}),(0,g.zM)(t.orderTime)]}),(0,Q.jsxs)(I.Z,{spacing:.5,children:[(0,Q.jsx)(M.Z,{sx:{color:"text.disabled"},children:"Payment time"}),(0,g.zM)(t.orderTime)]}),(0,Q.jsxs)(I.Z,{spacing:.5,children:[(0,Q.jsx)(M.Z,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),(0,g.zM)(t.orderTime)]}),(0,Q.jsxs)(I.Z,{spacing:.5,children:[(0,Q.jsx)(M.Z,{sx:{color:"text.disabled"},children:"Completion time"}),(0,g.zM)(t.orderTime)]})]}),r=(0,Q.jsx)(de.Z,{sx:{p:0,m:0,["& .".concat(pe.Z.root,":before")]:{flex:0,padding:0}},children:t.timeline.map(((e,n)=>{const r=0===n,s=n===t.timeline.length-1;return(0,Q.jsxs)(me.Z,{children:[(0,Q.jsxs)(he.Z,{children:[(0,Q.jsx)(ce.Z,{color:r?"primary":"grey"}),s?null:(0,Q.jsx)(ue.Z,{})]}),(0,Q.jsxs)(xe.Z,{children:[(0,Q.jsx)(se.Z,{variant:"subtitle2",children:e.title}),(0,Q.jsx)(M.Z,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:(0,g.zM)(e.time)})]})]},e.title)}))});return(0,Q.jsxs)(l.Z,{children:[(0,Q.jsx)(re.Z,{title:"History"}),(0,Q.jsxs)(I.Z,{spacing:3,alignItems:{md:"flex-start"},direction:{xs:"column-reverse",md:"row"},sx:{p:3},children:[r,n]})]})}function Ze(e){let{id:t}=e;const n=(0,C.K$)(),s=Z._Q.filter((e=>e.id===t))[0],[o,a]=(0,r.useState)(s.status),l=(0,r.useCallback)((e=>{a(e)}),[]);return(0,Q.jsxs)(x.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,Q.jsx)(ie,{backLink:m.H.dashboard.order.root,orderNumber:s.orderNumber,createdAt:s.createdAt,status:o,onChangeStatus:l,statusOptions:Z.s8}),(0,Q.jsxs)(ee.Z,{container:!0,spacing:3,children:[(0,Q.jsx)(ee.Z,{xs:12,md:8,children:(0,Q.jsxs)(I.Z,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:[(0,Q.jsx)(ae,{items:s.items,taxes:s.taxes,shipping:s.shipping,discount:s.discount,subTotal:s.subTotal,totalAmount:s.totalAmount}),(0,Q.jsx)(je,{history:s.history})]})}),(0,Q.jsx)(ee.Z,{xs:12,md:4,children:(0,Q.jsx)(oe,{customer:s.customer,delivery:s.delivery,payment:s.payment,shippingAddress:s.shippingAddress})})]})]})}},87183:(e,t,n)=>{n.d(t,{DY:()=>d,IO:()=>i,Mu:()=>a,zM:()=>l});var r=n(16386),s=n(64460),o=n(24054);function a(e,t){const n=t||"dd MMM yyyy";return e?(0,r.Z)(new Date(e),n):""}function l(e,t){const n=t||"dd MMM yyyy p";return e?(0,r.Z)(new Date(e),n):""}function i(e){return e?(0,s.Z)(new Date(e)):""}function d(e){return e?(0,o.Z)(new Date(e),{addSuffix:!0}):""}},41049:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8938);function s(e){return(0,r.Z)({},e)}},24054:(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n(24408),s=n(27277),o=n(79990),a=n(71786),l=n(38126),i=n(38527),d=n(41049),c=n(8938),x=n(4697),h=n(4522),u=1440,p=2520,m=43200,j=86400;function Z(e,t){return(0,h.Z)(1,arguments),function(e,t,n){var Z,g;(0,h.Z)(2,arguments);var y=(0,r.j)(),b=null!==(Z=null!==(g=null===n||void 0===n?void 0:n.locale)&&void 0!==g?g:y.locale)&&void 0!==Z?Z:l.Z;if(!b.formatDistance)throw new RangeError("locale must contain formatDistance property");var w=(0,s.Z)(e,t);if(isNaN(w))throw new RangeError("Invalid time value");var f,v,C=(0,c.Z)((0,d.Z)(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:w});w>0?(f=(0,i.Z)(t),v=(0,i.Z)(e)):(f=(0,i.Z)(e),v=(0,i.Z)(t));var D,k=(0,a.Z)(v,f),S=((0,x.Z)(v)-(0,x.Z)(f))/1e3,M=Math.round((k-S)/60);if(M<2)return null!==n&&void 0!==n&&n.includeSeconds?k<5?b.formatDistance("lessThanXSeconds",5,C):k<10?b.formatDistance("lessThanXSeconds",10,C):k<20?b.formatDistance("lessThanXSeconds",20,C):k<40?b.formatDistance("halfAMinute",0,C):k<60?b.formatDistance("lessThanXMinutes",1,C):b.formatDistance("xMinutes",1,C):0===M?b.formatDistance("lessThanXMinutes",1,C):b.formatDistance("xMinutes",M,C);if(M<45)return b.formatDistance("xMinutes",M,C);if(M<90)return b.formatDistance("aboutXHours",1,C);if(M<u){var P=Math.round(M/60);return b.formatDistance("aboutXHours",P,C)}if(M<p)return b.formatDistance("xDays",1,C);if(M<m){var I=Math.round(M/u);return b.formatDistance("xDays",I,C)}if(M<j)return D=Math.round(M/m),b.formatDistance("aboutXMonths",D,C);if((D=(0,o.Z)(v,f))<12){var R=Math.round(M/m);return b.formatDistance("xMonths",R,C)}var T=D%12,A=Math.floor(D/12);return T<3?b.formatDistance("aboutXYears",A,C):T<9?b.formatDistance("overXYears",A,C):b.formatDistance("almostXYears",A+1,C)}(e,Date.now(),t)}},64460:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(38527),s=n(4522);function o(e){return(0,s.Z)(1,arguments),(0,r.Z)(e).getTime()}}}]);
//# sourceMappingURL=1622.d95408e3.chunk.js.map