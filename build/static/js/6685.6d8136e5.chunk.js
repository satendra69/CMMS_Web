"use strict";(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[6685],{21362:(e,n,t)=>{t.d(n,{Z:()=>m});t(75012);var i=t(27060),o=t(19945),l=t(71502),s=t(4204),r=t(65469),a=t(83854),c=t(32471),d=t(66934),p=t(12065);const h=(0,d.ZP)("div")((e=>{let{theme:n}=e;const t="light"===n.palette.mode;return{h1:{margin:0,...n.typography.h1},h2:{margin:0,...n.typography.h2},h3:{margin:0,...n.typography.h3},h4:{margin:0,...n.typography.h4},h5:{margin:0,...n.typography.h5},h6:{margin:0,...n.typography.h6},p:{margin:0,...n.typography.body1},br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:n.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:n.spacing(3,3,3,8),color:n.palette.text.secondary,borderRadius:2*n.shape.borderRadius,backgroundColor:n.palette.background.neutral,[n.breakpoints.up("md")]:{width:"80%"},"& p, & span":{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"},"&:before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:n.palette.text.disabled}},"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:n.spacing(2),color:n.palette.common.white,borderRadius:n.shape.borderRadius,backgroundColor:t?n.palette.grey[900]:(0,p.Fq)(n.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:n.spacing(.2,.5),color:n.palette.warning[t?"darker":"lighter"],backgroundColor:n.palette.warning[t?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(n.palette.divider),"th, td":{padding:n.spacing(1),border:"1px solid ".concat(n.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:n.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:n.palette.grey[t?300:700]},"&:checked":{"&:before":{backgroundColor:n.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(n.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}}));var x=t(80184);function m(e){let{sx:n,...t}=e;return(0,x.jsx)(h,{sx:n,children:(0,x.jsx)(i.D,{rehypePlugins:[o.Z,s.Z,[l.Z,{singleTilde:!1}]],components:u,...t})})}const u={img:e=>{let{...n}=e;return(0,x.jsx)(c.Z,{alt:n.alt,ratio:"16/9",sx:{borderRadius:2},...n})},a:e=>{let{...n}=e;return n.href.includes("http")?(0,x.jsx)(r.Z,{target:"_blank",rel:"noopener",...n}):(0,x.jsx)(r.Z,{component:a.r,href:n.href,...n,children:n.children})}}},96685:(e,n,t)=>{t.d(n,{mW:()=>ke,WI:()=>Re,S2:()=>ve,JD:()=>re});var i=t(45812),o=t.n(i),l=t(18111),s=t.n(l),r=t(72791),a=t(53767),c=t(5849),d=t(10266),p=t(38072),h=t(83854),x=t(22459),m=t(18306),u=t(66964),b=t(40268),j=t(11633),Z=t(60720),g=t(73379),f=t(64554),y=t(11703),v=t(86414),k=t(19208),w=t(65469),C=t(88588),S=t(60220),T=t(94721),D=t(82626),O=t(90977),E=t(4567),F=t(49900),R=t(87183),I=t(17070),M=t(56832),q=t(80184);function L(e){let{job:n,onView:t,onEdit:i,onDelete:o}=e;const l=(0,M.S)(),{id:s,title:r,company:c,createdAt:d,candidates:x,experience:m,employmentTypes:u,salary:j,role:Z}=n;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(C.Z,{children:[(0,q.jsx)(O.Z,{onClick:l.onOpen,sx:{position:"absolute",top:8,right:8},children:(0,q.jsx)(b.Z,{icon:"eva:more-vertical-fill"})}),(0,q.jsxs)(a.Z,{sx:{p:3,pb:2},children:[(0,q.jsx)(S.Z,{alt:c.name,src:c.logo,variant:"rounded",sx:{width:48,height:48,mb:2}}),(0,q.jsx)(F.Z,{sx:{mb:1},primary:(0,q.jsx)(w.Z,{component:h.r,href:p.H.dashboard.job.details(s),color:"inherit",children:r}),secondary:"Posted date: ".concat((0,R.Mu)(d)),primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}}),(0,q.jsxs)(a.Z,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption"},children:[(0,q.jsx)(b.Z,{width:16,icon:"solar:users-group-rounded-bold"}),x.length," Candidates"]})]}),(0,q.jsx)(T.Z,{sx:{borderStyle:"dashed"}}),(0,q.jsx)(f.Z,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3},children:[{label:m,icon:(0,q.jsx)(b.Z,{width:16,icon:"carbon:skill-level-basic",sx:{flexShrink:0}})},{label:u.join(", "),icon:(0,q.jsx)(b.Z,{width:16,icon:"solar:clock-circle-bold",sx:{flexShrink:0}})},{label:j.negotiable?"Negotiable":(0,I.e_)(j.price),icon:(0,q.jsx)(b.Z,{width:16,icon:"solar:wad-of-money-bold",sx:{flexShrink:0}})},{label:Z,icon:(0,q.jsx)(b.Z,{width:16,icon:"solar:user-rounded-bold",sx:{flexShrink:0}})}].map((e=>(0,q.jsxs)(a.Z,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[e.icon,(0,q.jsx)(E.Z,{variant:"caption",noWrap:!0,children:e.label})]},e.label)))})]}),(0,q.jsxs)(M.Z,{open:l.open,onClose:l.onClose,arrow:"right-top",sx:{width:140},children:[(0,q.jsxs)(D.Z,{onClick:()=>{l.onClose(),t()},children:[(0,q.jsx)(b.Z,{icon:"solar:eye-bold"}),"View"]}),(0,q.jsxs)(D.Z,{onClick:()=>{l.onClose(),i()},children:[(0,q.jsx)(b.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,q.jsxs)(D.Z,{onClick:()=>{l.onClose(),o()},sx:{color:"error.main"},children:[(0,q.jsx)(b.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function P(e){let{jobs:n}=e;const t=(0,k.tv)(),i=(0,r.useCallback)((e=>{t.push(p.H.dashboard.job.details(e))}),[t]),o=(0,r.useCallback)((e=>{t.push(p.H.dashboard.job.edit(e))}),[t]),l=(0,r.useCallback)((e=>{console.info("DELETE",e)}),[]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(f.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map((e=>(0,q.jsx)(L,{job:e,onView:()=>i(e.id),onEdit:()=>o(e.id),onDelete:()=>l(e.id)},e.id)))}),n.length>8&&(0,q.jsx)(y.Z,{count:8,sx:{mt:8,["& .".concat(v.Z.ul)]:{justifyContent:"center"}}})]})}function W(e){let{sort:n,onSort:t,sortOptions:i}=e;const o=(0,M.S)();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(c.Z,{disableRipple:!0,color:"inherit",onClick:o.onOpen,endIcon:(0,q.jsx)(b.Z,{icon:o.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,q.jsx)(f.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:n})]}),(0,q.jsx)(M.Z,{open:o.open,onClose:o.onClose,sx:{width:140},children:i.map((e=>(0,q.jsx)(D.Z,{selected:e.value===n,onClick:()=>{o.onClose(),t(e.value)},children:e.label},e.value)))})]})}var z=t(34004),H=t.n(z),X=t(79085),B=t.n(X),_=t(93006),A=t(46314),J=t(97808),N=t(96349);function G(e){let{query:n,results:t,onSearch:i,hrefItem:o}=e;const l=(0,k.tv)(),s=e=>{l.push(o(e))},a=e=>{if(n&&"Enter"===e.key){const e=t.filter((e=>e.title===n))[0];s(e.id)}};return(0,q.jsx)(A.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:t,onInputChange:(e,n)=>i(n),getOptionLabel:e=>e.title,noOptionsText:(0,q.jsx)(N.Z,{query:n,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,n)=>e.id===n.id,renderInput:e=>(0,q.jsx)(_.Z,{...e,placeholder:"Search...",onKeyUp:a,InputProps:{...e.InputProps,startAdornment:(0,q.jsx)(J.Z,{position:"start",children:(0,q.jsx)(b.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}}),renderOption:(e,n,t)=>{let{inputValue:i}=t;const o=B()(n.title,i),l=H()(n.title,o);return(0,r.createElement)(f.Z,{component:"li",...e,onClick:()=>s(n.id),key:n.id},(0,q.jsx)("div",{children:l.map(((e,n)=>(0,q.jsx)(E.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},n)))}))}})}var K=t(85771),V=t(65639),Y=t(9584),$=t(88654),U=t(97639),Q=t(13034),ee=t(25801),ne=t(63454);function te(e){let{open:n,onOpen:t,onClose:i,filters:o,onFilters:l,canReset:s,onResetFilters:d,roleOptions:p,locationOptions:h,benefitOptions:x,experienceOptions:m,employmentTypeOptions:u}=e;const j=(0,r.useCallback)((e=>{const n=o.employmentTypes.includes(e)?o.employmentTypes.filter((n=>n!==e)):[...o.employmentTypes,e];l("employmentTypes",n)}),[o.employmentTypes,l]),Z=(0,r.useCallback)((e=>{l("experience",e)}),[l]),g=(0,r.useCallback)((e=>{l("roles",e)}),[l]),f=(0,r.useCallback)((e=>{l("locations",e)}),[l]),y=(0,r.useCallback)((e=>{const n=o.benefits.includes(e)?o.benefits.filter((n=>n!==e)):[...o.benefits,e];l("benefits",n)}),[o.benefits,l]),v=(0,q.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,q.jsx)(E.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,q.jsx)(U.Z,{title:"Reset",children:(0,q.jsx)(O.Z,{onClick:d,children:(0,q.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!s,children:(0,q.jsx)(b.Z,{icon:"solar:restart-bold"})})})}),(0,q.jsx)(O.Z,{onClick:i,children:(0,q.jsx)(b.Z,{icon:"mingcute:close-line"})})]}),k=(0,q.jsxs)(a.Z,{children:[(0,q.jsx)(E.Z,{variant:"subtitle2",sx:{mb:1},children:"Employment Types"}),u.map((e=>(0,q.jsx)(ee.Z,{control:(0,q.jsx)(Q.Z,{checked:o.employmentTypes.includes(e),onClick:()=>j(e)}),label:e},e)))]}),w=(0,q.jsxs)(a.Z,{children:[(0,q.jsx)(E.Z,{variant:"subtitle2",sx:{mb:1},children:"Experience"}),m.map((e=>(0,q.jsx)(ee.Z,{control:(0,q.jsx)(V.Z,{checked:e===o.experience,onClick:()=>Z(e)}),label:e,sx:{..."all"===e&&{textTransform:"capitalize"}}},e)))]}),C=(0,q.jsxs)(a.Z,{children:[(0,q.jsx)(E.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Roles"}),(0,q.jsx)(A.Z,{multiple:!0,disableCloseOnSelect:!0,options:p.map((e=>e)),getOptionLabel:e=>e,value:o.roles,onChange:(e,n)=>g(n),renderInput:e=>(0,q.jsx)(_.Z,{placeholder:"Select Roles",...e}),renderOption:(e,n)=>(0,r.createElement)("li",{...e,key:n},n),renderTags:(e,n)=>e.map(((e,t)=>(0,r.createElement)(K.Z,{...n({index:t}),key:e,label:e,size:"small",variant:"soft"})))})]}),S=(0,q.jsxs)(a.Z,{children:[(0,q.jsx)(E.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Locations"}),(0,q.jsx)(A.Z,{multiple:!0,disableCloseOnSelect:!0,options:h.map((e=>e.label)),getOptionLabel:e=>e,value:o.locations,onChange:(e,n)=>f(n),renderInput:e=>(0,q.jsx)(_.Z,{placeholder:"Select Locations",...e}),renderOption:(e,n)=>{const{code:t,label:i,phone:o}=h.filter((e=>e.label===n))[0];return i?(0,r.createElement)("li",{...e,key:i},(0,q.jsx)(b.Z,{icon:"circle-flags:".concat(t.toLowerCase()),width:28,sx:{mr:1}},i),i," (",t,") +",o):null},renderTags:(e,n)=>e.map(((e,t)=>(0,r.createElement)(K.Z,{...n({index:t}),key:e,label:e,size:"small",variant:"soft"})))})]}),D=(0,q.jsxs)(a.Z,{children:[(0,q.jsx)(E.Z,{variant:"subtitle2",sx:{mb:1},children:"Benefits"}),x.map((e=>(0,q.jsx)(ee.Z,{control:(0,q.jsx)(Q.Z,{checked:o.benefits.includes(e),onClick:()=>y(e)}),label:e},e)))]});return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(c.Z,{disableRipple:!0,color:"inherit",endIcon:(0,q.jsx)(Y.Z,{color:"error",variant:"dot",invisible:!s,children:(0,q.jsx)(b.Z,{icon:"ic:round-filter-list"})}),onClick:t,children:"Filters"}),(0,q.jsxs)($.ZP,{anchor:"right",open:n,onClose:i,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[v,(0,q.jsx)(T.Z,{}),(0,q.jsx)(ne.Z,{sx:{px:2.5,py:3},children:(0,q.jsxs)(a.Z,{spacing:3,children:[k,w,C,S,D]})})]})]})}var ie=t(4841);function oe(e){let{filters:n,onFilters:t,canReset:i,onResetFilters:o,results:l,...s}=e;return(0,q.jsxs)(a.Z,{spacing:1.5,...s,children:[(0,q.jsxs)(f.Z,{sx:{typography:"body2"},children:[(0,q.jsx)("strong",{children:l}),(0,q.jsx)(f.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,q.jsxs)(a.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!n.employmentTypes.length&&(0,q.jsx)(le,{label:"Employment Types:",children:n.employmentTypes.map((e=>(0,q.jsx)(K.Z,{label:e,size:"small",onDelete:()=>(e=>{const i=n.employmentTypes.filter((n=>n!==e));t("employmentTypes",i)})(e)},e)))}),"all"!==n.experience&&(0,q.jsx)(le,{label:"Experience:",children:(0,q.jsx)(K.Z,{size:"small",label:n.experience,onDelete:()=>{t("experience","all")}})}),!!n.roles.length&&(0,q.jsx)(le,{label:"Roles:",children:n.roles.map((e=>(0,q.jsx)(K.Z,{label:e,size:"small",onDelete:()=>(e=>{const i=n.roles.filter((n=>n!==e));t("role",i)})(e)},e)))}),!!n.locations.length&&(0,q.jsx)(le,{label:"Locations:",children:n.locations.map((e=>(0,q.jsx)(K.Z,{label:e,size:"small",onDelete:()=>(e=>{const i=n.locations.filter((n=>n!==e));t("locations",i)})(e)},e)))}),!!n.benefits.length&&(0,q.jsx)(le,{label:"Benefits:",children:n.benefits.map((e=>(0,q.jsx)(K.Z,{label:e,size:"small",onDelete:()=>(e=>{const i=n.benefits.filter((n=>n!==e));t("benefits",i)})(e)},e)))}),i&&(0,q.jsx)(c.Z,{color:"error",onClick:o,startIcon:(0,q.jsx)(b.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function le(e){let{label:n,children:t,sx:i,...o}=e;return(0,q.jsxs)(a.Z,{component:ie.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...i},...o,children:[(0,q.jsx)(f.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,q.jsx)(a.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]})}const se={roles:[],locations:[],benefits:[],experience:"all",employmentTypes:[]};function re(){const e=(0,Z.K$)(),n=(0,x.k)(),[t,i]=(0,r.useState)("latest"),[o,l]=(0,r.useState)({query:"",results:[]}),[f,y]=(0,r.useState)(se),v=ae({inputData:m.nb,filters:f,sortBy:t}),k=!s()(se,f),w=!v.length&&k,C=(0,r.useCallback)(((e,n)=>{y((t=>({...t,[e]:n})))}),[]),S=(0,r.useCallback)((e=>{i(e)}),[]),T=(0,r.useCallback)((e=>{if(l((n=>({...n,query:e}))),e){const e=m.nb.filter((e=>-1!==e.title.toLowerCase().indexOf(o.query.toLowerCase())));l((n=>({...n,results:e})))}}),[o.query]),D=(0,r.useCallback)((()=>{y(se)}),[]),O=(0,q.jsxs)(a.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,q.jsx)(G,{query:o.query,results:o.results,onSearch:T,hrefItem:e=>p.H.dashboard.job.details(e)}),(0,q.jsxs)(a.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,q.jsx)(te,{open:n.value,onOpen:n.onTrue,onClose:n.onFalse,filters:f,onFilters:C,canReset:k,onResetFilters:D,locationOptions:u.h,roleOptions:m.YX,benefitOptions:m.jK.map((e=>e.label)),experienceOptions:["all",...m.J$.map((e=>e.label))],employmentTypeOptions:m.yC.map((e=>e.label))}),(0,q.jsx)(W,{sort:t,onSort:S,sortOptions:m.vf})]})]}),E=(0,q.jsx)(oe,{filters:f,onResetFilters:D,canReset:k,onFilters:C,results:v.length});return(0,q.jsxs)(d.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,q.jsx)(g.Z,{heading:"List",links:[{name:"Dashboard",href:p.H.dashboard.root},{name:"Job",href:p.H.dashboard.job.root},{name:"List"}],action:(0,q.jsx)(c.Z,{component:h.r,href:p.H.dashboard.job.new,variant:"contained",startIcon:(0,q.jsx)(b.Z,{icon:"mingcute:add-line"}),children:"New Job"}),sx:{mb:{xs:3,md:5}}}),(0,q.jsxs)(a.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[O,k&&E]}),w&&(0,q.jsx)(j.Z,{filled:!0,title:"No Data",sx:{py:10}}),(0,q.jsx)(P,{jobs:v})]})}const ae=e=>{let{inputData:n,filters:t,sortBy:i}=e;const{employmentTypes:l,experience:s,roles:r,locations:a,benefits:c}=t;return"latest"===i&&(n=o()(n,["createdAt"],["desc"])),"oldest"===i&&(n=o()(n,["createdAt"],["asc"])),"popular"===i&&(n=o()(n,["totalViews"],["desc"])),l.length&&(n=n.filter((e=>e.employmentTypes.some((e=>l.includes(e)))))),"all"!==s&&(n=n.filter((e=>e.experience===s))),r.length&&(n=n.filter((e=>r.includes(e.role)))),a.length&&(n=n.filter((e=>e.locations.some((e=>a.includes(e)))))),c.length&&(n=n.filter((e=>e.benefits.some((e=>c.includes(e)))))),n};var ce=t(8007),de=t(44695),pe=t(61134),he=t(12258),xe=t(53106),me=t(89891),ue=t(24308),be=t(53915),je=t(6718),Ze=t(38887),ge=t(32869),fe=t(60240);function ye(e){let{currentJob:n}=e;const t=(0,k.tv)(),i=(0,Ze.F)("up","md"),{enqueueSnackbar:o}=(0,ge.Ds)(),l=ce.Ry().shape({title:ce.Z_().required("Title is required"),content:ce.Z_().required("Content is required"),employmentTypes:ce.IX().min(1,"Choose at least one option"),role:ce.Z_().required("Role is required"),skills:ce.IX().min(1,"Choose at least one option"),workingSchedule:ce.IX().min(1,"Choose at least one option"),benefits:ce.IX().min(1,"Choose at least one option"),locations:ce.IX().min(1,"Choose at least one option"),expiredDate:ce.nK().nullable().required("Expired date is required"),salary:ce.Ry().shape({type:ce.Z_(),price:ce.Rx().min(1,"Price is required"),negotiable:ce.O7()}),experience:ce.Z_()}),s=(0,r.useMemo)((()=>({title:(null===n||void 0===n?void 0:n.title)||"",content:(null===n||void 0===n?void 0:n.content)||"",employmentTypes:(null===n||void 0===n?void 0:n.employmentTypes)||[],experience:(null===n||void 0===n?void 0:n.experience)||"1 year exp",role:(null===n||void 0===n?void 0:n.role)||m.YX[1],skills:(null===n||void 0===n?void 0:n.skills)||[],workingSchedule:(null===n||void 0===n?void 0:n.workingSchedule)||[],locations:(null===n||void 0===n?void 0:n.locations)||[],benefits:(null===n||void 0===n?void 0:n.benefits)||[],expiredDate:(null===n||void 0===n?void 0:n.expiredDate)||null,salary:(null===n||void 0===n?void 0:n.salary)||{type:"Hourly",price:0,negotiable:!1}})),[n]),c=(0,pe.cI)({resolver:(0,de.X)(l),defaultValues:s}),{reset:d,control:h,handleSubmit:x,formState:{isSubmitting:j}}=c;(0,r.useEffect)((()=>{n&&d(s)}),[n,s,d]);const Z=x((async e=>{try{await new Promise((e=>setTimeout(e,500))),d(),o(n?"Update success!":"Create success!"),t.push(p.H.dashboard.job.root),console.info("DATA",e)}catch(i){console.error(i)}})),g=(0,q.jsxs)(q.Fragment,{children:[i&&(0,q.jsxs)(ue.Z,{md:4,children:[(0,q.jsx)(E.Z,{variant:"h6",sx:{mb:.5},children:"Details"}),(0,q.jsx)(E.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),(0,q.jsx)(ue.Z,{xs:12,md:8,children:(0,q.jsxs)(C.Z,{children:[!i&&(0,q.jsx)(je.Z,{title:"Details"}),(0,q.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,q.jsxs)(a.Z,{spacing:1.5,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Title"}),(0,q.jsx)(fe.au,{name:"title",placeholder:"Ex: Software Engineer..."})]}),(0,q.jsxs)(a.Z,{spacing:1.5,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Content"}),(0,q.jsx)(fe.LM,{simple:!0,name:"content"})]})]})]})})]}),y=(0,q.jsxs)(q.Fragment,{children:[i&&(0,q.jsxs)(ue.Z,{md:4,children:[(0,q.jsx)(E.Z,{variant:"h6",sx:{mb:.5},children:"Properties"}),(0,q.jsx)(E.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),(0,q.jsx)(ue.Z,{xs:12,md:8,children:(0,q.jsxs)(C.Z,{children:[!i&&(0,q.jsx)(je.Z,{title:"Properties"}),(0,q.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,q.jsxs)(a.Z,{spacing:1,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Employment type"}),(0,q.jsx)(fe.s2,{row:!0,spacing:4,name:"employmentTypes",options:m.yC})]}),(0,q.jsxs)(a.Z,{spacing:1,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Experience"}),(0,q.jsx)(fe.km,{row:!0,spacing:4,name:"experience",options:m.J$})]}),(0,q.jsxs)(a.Z,{spacing:1.5,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Role"}),(0,q.jsx)(fe.Fl,{name:"role",autoHighlight:!0,options:m.YX.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,n)=>(0,r.createElement)("li",{...e,key:n},n)})]}),(0,q.jsxs)(a.Z,{spacing:1.5,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Skills"}),(0,q.jsx)(fe.Fl,{name:"skills",placeholder:"+ Skills",multiple:!0,disableCloseOnSelect:!0,options:m.w_.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,n)=>(0,r.createElement)("li",{...e,key:n},n),renderTags:(e,n)=>e.map(((e,t)=>(0,r.createElement)(K.Z,{...n({index:t}),key:e,label:e,size:"small",color:"info",variant:"soft"})))})]}),(0,q.jsxs)(a.Z,{spacing:1.5,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Working schedule"}),(0,q.jsx)(fe.Fl,{name:"workingSchedule",placeholder:"+ Schedule",multiple:!0,disableCloseOnSelect:!0,options:m.Gn.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,n)=>(0,r.createElement)("li",{...e,key:n},n),renderTags:(e,n)=>e.map(((e,t)=>(0,r.createElement)(K.Z,{...n({index:t}),key:e,label:e,size:"small",color:"info",variant:"soft"})))})]}),(0,q.jsxs)(a.Z,{spacing:1.5,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Locations"}),(0,q.jsx)(fe.Fl,{name:"locations",placeholder:"+ Locations",multiple:!0,disableCloseOnSelect:!0,options:u.h.map((e=>e.label)),getOptionLabel:e=>e,renderOption:(e,n)=>{const{code:t,label:i,phone:o}=u.h.filter((e=>e.label===n))[0];return i?(0,r.createElement)("li",{...e,key:i},(0,q.jsx)(b.Z,{icon:"circle-flags:".concat(t.toLowerCase()),width:28,sx:{mr:1}},i),i," (",t,") +",o):null},renderTags:(e,n)=>e.map(((e,t)=>(0,r.createElement)(K.Z,{...n({index:t}),key:e,label:e,size:"small",color:"info",variant:"soft"})))})]}),(0,q.jsxs)(a.Z,{spacing:1.5,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Expired"}),(0,q.jsx)(pe.Qr,{name:"expiredDate",control:h,render:e=>{let{field:n,fieldState:{error:t}}=e;return(0,q.jsx)(xe.M,{...n,format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!t,helperText:null===t||void 0===t?void 0:t.message}}})}})]}),(0,q.jsxs)(a.Z,{spacing:2,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Salary"}),(0,q.jsx)(pe.Qr,{name:"salary.type",control:h,render:e=>{let{field:n}=e;return(0,q.jsx)(f.Z,{gap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:[{label:"Hourly",icon:(0,q.jsx)(b.Z,{icon:"solar:clock-circle-bold",width:32,sx:{mb:2}})},{label:"Custom",icon:(0,q.jsx)(b.Z,{icon:"solar:wad-of-money-bold",width:32,sx:{mb:2}})}].map((e=>(0,q.jsxs)(ie.Z,{component:be.Z,variant:"outlined",onClick:()=>n.onChange(e.label),sx:{p:2.5,borderRadius:1,typography:"subtitle2",flexDirection:"column",...e.label===n.value&&{borderWidth:2,borderColor:"text.primary"}},children:[e.icon,e.label]},e.label)))})}}),(0,q.jsx)(fe.au,{name:"salary.price",placeholder:"0.00",type:"number",InputProps:{startAdornment:(0,q.jsx)(J.Z,{position:"start",children:(0,q.jsx)(f.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})}}),(0,q.jsx)(fe._e,{name:"salary.negotiable",label:"Salary is negotiable"})]}),(0,q.jsxs)(a.Z,{spacing:1,children:[(0,q.jsx)(E.Z,{variant:"subtitle2",children:"Benefits"}),(0,q.jsx)(fe.s2,{name:"benefits",options:m.jK,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]})]})]})})]}),v=(0,q.jsxs)(q.Fragment,{children:[i&&(0,q.jsx)(ue.Z,{md:4}),(0,q.jsxs)(ue.Z,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[(0,q.jsx)(ee.Z,{control:(0,q.jsx)(me.Z,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),(0,q.jsx)(he.Z,{type:"submit",variant:"contained",size:"large",loading:j,sx:{ml:2},children:n?"Save Changes":"Create Job"})]})]});return(0,q.jsx)(fe.ZP,{methods:c,onSubmit:Z,children:(0,q.jsxs)(ue.Z,{container:!0,spacing:3,children:[g,y,v]})})}function ve(e){let{id:n}=e;const t=(0,Z.K$)(),i=m.nb.find((e=>e.id===n));return(0,q.jsxs)(d.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,q.jsx)(g.Z,{heading:"Edit",links:[{name:"Dashboard",href:p.H.dashboard.root},{name:"Job",href:p.H.dashboard.job.root},{name:null===i||void 0===i?void 0:i.title}],sx:{mb:{xs:3,md:5}}}),(0,q.jsx)(ye,{currentJob:i})]})}function ke(){const e=(0,Z.K$)();return(0,q.jsxs)(d.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,q.jsx)(g.Z,{heading:"Create a new job",links:[{name:"Dashboard",href:p.H.dashboard.root},{name:"Job",href:p.H.dashboard.job.root},{name:"New job"}],sx:{mb:{xs:3,md:5}}}),(0,q.jsx)(ye,{})]})}var we=t(61474),Ce=t(29347),Se=t(80160);function Te(e){let{publish:n,backLink:t,editLink:i,liveLink:o,publishOptions:l,onChangePublish:s,sx:r,...d}=e;const p=(0,M.S)();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(a.Z,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...r},...d,children:[(0,q.jsx)(c.Z,{component:h.r,href:t,startIcon:(0,q.jsx)(b.Z,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,q.jsx)(f.Z,{sx:{flexGrow:1}}),"published"===n&&(0,q.jsx)(U.Z,{title:"Go Live",children:(0,q.jsx)(O.Z,{component:h.r,href:o,children:(0,q.jsx)(b.Z,{icon:"eva:external-link-fill"})})}),(0,q.jsx)(U.Z,{title:"Edit",children:(0,q.jsx)(O.Z,{component:h.r,href:i,children:(0,q.jsx)(b.Z,{icon:"solar:pen-bold"})})}),(0,q.jsx)(he.Z,{color:"inherit",variant:"contained",loading:!n,loadingIndicator:"Loading\u2026",endIcon:(0,q.jsx)(b.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:p.onOpen,sx:{textTransform:"capitalize"},children:n})]}),(0,q.jsx)(M.Z,{open:p.open,onClose:p.onClose,arrow:"top-right",sx:{width:140},children:l.map((e=>(0,q.jsxs)(D.Z,{selected:e.value===n,onClick:()=>{p.onClose(),s(e.value)},children:["published"===e.value&&(0,q.jsx)(b.Z,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,q.jsx)(b.Z,{icon:"solar:file-text-bold"}),e.label]},e.value)))})]})}var De=t(21362);function Oe(e){let{job:n}=e;const{title:t,skills:i,salary:o,content:l,benefits:s,createdAt:r,experience:c,expiredDate:d,employmentTypes:p}=n,h=(0,q.jsxs)(a.Z,{component:C.Z,spacing:3,sx:{p:3},children:[(0,q.jsx)(E.Z,{variant:"h4",children:t}),(0,q.jsx)(De.Z,{children:l}),(0,q.jsxs)(a.Z,{spacing:2,children:[(0,q.jsx)(E.Z,{variant:"h6",children:"Skills"}),(0,q.jsx)(a.Z,{direction:"row",alignItems:"center",spacing:1,children:i.map((e=>(0,q.jsx)(K.Z,{label:e,variant:"soft"},e)))})]}),(0,q.jsxs)(a.Z,{spacing:2,children:[(0,q.jsx)(E.Z,{variant:"h6",children:"Benefits"}),(0,q.jsx)(a.Z,{direction:"row",alignItems:"center",spacing:1,children:s.map((e=>(0,q.jsx)(K.Z,{label:e,variant:"soft"},e)))})]})]}),x=(0,q.jsx)(a.Z,{component:C.Z,spacing:2,sx:{p:3},children:[{label:"Date Posted",value:(0,R.Mu)(r),icon:(0,q.jsx)(b.Z,{icon:"solar:calendar-date-bold"})},{label:"Expiration date",value:(0,R.Mu)(d),icon:(0,q.jsx)(b.Z,{icon:"solar:calendar-date-bold"})},{label:"Employment type",value:p,icon:(0,q.jsx)(b.Z,{icon:"solar:clock-circle-bold"})},{label:"Offered salary",value:o.negotiable?"Negotiable":(0,I.e_)(o.price),icon:(0,q.jsx)(b.Z,{icon:"solar:wad-of-money-bold"})},{label:"Experience",value:c,icon:(0,q.jsx)(b.Z,{icon:"carbon:skill-level-basic"})}].map((e=>(0,q.jsxs)(a.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,q.jsx)(F.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},e.label)))}),m=(0,q.jsxs)(a.Z,{component:ie.Z,variant:"outlined",spacing:2,direction:"row",sx:{p:3,borderRadius:2,mt:3},children:[(0,q.jsx)(S.Z,{alt:n.company.name,src:n.company.logo,variant:"rounded",sx:{width:64,height:64}}),(0,q.jsxs)(a.Z,{spacing:1,children:[(0,q.jsx)(E.Z,{variant:"subtitle1",children:n.company.name}),(0,q.jsx)(E.Z,{variant:"body2",children:n.company.fullAddress}),(0,q.jsx)(E.Z,{variant:"body2",children:n.company.phoneNumber})]})]});return(0,q.jsxs)(ue.Z,{container:!0,spacing:3,children:[(0,q.jsx)(ue.Z,{xs:12,md:8,children:h}),(0,q.jsxs)(ue.Z,{xs:12,md:4,children:[x,m]})]})}var Ee=t(12065);function Fe(e){let{candidates:n}=e;return(0,q.jsx)(f.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},children:n.map((e=>(0,q.jsxs)(a.Z,{component:C.Z,direction:"row",spacing:2,sx:{p:3},children:[(0,q.jsx)(O.Z,{sx:{position:"absolute",top:8,right:8},children:(0,q.jsx)(b.Z,{icon:"eva:more-vertical-fill"})}),(0,q.jsx)(S.Z,{alt:e.name,src:e.avatarUrl,sx:{width:48,height:48}}),(0,q.jsxs)(a.Z,{spacing:2,children:[(0,q.jsx)(F.Z,{primary:e.name,secondary:e.role,secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),(0,q.jsxs)(a.Z,{spacing:1,direction:"row",children:[(0,q.jsx)(O.Z,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:e=>(0,Ee.Fq)(e.palette.error.main,.08),"&:hover":{bgcolor:e=>(0,Ee.Fq)(e.palette.error.main,.16)}},children:(0,q.jsx)(b.Z,{width:18,icon:"solar:phone-bold"})}),(0,q.jsx)(O.Z,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:e=>(0,Ee.Fq)(e.palette.info.main,.08),"&:hover":{bgcolor:e=>(0,Ee.Fq)(e.palette.info.main,.16)}},children:(0,q.jsx)(b.Z,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,q.jsx)(O.Z,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:e=>(0,Ee.Fq)(e.palette.primary.main,.08),"&:hover":{bgcolor:e=>(0,Ee.Fq)(e.palette.primary.main,.16)}},children:(0,q.jsx)(b.Z,{width:18,icon:"fluent:mail-24-filled"})}),(0,q.jsx)(U.Z,{title:"Download CV",children:(0,q.jsx)(O.Z,{size:"small",color:"secondary",sx:{borderRadius:1,bgcolor:e=>(0,Ee.Fq)(e.palette.secondary.main,.08),"&:hover":{bgcolor:e=>(0,Ee.Fq)(e.palette.secondary.main,.16)}},children:(0,q.jsx)(b.Z,{width:18,icon:"eva:cloud-download-fill"})})})]})]})]},e.id)))})}function Re(e){let{id:n}=e;const t=(0,Z.K$)(),i=m.nb.filter((e=>e.id===n))[0],[o,l]=(0,r.useState)(null===i||void 0===i?void 0:i.publish),[s,a]=(0,r.useState)("content"),c=(0,r.useCallback)(((e,n)=>{a(n)}),[]),h=(0,r.useCallback)((e=>{l(e)}),[]),x=(0,q.jsx)(Ce.Z,{value:s,onChange:c,sx:{mb:{xs:3,md:5}},children:m.Ux.map((e=>(0,q.jsx)(we.Z,{iconPosition:"end",value:e.value,label:e.label,icon:"candidates"===e.value?(0,q.jsx)(Se.Z,{variant:"filled",children:null===i||void 0===i?void 0:i.candidates.length}):""},e.value)))});return(0,q.jsxs)(d.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,q.jsx)(Te,{backLink:p.H.dashboard.job.root,editLink:p.H.dashboard.job.edit("".concat(null===i||void 0===i?void 0:i.id)),liveLink:"#",publish:o||"",onChangePublish:h,publishOptions:m.D5}),x,"content"===s&&(0,q.jsx)(Oe,{job:i}),"candidates"===s&&(0,q.jsx)(Fe,{candidates:null===i||void 0===i?void 0:i.candidates})]})}},87183:(e,n,t)=>{t.d(n,{DY:()=>c,IO:()=>a,Mu:()=>s,zM:()=>r});var i=t(16386),o=t(64460),l=t(24054);function s(e,n){const t=n||"dd MMM yyyy";return e?(0,i.Z)(new Date(e),t):""}function r(e,n){const t=n||"dd MMM yyyy p";return e?(0,i.Z)(new Date(e),t):""}function a(e){return e?(0,o.Z)(new Date(e)):""}function c(e){return e?(0,l.Z)(new Date(e),{addSuffix:!0}):""}},41049:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(8938);function o(e){return(0,i.Z)({},e)}},24054:(e,n,t)=>{t.d(n,{Z:()=>j});var i=t(24408),o=t(27277),l=t(79990),s=t(71786),r=t(38126),a=t(38527),c=t(41049),d=t(8938),p=t(4697),h=t(4522),x=1440,m=2520,u=43200,b=86400;function j(e,n){return(0,h.Z)(1,arguments),function(e,n,t){var j,Z;(0,h.Z)(2,arguments);var g=(0,i.j)(),f=null!==(j=null!==(Z=null===t||void 0===t?void 0:t.locale)&&void 0!==Z?Z:g.locale)&&void 0!==j?j:r.Z;if(!f.formatDistance)throw new RangeError("locale must contain formatDistance property");var y=(0,o.Z)(e,n);if(isNaN(y))throw new RangeError("Invalid time value");var v,k,w=(0,d.Z)((0,c.Z)(t),{addSuffix:Boolean(null===t||void 0===t?void 0:t.addSuffix),comparison:y});y>0?(v=(0,a.Z)(n),k=(0,a.Z)(e)):(v=(0,a.Z)(e),k=(0,a.Z)(n));var C,S=(0,s.Z)(k,v),T=((0,p.Z)(k)-(0,p.Z)(v))/1e3,D=Math.round((S-T)/60);if(D<2)return null!==t&&void 0!==t&&t.includeSeconds?S<5?f.formatDistance("lessThanXSeconds",5,w):S<10?f.formatDistance("lessThanXSeconds",10,w):S<20?f.formatDistance("lessThanXSeconds",20,w):S<40?f.formatDistance("halfAMinute",0,w):S<60?f.formatDistance("lessThanXMinutes",1,w):f.formatDistance("xMinutes",1,w):0===D?f.formatDistance("lessThanXMinutes",1,w):f.formatDistance("xMinutes",D,w);if(D<45)return f.formatDistance("xMinutes",D,w);if(D<90)return f.formatDistance("aboutXHours",1,w);if(D<x){var O=Math.round(D/60);return f.formatDistance("aboutXHours",O,w)}if(D<m)return f.formatDistance("xDays",1,w);if(D<u){var E=Math.round(D/x);return f.formatDistance("xDays",E,w)}if(D<b)return C=Math.round(D/u),f.formatDistance("aboutXMonths",C,w);if((C=(0,l.Z)(k,v))<12){var F=Math.round(D/u);return f.formatDistance("xMonths",F,w)}var R=C%12,I=Math.floor(C/12);return R<3?f.formatDistance("aboutXYears",I,w):R<9?f.formatDistance("overXYears",I,w):f.formatDistance("almostXYears",I+1,w)}(e,Date.now(),n)}},64460:(e,n,t)=>{t.d(n,{Z:()=>l});var i=t(38527),o=t(4522);function l(e){return(0,o.Z)(1,arguments),(0,i.Z)(e).getTime()}}}]);
//# sourceMappingURL=6685.6d8136e5.chunk.js.map