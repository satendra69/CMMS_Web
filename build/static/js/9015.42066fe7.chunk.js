(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[9015],{25265:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>f,l2:()=>o,wE:()=>d});var s=n(82599),l=n(54690),i=n(85375),r=n(87183);function o(e,t){const n=(new Date).getFullYear(),o=e?(0,s.Z)(e):null,a=t?(0,s.Z)(t):null,d=n===o&&n===a,c=!(!e||!t)&&(0,l.Z)(new Date(e),new Date(t)),x=!(!e||!t)&&(0,i.Z)(new Date(e),new Date(t));return d?x?c?(0,r.Mu)(t,"dd MMM yy"):"".concat((0,r.Mu)(e,"dd")," - ").concat((0,r.Mu)(t,"dd MMM yy")):"".concat((0,r.Mu)(e,"dd MMM")," - ").concat((0,r.Mu)(t,"dd MMM yy")):"".concat((0,r.Mu)(e,"dd MMM yy")," - ").concat((0,r.Mu)(t,"dd MMM yy"))}var a=n(72791);function d(e,t){const[n,s]=(0,a.useState)(!1),[l,i]=(0,a.useState)(t),[d,c]=(0,a.useState)(e),x=!(!e||!t)&&new Date(e).getTime()>new Date(t).getTime(),h=(0,a.useCallback)((()=>{s(!0)}),[]),u=(0,a.useCallback)((()=>{s(!1)}),[]);return{startDate:d,endDate:l,onChangeStartDate:(0,a.useCallback)((e=>{c(e)}),[]),onChangeEndDate:(0,a.useCallback)((e=>{x&&i(null),i(e)}),[x]),open:n,onOpen:h,onClose:u,onReset:(0,a.useCallback)((()=>{c(null),i(null)}),[]),selected:!!d&&!!l,error:x,label:"".concat((0,r.Mu)(d)," - ").concat((0,r.Mu)(l)),shortLabel:o(d,l),setStartDate:c,setEndDate:i}}var c=n(53106),x=n(16997),h=n(4841),u=n(53767),m=n(5849),p=n(5574),j=n(65661),b=n(77386),v=n(4899),Z=n(30035),y=n(38887),g=n(80184);function f(e){let{title:t="Select date range",variant:n="input",startDate:s,endDate:l,onChangeStartDate:i,onChangeEndDate:r,open:o,onClose:a,error:d}=e;const f=(0,y.F)("up","md"),C="calendar"===n;return(0,g.jsxs)(p.Z,{fullWidth:!0,maxWidth:!C&&"xs",open:o,onClose:a,PaperProps:{sx:{...C&&{maxWidth:720}}},children:[(0,g.jsx)(j.Z,{sx:{pb:2},children:t}),(0,g.jsxs)(v.Z,{sx:{...C&&f&&{overflow:"unset"}},children:[(0,g.jsx)(u.Z,{justifyContent:"center",spacing:C?3:2,direction:C&&f?"row":"column",sx:{pt:1},children:C?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,g.jsx)(x.W,{value:s,onChange:i})}),(0,g.jsx)(h.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,g.jsx)(x.W,{value:l,onChange:r})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.M,{label:"Start date",value:s,onChange:i}),(0,g.jsx)(c.M,{label:"End date",value:l,onChange:r})]})}),d&&(0,g.jsx)(Z.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,g.jsxs)(b.Z,{children:[(0,g.jsx)(m.Z,{variant:"outlined",color:"inherit",onClick:a,children:"Cancel"}),(0,g.jsx)(m.Z,{disabled:d,variant:"contained",onClick:a,children:"Apply"})]})]})}},21435:(e,t,n)=>{"use strict";n.d(t,{Uo:()=>d,IJ:()=>P,oq:()=>C});var s=n(64554),l=n(4567),i=n(4841),r=n(53767),o=n(80160),a=n(80184);function d(e){let{address:t,action:n,sx:d,...c}=e;const{name:x,fullAddress:h,addressType:u,phoneNumber:m,primary:p}=t;return(0,a.jsxs)(r.Z,{component:i.Z,spacing:2,alignItems:{md:"flex-end"},direction:{xs:"column",md:"row"},sx:{position:"relative",...d},...c,children:[(0,a.jsxs)(r.Z,{flexGrow:1,spacing:1,children:[(0,a.jsxs)(r.Z,{direction:"row",alignItems:"center",children:[(0,a.jsxs)(l.Z,{variant:"subtitle2",children:[x,(0,a.jsxs)(s.Z,{component:"span",sx:{ml:.5,typography:"body2",color:"text.secondary"},children:["(",u,")"]})]}),p&&(0,a.jsx)(o.Z,{color:"info",sx:{ml:1},children:"Default"})]}),(0,a.jsx)(l.Z,{variant:"body2",sx:{color:"text.secondary"},children:h}),(0,a.jsx)(l.Z,{variant:"body2",sx:{color:"text.secondary"},children:m})]}),n&&n]})}var c=n(8007),x=n(61134),h=n(44695),u=n(12258),m=n(5849),p=n(5574),j=n(65661),b=n(77386),v=n(4899),Z=n(66964),y=n(40268),g=n(60240),f=n(72791);function C(e){let{open:t,onClose:n,onCreate:l}=e;const i=c.Ry().shape({name:c.Z_().required("Fullname is required"),phoneNumber:c.Z_().required("Phone number is required"),address:c.Z_().required("Address is required"),city:c.Z_().required("City is required"),state:c.Z_().required("State is required"),country:c.Z_().required("Country is required"),zipCode:c.Z_().required("Zip code is required"),addressType:c.Z_(),primary:c.O7()}),o=(0,x.cI)({resolver:(0,h.X)(i),defaultValues:{name:"",city:"",state:"",address:"",zipCode:"",primary:!0,phoneNumber:"",addressType:"Home",country:""}}),{handleSubmit:d,formState:{isSubmitting:C}}=o,w=d((async e=>{try{l({name:e.name,phoneNumber:e.phoneNumber,fullAddress:"".concat(e.address,", ").concat(e.city,", ").concat(e.state,", ").concat(e.country,", ").concat(e.zipCode),addressType:e.addressType,primary:e.primary}),n()}catch(t){console.error(t)}}));return(0,a.jsx)(p.Z,{fullWidth:!0,maxWidth:"sm",open:t,onClose:n,children:(0,a.jsxs)(g.ZP,{methods:o,onSubmit:w,children:[(0,a.jsx)(j.Z,{children:"New address"}),(0,a.jsx)(v.Z,{dividers:!0,children:(0,a.jsxs)(r.Z,{spacing:3,children:[(0,a.jsx)(g.km,{row:!0,name:"addressType",options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"}]}),(0,a.jsxs)(s.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,a.jsx)(g.au,{name:"name",label:"Full Name"}),(0,a.jsx)(g.au,{name:"phoneNumber",label:"Phone Number"})]}),(0,a.jsx)(g.au,{name:"address",label:"Address"}),(0,a.jsxs)(s.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[(0,a.jsx)(g.au,{name:"city",label:"Town / City"}),(0,a.jsx)(g.au,{name:"state",label:"State"}),(0,a.jsx)(g.au,{name:"zipCode",label:"Zip/Code"})]}),(0,a.jsx)(g.Fl,{name:"country",label:"Country",options:Z.h.map((e=>e.label)),getOptionLabel:e=>e,renderOption:(e,t)=>{const{code:n,label:s,phone:l}=Z.h.filter((e=>e.label===t))[0];return s?(0,f.createElement)("li",{...e,key:s},(0,a.jsx)(y.Z,{icon:"circle-flags:".concat(n.toLowerCase()),width:28,sx:{mr:1}},s),s," (",n,") +",l):null}}),(0,a.jsx)(g.jb,{name:"primary",label:"Use this address as default."})]})}),(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(m.Z,{color:"inherit",variant:"outlined",onClick:n,children:"Cancel"}),(0,a.jsx)(u.Z,{type:"submit",variant:"contained",loading:C,children:"Deliver to this Address"})]})]})})}var w=n(93006),D=n(97808),S=n(76278),k=n(34065),T=n(96349);function P(e){let{title:t="Address Book",list:n,action:i,open:d,onClose:c,selected:x,onSelect:h}=e;const[u,m]=(0,f.useState)(""),j=function(e){let{inputData:t,query:n}=e;if(n)return t.filter((e=>-1!==e.name.toLowerCase().indexOf(n.toLowerCase())||-1!==e.fullAddress.toLowerCase().indexOf(n.toLowerCase())||-1!=="".concat(e.company).toLowerCase().indexOf(n.toLowerCase())));return t}({inputData:n,query:u}),b=!j.length&&!!u,v=(0,f.useCallback)((e=>{m(e.target.value)}),[]),Z=(0,f.useCallback)((e=>{h(e),m(""),c()}),[c,h]),g=(0,a.jsx)(r.Z,{spacing:.5,sx:{p:.5,maxHeight:640,overflowX:"hidden"},children:j.map((e=>(0,a.jsxs)(r.Z,{spacing:.5,component:S.Z,selected:x("".concat(e.id)),onClick:()=>Z(e),sx:{py:1,px:1.5,borderRadius:1,flexDirection:"column",alignItems:"flex-start",["&.".concat(k.Z.selected)]:{bgcolor:"action.selected","&:hover":{bgcolor:"action.selected"}}},children:[(0,a.jsxs)(r.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,a.jsx)(l.Z,{variant:"subtitle2",children:e.name}),e.primary&&(0,a.jsx)(o.Z,{color:"info",children:"Default"})]}),e.company&&(0,a.jsx)(s.Z,{sx:{color:"primary.main",typography:"caption"},children:e.company}),(0,a.jsx)(l.Z,{variant:"body2",sx:{color:"text.secondary"},children:e.fullAddress}),e.phoneNumber&&(0,a.jsx)(l.Z,{variant:"body2",sx:{color:"text.secondary"},children:e.phoneNumber})]},e.id)))});return(0,a.jsxs)(p.Z,{fullWidth:!0,maxWidth:"xs",open:d,onClose:c,children:[(0,a.jsxs)(r.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:3,pr:1.5},children:[(0,a.jsxs)(l.Z,{variant:"h6",children:[" ",t," "]}),i&&i]}),(0,a.jsx)(r.Z,{sx:{p:2,pt:0},children:(0,a.jsx)(w.Z,{value:u,onChange:v,placeholder:"Search...",InputProps:{startAdornment:(0,a.jsx)(D.Z,{position:"start",children:(0,a.jsx)(y.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}})}),b?(0,a.jsx)(T.Z,{query:u,sx:{px:3,pt:5,pb:10}}):g]})}},9827:(e,t,n)=>{"use strict";n.d(t,{nC:()=>Se,H0:()=>Ne,a1:()=>De,Rg:()=>ce});var s=n(31357),l=n.n(s),i=n(72791),r=n(13967),o=n(12065),a=n(61474),d=n(29347),c=n(88588),x=n(15416),h=n(53767),u=n(5849),m=n(94721),p=n(97639),j=n(10266),b=n(62155),v=n(90977),Z=n(55261),y=n(38072),g=n(19208),f=n(83854),C=n(22459),w=n(87183),D=n(18306),S=n(80160),k=n(40268),T=n(63454),P=n(3352),_=n(60720),G=n(73379),I=n(1382),M=n(64554),R=n(4567),F=n(71554),W=n(17070),A=n(80184);function N(e){let{title:t,total:n,icon:s,color:l,percent:i,price:r}=e;return(0,A.jsxs)(h.Z,{spacing:2.5,direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,A.jsxs)(h.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,A.jsx)(k.Z,{icon:s,width:32,sx:{color:l,position:"absolute"}}),(0,A.jsx)(F.Z,{variant:"determinate",value:i,size:56,thickness:2,sx:{color:l,opacity:.48}}),(0,A.jsx)(F.Z,{variant:"determinate",value:100,size:56,thickness:3,sx:{top:0,left:0,opacity:.48,position:"absolute",color:e=>(0,o.Fq)(e.palette.grey[500],.16)}})]}),(0,A.jsxs)(h.Z,{spacing:.5,children:[(0,A.jsx)(R.Z,{variant:"subtitle1",children:t}),(0,A.jsxs)(M.Z,{component:"span",sx:{color:"text.disabled",typography:"body2"},children:[(0,W.v1)(n)," invoices"]}),(0,A.jsx)(R.Z,{variant:"subtitle2",children:(0,W.e_)(r)})]})]})}var q=n(16386),z=n(65469),O=n(60220),E=n(82626),H=n(9195),B=n(13034),L=n(68745),X=n(49900),V=n(56832);function Q(e){let{row:t,selected:n,onSelectRow:s,onViewRow:l,onEditRow:i,onDeleteRow:r}=e;const{sent:o,invoiceNumber:a,createDate:d,dueDate:c,status:x,invoiceTo:h,totalAmount:p}=t,j=(0,C.k)(),b=(0,V.S)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(H.Z,{hover:!0,selected:n,children:[(0,A.jsx)(L.Z,{padding:"checkbox",children:(0,A.jsx)(B.Z,{checked:n,onClick:s})}),(0,A.jsxs)(L.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,A.jsx)(O.Z,{alt:h.name,sx:{mr:2},children:h.name.charAt(0).toUpperCase()}),(0,A.jsx)(X.Z,{disableTypography:!0,primary:(0,A.jsx)(R.Z,{variant:"body2",noWrap:!0,children:h.name}),secondary:(0,A.jsx)(z.Z,{noWrap:!0,variant:"body2",onClick:l,sx:{color:"text.disabled",cursor:"pointer"},children:a})})]}),(0,A.jsx)(L.Z,{children:(0,A.jsx)(X.Z,{primary:(0,q.Z)(new Date(d),"dd MMM yyyy"),secondary:(0,q.Z)(new Date(d),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,A.jsx)(L.Z,{children:(0,A.jsx)(X.Z,{primary:(0,q.Z)(new Date(c),"dd MMM yyyy"),secondary:(0,q.Z)(new Date(c),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,A.jsx)(L.Z,{children:(0,W.e_)(p)}),(0,A.jsx)(L.Z,{align:"center",children:o}),(0,A.jsx)(L.Z,{children:(0,A.jsx)(S.Z,{variant:"soft",color:("paid"===x?"success":"pending"===x&&"warning")||"overdue"===x&&"error"||"default",children:x})}),(0,A.jsx)(L.Z,{align:"right",sx:{px:1},children:(0,A.jsx)(v.Z,{color:b.open?"inherit":"default",onClick:b.onOpen,children:(0,A.jsx)(k.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,A.jsxs)(V.Z,{open:b.open,onClose:b.onClose,arrow:"right-top",sx:{width:160},children:[(0,A.jsxs)(E.Z,{onClick:()=>{l(),b.onClose()},children:[(0,A.jsx)(k.Z,{icon:"solar:eye-bold"}),"View"]}),(0,A.jsxs)(E.Z,{onClick:()=>{i(),b.onClose()},children:[(0,A.jsx)(k.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,A.jsx)(m.Z,{sx:{borderStyle:"dashed"}}),(0,A.jsxs)(E.Z,{onClick:()=>{j.onTrue(),b.onClose()},sx:{color:"error.main"},children:[(0,A.jsx)(k.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,A.jsx)(P.Q,{open:j.value,onClose:j.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,A.jsx)(u.Z,{variant:"contained",color:"error",onClick:r,children:"Delete"})})]})}var $=n(53106),K=n(93006),U=n(62861),J=n(45363),Y=n(97808),ee=n(77196),te=n(84701);function ne(e){let{filters:t,onFilters:n,dateError:s,serviceOptions:l}=e;const r=(0,V.S)(),o=(0,i.useCallback)((e=>{n("name",e.target.value)}),[n]),a=(0,i.useCallback)((e=>{n("service","string"===typeof e.target.value?e.target.value.split(","):e.target.value)}),[n]),d=(0,i.useCallback)((e=>{n("startDate",e)}),[n]),c=(0,i.useCallback)((e=>{n("endDate",e)}),[n]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(h.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,A.jsxs)(J.Z,{sx:{flexShrink:0,width:{xs:1,md:180}},children:[(0,A.jsx)(U.Z,{children:"Service"}),(0,A.jsx)(te.Z,{multiple:!0,value:t.service,onChange:a,input:(0,A.jsx)(ee.Z,{label:"Service"}),renderValue:e=>e.map((e=>e)).join(", "),sx:{textTransform:"capitalize"},children:l.map((e=>(0,A.jsxs)(E.Z,{value:e,children:[(0,A.jsx)(B.Z,{disableRipple:!0,size:"small",checked:t.service.includes(e)}),e]},e)))})]}),(0,A.jsx)($.M,{label:"Start date",value:t.startDate,onChange:d,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:180}}}),(0,A.jsx)($.M,{label:"End date",value:t.endDate,onChange:c,slotProps:{textField:{fullWidth:!0,error:s}},sx:{maxWidth:{md:180}}}),(0,A.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,A.jsx)(K.Z,{fullWidth:!0,value:t.name,onChange:o,placeholder:"Search customer or invoice number...",InputProps:{startAdornment:(0,A.jsx)(Y.Z,{position:"start",children:(0,A.jsx)(k.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,A.jsx)(v.Z,{onClick:r.onOpen,children:(0,A.jsx)(k.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,A.jsxs)(V.Z,{open:r.open,onClose:r.onClose,arrow:"right-top",sx:{width:140},children:[(0,A.jsxs)(E.Z,{onClick:()=>{r.onClose()},children:[(0,A.jsx)(k.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,A.jsxs)(E.Z,{onClick:()=>{r.onClose()},children:[(0,A.jsx)(k.Z,{icon:"solar:import-bold"}),"Import"]}),(0,A.jsxs)(E.Z,{onClick:()=>{r.onClose()},children:[(0,A.jsx)(k.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var se=n(85771),le=n(4841),ie=n(25265);function re(e){let{filters:t,onFilters:n,onResetFilters:s,results:l,...i}=e;const r=(0,ie.l2)(t.startDate,t.endDate);return(0,A.jsxs)(h.Z,{spacing:1.5,...i,children:[(0,A.jsxs)(M.Z,{sx:{typography:"body2"},children:[(0,A.jsx)("strong",{children:l}),(0,A.jsx)(M.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,A.jsxs)(h.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.service.length&&(0,A.jsx)(oe,{label:"Service:",children:t.service.map((e=>(0,A.jsx)(se.Z,{label:e,size:"small",onDelete:()=>(e=>{const s=t.service.filter((t=>t!==e));n("service",s)})(e)},e)))}),"all"!==t.status&&(0,A.jsx)(oe,{label:"Status:",children:(0,A.jsx)(se.Z,{size:"small",label:t.status,onDelete:()=>{n("status","all")}})}),t.startDate&&t.endDate&&(0,A.jsx)(oe,{label:"Date:",children:(0,A.jsx)(se.Z,{size:"small",label:r,onDelete:()=>{n("startDate",null),n("endDate",null)}})}),(0,A.jsx)(u.Z,{color:"error",onClick:s,startIcon:(0,A.jsx)(k.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function oe(e){let{label:t,children:n,sx:s,...l}=e;return(0,A.jsxs)(h.Z,{component:le.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...s},...l,children:[(0,A.jsx)(M.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,A.jsx)(h.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}const ae=[{id:"invoiceNumber",label:"Customer"},{id:"createDate",label:"Create"},{id:"dueDate",label:"Due"},{id:"price",label:"Amount"},{id:"sent",label:"Sent",align:"center"},{id:"status",label:"Status"},{id:""}],de={name:"",service:[],status:"all",startDate:null,endDate:null};function ce(){const e=(0,r.Z)(),t=(0,_.K$)(),n=(0,g.tv)(),s=(0,I.x6)({defaultOrderBy:"createDate"}),M=(0,C.k)(),[R,F]=(0,i.useState)(D.Ot),[W,q]=(0,i.useState)(de),z=!(!W.startDate||!W.endDate)&&W.startDate.getTime()>W.endDate.getTime(),O=function(e){let{inputData:t,comparator:n,filters:s,dateError:l}=e;const{name:i,status:r,service:o,startDate:a,endDate:d}=s,c=t.map(((e,t)=>[e,t]));c.sort(((e,t)=>{const s=n(e[0],t[0]);return 0!==s?s:e[1]-t[1]})),t=c.map((e=>e[0])),i&&(t=t.filter((e=>-1!==e.invoiceNumber.toLowerCase().indexOf(i.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(i.toLowerCase()))));"all"!==r&&(t=t.filter((e=>e.status===r)));o.length&&(t=t.filter((e=>e.items.some((e=>o.includes(e.service))))));l||a&&d&&(t=t.filter((e=>(0,w.IO)(e.createDate)>=(0,w.IO)(a)&&(0,w.IO)(e.createDate)<=(0,w.IO)(d))));return t}({inputData:R,comparator:(0,I.sQ)(s.order,s.orderBy),filters:W,dateError:z}),E=O.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage),H=s.dense?56:76,B=!!W.name||!!W.service.length||"all"!==W.status||!!W.startDate&&!!W.endDate,L=!O.length&&B||!O.length,X=e=>R.filter((t=>t.status===e)).length,V=e=>l()(R.filter((t=>t.status===e)),"totalAmount"),$=e=>X(e)/R.length*100,K=[{value:"all",label:"All",color:"default",count:R.length},{value:"paid",label:"Paid",color:"success",count:X("paid")},{value:"pending",label:"Pending",color:"warning",count:X("pending")},{value:"overdue",label:"Overdue",color:"error",count:X("overdue")},{value:"draft",label:"Draft",color:"default",count:X("draft")}],U=(0,i.useCallback)(((e,t)=>{s.onResetPage(),q((n=>({...n,[e]:t})))}),[s]),J=(0,i.useCallback)((e=>{const t=R.filter((t=>t.id!==e));F(t),s.onUpdatePageDeleteRow(E.length)}),[E.length,s,R]),Y=(0,i.useCallback)((()=>{const e=R.filter((e=>!s.selected.includes(e.id)));F(e),s.onUpdatePageDeleteRows({totalRows:R.length,totalRowsInPage:E.length,totalRowsFiltered:O.length})}),[O.length,E.length,s,R]),ee=(0,i.useCallback)((e=>{n.push(y.H.dashboard.invoice.edit(e))}),[n]),te=(0,i.useCallback)((e=>{n.push(y.H.dashboard.invoice.details(e))}),[n]),se=(0,i.useCallback)(((e,t)=>{U("status",t)}),[U]),le=(0,i.useCallback)((()=>{q(de)}),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(j.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,A.jsx)(G.Z,{heading:"List",links:[{name:"Dashboard",href:y.H.dashboard.root},{name:"Invoice",href:y.H.dashboard.invoice.root},{name:"List"}],action:(0,A.jsx)(u.Z,{component:f.r,href:y.H.dashboard.invoice.new,variant:"contained",startIcon:(0,A.jsx)(k.Z,{icon:"mingcute:add-line"}),children:"New Invoice"}),sx:{mb:{xs:3,md:5}}}),(0,A.jsx)(c.Z,{sx:{mb:{xs:3,md:5}},children:(0,A.jsx)(T.Z,{children:(0,A.jsxs)(h.Z,{direction:"row",divider:(0,A.jsx)(m.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,A.jsx)(N,{title:"Total",total:R.length,percent:100,price:l()(R,"totalAmount"),icon:"solar:bill-list-bold-duotone",color:e.palette.info.main}),(0,A.jsx)(N,{title:"Paid",total:X("paid"),percent:$("paid"),price:V("paid"),icon:"solar:file-check-bold-duotone",color:e.palette.success.main}),(0,A.jsx)(N,{title:"Pending",total:X("pending"),percent:$("pending"),price:V("pending"),icon:"solar:sort-by-time-bold-duotone",color:e.palette.warning.main}),(0,A.jsx)(N,{title:"Overdue",total:X("overdue"),percent:$("overdue"),price:V("overdue"),icon:"solar:bell-bing-bold-duotone",color:e.palette.error.main}),(0,A.jsx)(N,{title:"Draft",total:X("draft"),percent:$("draft"),price:V("draft"),icon:"solar:file-corrupted-bold-duotone",color:e.palette.text.secondary})]})})}),(0,A.jsxs)(c.Z,{children:[(0,A.jsx)(d.Z,{value:W.status,onChange:se,sx:{px:2.5,boxShadow:"inset 0 -2px 0 0 ".concat((0,o.Fq)(e.palette.grey[500],.08))},children:K.map((e=>(0,A.jsx)(a.Z,{value:e.value,label:e.label,iconPosition:"end",icon:(0,A.jsx)(S.Z,{variant:"all"===e.value||e.value===W.status?"filled":"soft",color:e.color,children:e.count})},e.value)))}),(0,A.jsx)(ne,{filters:W,onFilters:U,dateError:z,serviceOptions:D.PI.map((e=>e.name))}),B&&(0,A.jsx)(re,{filters:W,onFilters:U,onResetFilters:le,results:O.length,sx:{p:2.5,pt:0}}),(0,A.jsxs)(Z.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,A.jsx)(I.Z4,{dense:s.dense,numSelected:s.selected.length,rowCount:R.length,onSelectAllRows:e=>s.onSelectAllRows(e,R.map((e=>e.id))),action:(0,A.jsxs)(h.Z,{direction:"row",children:[(0,A.jsx)(p.Z,{title:"Sent",children:(0,A.jsx)(v.Z,{color:"primary",children:(0,A.jsx)(k.Z,{icon:"iconamoon:send-fill"})})}),(0,A.jsx)(p.Z,{title:"Download",children:(0,A.jsx)(v.Z,{color:"primary",children:(0,A.jsx)(k.Z,{icon:"eva:download-outline"})})}),(0,A.jsx)(p.Z,{title:"Print",children:(0,A.jsx)(v.Z,{color:"primary",children:(0,A.jsx)(k.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,A.jsx)(p.Z,{title:"Delete",children:(0,A.jsx)(v.Z,{color:"primary",onClick:M.onTrue,children:(0,A.jsx)(k.Z,{icon:"solar:trash-bin-trash-bold"})})})]})}),(0,A.jsx)(T.Z,{children:(0,A.jsxs)(x.Z,{size:s.dense?"small":"medium",sx:{minWidth:800},children:[(0,A.jsx)(I.K,{order:s.order,orderBy:s.orderBy,headLabel:ae,rowCount:R.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:e=>s.onSelectAllRows(e,R.map((e=>e.id)))}),(0,A.jsxs)(b.Z,{children:[O.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map((e=>(0,A.jsx)(Q,{row:e,selected:s.selected.includes(e.id),onSelectRow:()=>s.onSelectRow(e.id),onViewRow:()=>te(e.id),onEditRow:()=>ee(e.id),onDeleteRow:()=>J(e.id)},e.id))),(0,A.jsx)(I.$W,{height:H,emptyRows:(0,I.fQ)(s.page,s.rowsPerPage,R.length)}),(0,A.jsx)(I.et,{notFound:L})]})]})})]}),(0,A.jsx)(I.S_,{count:O.length,page:s.page,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,onRowsPerPageChange:s.onChangeRowsPerPage,dense:s.dense,onChangeDense:s.onChangeDense})]})]}),(0,A.jsx)(P.Q,{open:M.value,onClose:M.onFalse,title:"Delete",content:(0,A.jsxs)(A.Fragment,{children:["Are you sure want to delete ",(0,A.jsxs)("strong",{children:[" ",s.selected.length," "]})," items?"]}),action:(0,A.jsx)(u.Z,{variant:"contained",color:"error",onClick:()=>{Y(),M.onFalse()},children:"Delete"})})]})}var xe=n(8007),he=n(61134),ue=n(44695),me=n(12258),pe=n(60240),je=n(87151),be=n.n(je),ve=n(55891);function Ze(){const{control:e,setValue:t,watch:n,resetField:s}=(0,he.Gc)(),{fields:l,append:r,remove:o}=(0,he.Dq)({control:e,name:"items"}),a=n(),d=a.items.map((e=>e.quantity*e.price)),c=be()(d),x=c-a.discount-a.shipping+a.taxes;(0,i.useEffect)((()=>{t("totalAmount",x)}),[t,x]);const p=(0,i.useCallback)((e=>{s("items[".concat(e,"].quantity")),s("items[".concat(e,"].price")),s("items[".concat(e,"].total"))}),[s]),j=(0,i.useCallback)(((e,n)=>{var s;t("items[".concat(e,"].price"),null===(s=D.PI.find((e=>e.name===n)))||void 0===s?void 0:s.price),t("items[".concat(e,"].total"),a.items.map((e=>e.quantity*e.price))[e])}),[t,a.items]),b=(0,i.useCallback)(((e,n)=>{t("items[".concat(n,"].quantity"),Number(e.target.value)),t("items[".concat(n,"].total"),a.items.map((e=>e.quantity*e.price))[n])}),[t,a.items]),v=(0,i.useCallback)(((e,n)=>{t("items[".concat(n,"].price"),Number(e.target.value)),t("items[".concat(n,"].total"),a.items.map((e=>e.quantity*e.price))[n])}),[t,a.items]),Z=(0,A.jsxs)(h.Z,{spacing:2,alignItems:"flex-end",sx:{mt:3,textAlign:"right",typography:"body2"},children:[(0,A.jsxs)(h.Z,{direction:"row",children:[(0,A.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,A.jsx)(M.Z,{sx:{width:160,typography:"subtitle2"},children:(0,W.e_)(c)||"-"})]}),(0,A.jsxs)(h.Z,{direction:"row",children:[(0,A.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,A.jsx)(M.Z,{sx:{width:160,...a.shipping&&{color:"error.main"}},children:a.shipping?"- ".concat((0,W.e_)(a.shipping)):"-"})]}),(0,A.jsxs)(h.Z,{direction:"row",children:[(0,A.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,A.jsx)(M.Z,{sx:{width:160,...a.discount&&{color:"error.main"}},children:a.discount?"- ".concat((0,W.e_)(a.discount)):"-"})]}),(0,A.jsxs)(h.Z,{direction:"row",children:[(0,A.jsx)(M.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,A.jsx)(M.Z,{sx:{width:160},children:a.taxes?(0,W.e_)(a.taxes):"-"})]}),(0,A.jsxs)(h.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,A.jsx)(M.Z,{children:"Total"}),(0,A.jsx)(M.Z,{sx:{width:160},children:(0,W.e_)(x)||"-"})]})]});return(0,A.jsxs)(M.Z,{sx:{p:3},children:[(0,A.jsx)(R.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Details:"}),(0,A.jsx)(h.Z,{divider:(0,A.jsx)(m.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:l.map(((e,t)=>(0,A.jsxs)(h.Z,{alignItems:"flex-end",spacing:1.5,children:[(0,A.jsxs)(h.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,A.jsx)(pe.au,{size:"small",name:"items[".concat(t,"].title"),label:"Title",InputLabelProps:{shrink:!0}}),(0,A.jsx)(pe.au,{size:"small",name:"items[".concat(t,"].description"),label:"Description",InputLabelProps:{shrink:!0}}),(0,A.jsxs)(pe.Cc,{name:"items[".concat(t,"].service"),size:"small",label:"Service",InputLabelProps:{shrink:!0},sx:{maxWidth:{md:160}},children:[(0,A.jsx)(E.Z,{value:"",onClick:()=>p(t),sx:{fontStyle:"italic",color:"text.secondary"},children:"None"}),(0,A.jsx)(m.Z,{sx:{borderStyle:"dashed"}}),D.PI.map((e=>(0,A.jsx)(E.Z,{value:e.name,onClick:()=>j(t,e.name),children:e.name},e.id)))]}),(0,A.jsx)(pe.au,{size:"small",type:"number",name:"items[".concat(t,"].quantity"),label:"Quantity",placeholder:"0",onChange:e=>b(e,t),InputLabelProps:{shrink:!0},sx:{maxWidth:{md:96}}}),(0,A.jsx)(pe.au,{size:"small",type:"number",name:"items[".concat(t,"].price"),label:"Price",placeholder:"0.00",onChange:e=>v(e,t),InputProps:{startAdornment:(0,A.jsx)(Y.Z,{position:"start",children:(0,A.jsx)(M.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:{maxWidth:{md:96}}}),(0,A.jsx)(pe.au,{disabled:!0,size:"small",type:"number",name:"items[".concat(t,"].total"),label:"Total",placeholder:"0.00",value:0===a.items[t].total?"":a.items[t].total.toFixed(2),onChange:e=>v(e,t),InputProps:{startAdornment:(0,A.jsx)(Y.Z,{position:"start",children:(0,A.jsx)(M.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:{maxWidth:{md:104},["& .".concat(ve.Z.input)]:{textAlign:{md:"right"}}}})]}),(0,A.jsx)(u.Z,{size:"small",color:"error",startIcon:(0,A.jsx)(k.Z,{icon:"solar:trash-bin-trash-bold"}),onClick:()=>(e=>{o(e)})(t),children:"Remove"})]},e.id)))}),(0,A.jsx)(m.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,A.jsxs)(h.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[(0,A.jsx)(u.Z,{size:"small",color:"primary",startIcon:(0,A.jsx)(k.Z,{icon:"mingcute:add-line"}),onClick:()=>{r({title:"",description:"",service:"",quantity:1,price:0,total:0})},sx:{flexShrink:0},children:"Add Item"}),(0,A.jsxs)(h.Z,{spacing:2,justifyContent:"flex-end",direction:{xs:"column",md:"row"},sx:{width:1},children:[(0,A.jsx)(pe.au,{size:"small",label:"Shipping($)",name:"shipping",type:"number",sx:{maxWidth:{md:120}}}),(0,A.jsx)(pe.au,{size:"small",label:"Discount($)",name:"discount",type:"number",sx:{maxWidth:{md:120}}}),(0,A.jsx)(pe.au,{size:"small",label:"Taxes(%)",name:"taxes",type:"number",sx:{maxWidth:{md:120}}})]})]}),Z]})}var ye=n(38887),ge=n(21435);function fe(){var e;const{watch:t,setValue:n,formState:{errors:s}}=(0,he.Gc)(),l=(0,ye.F)("up","md"),i=t(),{invoiceFrom:r,invoiceTo:o}=i,a=(0,C.k)(),d=(0,C.k)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(h.Z,{spacing:{xs:3,md:5},direction:{xs:"column",md:"row"},divider:(0,A.jsx)(m.Z,{flexItem:!0,orientation:l?"vertical":"horizontal",sx:{borderStyle:"dashed"}}),sx:{p:3},children:[(0,A.jsxs)(h.Z,{sx:{width:1},children:[(0,A.jsxs)(h.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,A.jsx)(R.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"From:"}),(0,A.jsx)(v.Z,{onClick:a.onTrue,children:(0,A.jsx)(k.Z,{icon:"solar:pen-bold"})})]}),(0,A.jsxs)(h.Z,{spacing:1,children:[(0,A.jsx)(R.Z,{variant:"subtitle2",children:r.name}),(0,A.jsx)(R.Z,{variant:"body2",children:r.fullAddress}),(0,A.jsxs)(R.Z,{variant:"body2",children:[" ",r.phoneNumber]})]})]}),(0,A.jsxs)(h.Z,{sx:{width:1},children:[(0,A.jsxs)(h.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,A.jsx)(R.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"To:"}),(0,A.jsx)(v.Z,{onClick:d.onTrue,children:(0,A.jsx)(k.Z,{icon:o?"solar:pen-bold":"mingcute:add-line"})})]}),o?(0,A.jsxs)(h.Z,{spacing:1,children:[(0,A.jsx)(R.Z,{variant:"subtitle2",children:o.name}),(0,A.jsx)(R.Z,{variant:"body2",children:o.fullAddress}),(0,A.jsxs)(R.Z,{variant:"body2",children:[" ",o.phoneNumber]})]}):(0,A.jsx)(R.Z,{typography:"caption",sx:{color:"error.main"},children:null===(e=s.invoiceTo)||void 0===e?void 0:e.message})]})]}),(0,A.jsx)(ge.IJ,{title:"Customers",open:a.value,onClose:a.onFalse,selected:e=>(null===r||void 0===r?void 0:r.id)===e,onSelect:e=>n("invoiceFrom",e),list:D.PX,action:(0,A.jsx)(u.Z,{size:"small",startIcon:(0,A.jsx)(k.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})}),(0,A.jsx)(ge.IJ,{title:"Customers",open:d.value,onClose:d.onFalse,selected:e=>(null===o||void 0===o?void 0:o.id)===e,onSelect:e=>n("invoiceTo",e),list:D.PX,action:(0,A.jsx)(u.Z,{size:"small",startIcon:(0,A.jsx)(k.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}function Ce(){const{control:e,watch:t}=(0,he.Gc)(),n=t();return(0,A.jsxs)(h.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,bgcolor:"background.neutral"},children:[(0,A.jsx)(pe.au,{disabled:!0,name:"invoiceNumber",label:"Invoice number",value:n.invoiceNumber}),(0,A.jsx)(pe.Cc,{fullWidth:!0,name:"status",label:"Status",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["paid","pending","overdue","draft"].map((e=>(0,A.jsx)(E.Z,{value:e,children:e},e)))}),(0,A.jsx)(he.Qr,{name:"createDate",control:e,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,A.jsx)($.M,{label:"Date create",value:t.value,onChange:e=>{t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}}),(0,A.jsx)(he.Qr,{name:"dueDate",control:e,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,A.jsx)($.M,{label:"Due date",value:t.value,onChange:e=>{t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message}}})}})]})}function we(e){let{currentInvoice:t}=e;const n=(0,g.tv)(),s=(0,C.k)(),l=(0,C.k)(),r=xe.Ry().shape({invoiceTo:xe.nK().nullable().required("Invoice to is required"),createDate:xe.nK().nullable().required("Create date is required"),dueDate:xe.nK().required("Due date is required").test("date-min","Due date must be later than create date",((e,t)=>{let{parent:n}=t;return e.getTime()>n.createDate.getTime()})),taxes:xe.Rx(),status:xe.Z_(),discount:xe.Rx(),shipping:xe.Rx(),invoiceFrom:xe.nK(),totalAmount:xe.Rx(),invoiceNumber:xe.Z_()}),o=(0,i.useMemo)((()=>({invoiceNumber:(null===t||void 0===t?void 0:t.invoiceNumber)||"INV-1990",createDate:(null===t||void 0===t?void 0:t.createDate)||new Date,dueDate:(null===t||void 0===t?void 0:t.dueDate)||null,taxes:(null===t||void 0===t?void 0:t.taxes)||0,shipping:(null===t||void 0===t?void 0:t.shipping)||0,status:(null===t||void 0===t?void 0:t.status)||"draft",discount:(null===t||void 0===t?void 0:t.discount)||0,invoiceFrom:(null===t||void 0===t?void 0:t.invoiceFrom)||D.PX[0],invoiceTo:(null===t||void 0===t?void 0:t.invoiceTo)||null,items:(null===t||void 0===t?void 0:t.items)||[{title:"",description:"",service:"",quantity:1,price:0,total:0}],totalAmount:(null===t||void 0===t?void 0:t.totalAmount)||0})),[t]),a=(0,he.cI)({resolver:(0,ue.X)(r),defaultValues:o}),{reset:d,handleSubmit:x,formState:{isSubmitting:u}}=a,m=x((async e=>{s.onTrue();try{await new Promise((e=>setTimeout(e,500))),d(),s.onFalse(),n.push(y.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(e,null,2))}catch(t){console.error(t),s.onFalse()}})),p=x((async e=>{l.onTrue();try{await new Promise((e=>setTimeout(e,500))),d(),l.onFalse(),n.push(y.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(e,null,2))}catch(t){console.error(t),l.onFalse()}}));return(0,A.jsxs)(pe.ZP,{methods:a,children:[(0,A.jsxs)(c.Z,{children:[(0,A.jsx)(fe,{}),(0,A.jsx)(Ce,{}),(0,A.jsx)(Ze,{})]}),(0,A.jsxs)(h.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:[(0,A.jsx)(me.Z,{color:"inherit",size:"large",variant:"outlined",loading:s.value&&u,onClick:m,children:"Save as Draft"}),(0,A.jsxs)(me.Z,{size:"large",variant:"contained",loading:l.value&&u,onClick:p,children:[t?"Update":"Create"," & Send"]})]})]})}function De(e){let{id:t}=e;const n=(0,_.K$)(),s=D.Ot.find((e=>e.id===t));return(0,A.jsxs)(j.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,A.jsx)(G.Z,{heading:"Edit",links:[{name:"Dashboard",href:y.H.dashboard.root},{name:"Invoice",href:y.H.dashboard.invoice.root},{name:null===s||void 0===s?void 0:s.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,A.jsx)(we,{currentInvoice:s})]})}function Se(){const e=(0,_.K$)();return(0,A.jsxs)(j.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,A.jsx)(G.Z,{heading:"Create a new invoice",links:[{name:"Dashboard",href:y.H.dashboard.root},{name:"Invoice",href:y.H.dashboard.invoice.root},{name:"New Invoice"}],sx:{mb:{xs:3,md:5}}}),(0,A.jsx)(we,{})]})}var ke=n(66934),Te=n(22041),Pe=n(24308),_e=n(34508),Ge=n(5574),Ie=n(77386);_e.Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});const Me=()=>(0,i.useMemo)((()=>_e.mM.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",padding:"40px 24px 120px 24px"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}})),[]);function Re(e){let{invoice:t,currentStatus:n}=e;const{items:s,taxes:l,dueDate:i,discount:r,shipping:o,invoiceTo:a,createDate:d,totalAmount:c,invoiceFrom:x,invoiceNumber:h,subTotal:u}=t,m=Me();return(0,A.jsx)(_e.BB,{children:(0,A.jsxs)(_e.T3,{size:"A4",style:m.page,children:[(0,A.jsxs)(_e.G7,{style:[m.gridContainer,m.mb40],children:[(0,A.jsx)(_e.Ee,{source:"/logo/logo_single.png",style:{width:48,height:48}}),(0,A.jsxs)(_e.G7,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,A.jsx)(_e.xv,{style:m.h3,children:n}),(0,A.jsxs)(_e.xv,{children:[" ",h," "]})]})]}),(0,A.jsxs)(_e.G7,{style:[m.gridContainer,m.mb40],children:[(0,A.jsxs)(_e.G7,{style:m.col6,children:[(0,A.jsx)(_e.xv,{style:[m.subtitle2,m.mb4],children:"Invoice from"}),(0,A.jsx)(_e.xv,{style:m.body2,children:x.name}),(0,A.jsx)(_e.xv,{style:m.body2,children:x.fullAddress}),(0,A.jsx)(_e.xv,{style:m.body2,children:x.phoneNumber})]}),(0,A.jsxs)(_e.G7,{style:m.col6,children:[(0,A.jsx)(_e.xv,{style:[m.subtitle2,m.mb4],children:"Invoice to"}),(0,A.jsx)(_e.xv,{style:m.body2,children:a.name}),(0,A.jsx)(_e.xv,{style:m.body2,children:a.fullAddress}),(0,A.jsx)(_e.xv,{style:m.body2,children:a.phoneNumber})]})]}),(0,A.jsxs)(_e.G7,{style:[m.gridContainer,m.mb40],children:[(0,A.jsxs)(_e.G7,{style:m.col6,children:[(0,A.jsx)(_e.xv,{style:[m.subtitle2,m.mb4],children:"Date create"}),(0,A.jsx)(_e.xv,{style:m.body2,children:(0,w.Mu)(d)})]}),(0,A.jsxs)(_e.G7,{style:m.col6,children:[(0,A.jsx)(_e.xv,{style:[m.subtitle2,m.mb4],children:"Due date"}),(0,A.jsx)(_e.xv,{style:m.body2,children:(0,w.Mu)(i)})]})]}),(0,A.jsx)(_e.xv,{style:[m.subtitle1,m.mb8],children:"Invoice Details"}),(0,A.jsxs)(_e.G7,{style:m.table,children:[(0,A.jsx)(_e.G7,{children:(0,A.jsxs)(_e.G7,{style:m.tableRow,children:[(0,A.jsx)(_e.G7,{style:m.tableCell_1,children:(0,A.jsx)(_e.xv,{style:m.subtitle2,children:"#"})}),(0,A.jsx)(_e.G7,{style:m.tableCell_2,children:(0,A.jsx)(_e.xv,{style:m.subtitle2,children:"Description"})}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{style:m.subtitle2,children:"Qty"})}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{style:m.subtitle2,children:"Unit price"})}),(0,A.jsx)(_e.G7,{style:[m.tableCell_3,m.alignRight],children:(0,A.jsx)(_e.xv,{style:m.subtitle2,children:"Total"})})]})}),(0,A.jsxs)(_e.G7,{children:[s.map(((e,t)=>(0,A.jsxs)(_e.G7,{style:m.tableRow,children:[(0,A.jsx)(_e.G7,{style:m.tableCell_1,children:(0,A.jsx)(_e.xv,{children:t+1})}),(0,A.jsxs)(_e.G7,{style:m.tableCell_2,children:[(0,A.jsx)(_e.xv,{style:m.subtitle2,children:e.title}),(0,A.jsx)(_e.xv,{children:e.description})]}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{children:e.quantity})}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{children:e.price})}),(0,A.jsx)(_e.G7,{style:[m.tableCell_3,m.alignRight],children:(0,A.jsx)(_e.xv,{children:(0,W.e_)(e.price*e.quantity)})})]},e.id))),(0,A.jsxs)(_e.G7,{style:[m.tableRow,m.noBorder],children:[(0,A.jsx)(_e.G7,{style:m.tableCell_1}),(0,A.jsx)(_e.G7,{style:m.tableCell_2}),(0,A.jsx)(_e.G7,{style:m.tableCell_3}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{children:"Subtotal"})}),(0,A.jsx)(_e.G7,{style:[m.tableCell_3,m.alignRight],children:(0,A.jsx)(_e.xv,{children:(0,W.e_)(u)})})]}),(0,A.jsxs)(_e.G7,{style:[m.tableRow,m.noBorder],children:[(0,A.jsx)(_e.G7,{style:m.tableCell_1}),(0,A.jsx)(_e.G7,{style:m.tableCell_2}),(0,A.jsx)(_e.G7,{style:m.tableCell_3}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{children:"Shipping"})}),(0,A.jsx)(_e.G7,{style:[m.tableCell_3,m.alignRight],children:(0,A.jsx)(_e.xv,{children:(0,W.e_)(-o)})})]}),(0,A.jsxs)(_e.G7,{style:[m.tableRow,m.noBorder],children:[(0,A.jsx)(_e.G7,{style:m.tableCell_1}),(0,A.jsx)(_e.G7,{style:m.tableCell_2}),(0,A.jsx)(_e.G7,{style:m.tableCell_3}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{children:"Discount"})}),(0,A.jsx)(_e.G7,{style:[m.tableCell_3,m.alignRight],children:(0,A.jsx)(_e.xv,{children:(0,W.e_)(-r)})})]}),(0,A.jsxs)(_e.G7,{style:[m.tableRow,m.noBorder],children:[(0,A.jsx)(_e.G7,{style:m.tableCell_1}),(0,A.jsx)(_e.G7,{style:m.tableCell_2}),(0,A.jsx)(_e.G7,{style:m.tableCell_3}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{children:"Taxes"})}),(0,A.jsx)(_e.G7,{style:[m.tableCell_3,m.alignRight],children:(0,A.jsx)(_e.xv,{children:(0,W.e_)(l)})})]}),(0,A.jsxs)(_e.G7,{style:[m.tableRow,m.noBorder],children:[(0,A.jsx)(_e.G7,{style:m.tableCell_1}),(0,A.jsx)(_e.G7,{style:m.tableCell_2}),(0,A.jsx)(_e.G7,{style:m.tableCell_3}),(0,A.jsx)(_e.G7,{style:m.tableCell_3,children:(0,A.jsx)(_e.xv,{style:m.h4,children:"Total"})}),(0,A.jsx)(_e.G7,{style:[m.tableCell_3,m.alignRight],children:(0,A.jsx)(_e.xv,{style:m.h4,children:(0,W.e_)(c)})})]})]})]}),(0,A.jsxs)(_e.G7,{style:[m.gridContainer,m.footer],fixed:!0,children:[(0,A.jsxs)(_e.G7,{style:m.col8,children:[(0,A.jsx)(_e.xv,{style:m.subtitle2,children:"NOTES"}),(0,A.jsx)(_e.xv,{children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,A.jsxs)(_e.G7,{style:[m.col4,m.alignRight],children:[(0,A.jsx)(_e.xv,{style:m.subtitle2,children:"Have a Question?"}),(0,A.jsx)(_e.xv,{children:"support@abcapp.com"})]})]})]})})}function Fe(e){let{invoice:t,currentStatus:n,statusOptions:s,onChangeStatus:l}=e;const r=(0,g.tv)(),o=(0,C.k)(),a=(0,i.useCallback)((()=>{r.push(y.H.dashboard.invoice.edit(t.id))}),[t.id,r]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(h.Z,{spacing:3,direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"},sx:{mb:{xs:3,md:5}},children:[(0,A.jsxs)(h.Z,{direction:"row",spacing:1,flexGrow:1,sx:{width:1},children:[(0,A.jsx)(p.Z,{title:"Edit",children:(0,A.jsx)(v.Z,{onClick:a,children:(0,A.jsx)(k.Z,{icon:"solar:pen-bold"})})}),(0,A.jsx)(p.Z,{title:"View",children:(0,A.jsx)(v.Z,{onClick:o.onTrue,children:(0,A.jsx)(k.Z,{icon:"solar:eye-bold"})})}),(0,A.jsx)(_e.WD,{document:(0,A.jsx)(Re,{invoice:t,currentStatus:n}),fileName:t.invoiceNumber,style:{textDecoration:"none"},children:e=>{let{loading:t}=e;return(0,A.jsx)(p.Z,{title:"Download",children:(0,A.jsx)(v.Z,{children:t?(0,A.jsx)(F.Z,{size:24,color:"inherit"}):(0,A.jsx)(k.Z,{icon:"eva:cloud-download-fill"})})})}}),(0,A.jsx)(p.Z,{title:"Print",children:(0,A.jsx)(v.Z,{children:(0,A.jsx)(k.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,A.jsx)(p.Z,{title:"Send",children:(0,A.jsx)(v.Z,{children:(0,A.jsx)(k.Z,{icon:"iconamoon:send-fill"})})}),(0,A.jsx)(p.Z,{title:"Share",children:(0,A.jsx)(v.Z,{children:(0,A.jsx)(k.Z,{icon:"solar:share-bold"})})})]}),(0,A.jsx)(K.Z,{fullWidth:!0,select:!0,label:"Status",value:n,onChange:l,sx:{maxWidth:160},children:s.map((e=>(0,A.jsx)(E.Z,{value:e.value,children:e.label},e.value)))})]}),(0,A.jsx)(Ge.Z,{fullScreen:!0,open:o.value,children:(0,A.jsxs)(M.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,A.jsx)(Ie.Z,{sx:{p:1.5},children:(0,A.jsx)(u.Z,{color:"inherit",variant:"contained",onClick:o.onFalse,children:"Close"})}),(0,A.jsx)(M.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,A.jsx)(_e.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,A.jsx)(Re,{invoice:t,currentStatus:n})})})]})})]})}const We=(0,ke.ZP)(H.Z)((e=>{let{theme:t}=e;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}}));function Ae(e){let{invoice:t}=e;const[n,s]=(0,i.useState)(t.status),l=(0,i.useCallback)((e=>{s(e.target.value)}),[]),r=(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(We,{children:[(0,A.jsx)(L.Z,{colSpan:3}),(0,A.jsxs)(L.Z,{sx:{color:"text.secondary"},children:[(0,A.jsx)(M.Z,{sx:{mt:2}}),"Subtotal"]}),(0,A.jsxs)(L.Z,{width:120,sx:{typography:"subtitle2"},children:[(0,A.jsx)(M.Z,{sx:{mt:2}}),(0,W.e_)(t.subTotal)]})]}),(0,A.jsxs)(We,{children:[(0,A.jsx)(L.Z,{colSpan:3}),(0,A.jsx)(L.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,A.jsx)(L.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,W.e_)(-t.shipping)})]}),(0,A.jsxs)(We,{children:[(0,A.jsx)(L.Z,{colSpan:3}),(0,A.jsx)(L.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,A.jsx)(L.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,W.e_)(-t.discount)})]}),(0,A.jsxs)(We,{children:[(0,A.jsx)(L.Z,{colSpan:3}),(0,A.jsx)(L.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,A.jsx)(L.Z,{width:120,children:(0,W.e_)(t.taxes)})]}),(0,A.jsxs)(We,{children:[(0,A.jsx)(L.Z,{colSpan:3}),(0,A.jsx)(L.Z,{sx:{typography:"subtitle1"},children:"Total"}),(0,A.jsx)(L.Z,{width:140,sx:{typography:"subtitle1"},children:(0,W.e_)(t.totalAmount)})]})]}),o=(0,A.jsxs)(Pe.Z,{container:!0,children:[(0,A.jsxs)(Pe.Z,{xs:12,md:9,sx:{py:3},children:[(0,A.jsx)(R.Z,{variant:"subtitle2",children:"NOTES"}),(0,A.jsx)(R.Z,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,A.jsxs)(Pe.Z,{xs:12,md:3,sx:{py:3,textAlign:"right"},children:[(0,A.jsx)(R.Z,{variant:"subtitle2",children:"Have a Question?"}),(0,A.jsx)(R.Z,{variant:"body2",children:"support@minimals.cc"})]})]}),a=(0,A.jsx)(Z.Z,{sx:{overflow:"unset",mt:5},children:(0,A.jsx)(T.Z,{children:(0,A.jsxs)(x.Z,{sx:{minWidth:960},children:[(0,A.jsx)(Te.Z,{children:(0,A.jsxs)(H.Z,{children:[(0,A.jsx)(L.Z,{width:40,children:"#"}),(0,A.jsx)(L.Z,{sx:{typography:"subtitle2"},children:"Description"}),(0,A.jsx)(L.Z,{children:"Qty"}),(0,A.jsx)(L.Z,{align:"right",children:"Unit price"}),(0,A.jsx)(L.Z,{align:"right",children:"Total"})]})}),(0,A.jsxs)(b.Z,{children:[t.items.map(((e,t)=>(0,A.jsxs)(H.Z,{children:[(0,A.jsx)(L.Z,{children:t+1}),(0,A.jsx)(L.Z,{children:(0,A.jsxs)(M.Z,{sx:{maxWidth:560},children:[(0,A.jsx)(R.Z,{variant:"subtitle2",children:e.title}),(0,A.jsx)(R.Z,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),(0,A.jsx)(L.Z,{children:e.quantity}),(0,A.jsx)(L.Z,{align:"right",children:(0,W.e_)(e.price)}),(0,A.jsx)(L.Z,{align:"right",children:(0,W.e_)(e.price*e.quantity)})]},t))),r]})]})})});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Fe,{invoice:t,currentStatus:n||"",onChangeStatus:l,statusOptions:D.Dp}),(0,A.jsxs)(c.Z,{sx:{pt:5,px:5},children:[(0,A.jsxs)(M.Z,{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,A.jsx)(M.Z,{component:"img",alt:"logo",src:"/logo/logo_single.svg",sx:{width:48,height:48}}),(0,A.jsxs)(h.Z,{spacing:1,alignItems:{xs:"flex-start",md:"flex-end"},children:[(0,A.jsx)(S.Z,{variant:"soft",color:("paid"===n?"success":"pending"===n&&"warning")||"overdue"===n&&"error"||"default",children:n}),(0,A.jsx)(R.Z,{variant:"h6",children:t.invoiceNumber})]}),(0,A.jsxs)(h.Z,{sx:{typography:"body2"},children:[(0,A.jsx)(R.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice From"}),t.invoiceFrom.name,(0,A.jsx)("br",{}),t.invoiceFrom.fullAddress,(0,A.jsx)("br",{}),"Phone: ",t.invoiceFrom.phoneNumber,(0,A.jsx)("br",{})]}),(0,A.jsxs)(h.Z,{sx:{typography:"body2"},children:[(0,A.jsx)(R.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice To"}),t.invoiceTo.name,(0,A.jsx)("br",{}),t.invoiceTo.fullAddress,(0,A.jsx)("br",{}),"Phone: ",t.invoiceTo.phoneNumber,(0,A.jsx)("br",{})]}),(0,A.jsxs)(h.Z,{sx:{typography:"body2"},children:[(0,A.jsx)(R.Z,{variant:"subtitle2",sx:{mb:1},children:"Date Create"}),(0,w.Mu)(t.createDate)]}),(0,A.jsxs)(h.Z,{sx:{typography:"body2"},children:[(0,A.jsx)(R.Z,{variant:"subtitle2",sx:{mb:1},children:"Due Date"}),(0,w.Mu)(t.dueDate)]})]}),a,(0,A.jsx)(m.Z,{sx:{mt:5,borderStyle:"dashed"}}),o]})]})}function Ne(e){let{id:t}=e;const n=(0,_.K$)(),s=D.Ot.filter((e=>e.id===t))[0];return(0,A.jsxs)(j.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,A.jsx)(G.Z,{heading:null===s||void 0===s?void 0:s.invoiceNumber,links:[{name:"Dashboard",href:y.H.dashboard.root},{name:"Invoice",href:y.H.dashboard.invoice.root},{name:null===s||void 0===s?void 0:s.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,A.jsx)(Ae,{invoice:s})]})}},87183:(e,t,n)=>{"use strict";n.d(t,{DY:()=>d,IO:()=>a,Mu:()=>r,zM:()=>o});var s=n(16386),l=n(64460),i=n(24054);function r(e,t){const n=t||"dd MMM yyyy";return e?(0,s.Z)(new Date(e),n):""}function o(e,t){const n=t||"dd MMM yyyy p";return e?(0,s.Z)(new Date(e),n):""}function a(e){return e?(0,l.Z)(new Date(e)):""}function d(e){return e?(0,i.Z)(new Date(e),{addSuffix:!0}):""}},41049:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(8938);function l(e){return(0,s.Z)({},e)}},24054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var s=n(24408),l=n(27277),i=n(79990),r=n(71786),o=n(38126),a=n(38527),d=n(41049),c=n(8938),x=n(4697),h=n(4522),u=1440,m=2520,p=43200,j=86400;function b(e,t){return(0,h.Z)(1,arguments),function(e,t,n){var b,v;(0,h.Z)(2,arguments);var Z=(0,s.j)(),y=null!==(b=null!==(v=null===n||void 0===n?void 0:n.locale)&&void 0!==v?v:Z.locale)&&void 0!==b?b:o.Z;if(!y.formatDistance)throw new RangeError("locale must contain formatDistance property");var g=(0,l.Z)(e,t);if(isNaN(g))throw new RangeError("Invalid time value");var f,C,w=(0,c.Z)((0,d.Z)(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:g});g>0?(f=(0,a.Z)(t),C=(0,a.Z)(e)):(f=(0,a.Z)(e),C=(0,a.Z)(t));var D,S=(0,r.Z)(C,f),k=((0,x.Z)(C)-(0,x.Z)(f))/1e3,T=Math.round((S-k)/60);if(T<2)return null!==n&&void 0!==n&&n.includeSeconds?S<5?y.formatDistance("lessThanXSeconds",5,w):S<10?y.formatDistance("lessThanXSeconds",10,w):S<20?y.formatDistance("lessThanXSeconds",20,w):S<40?y.formatDistance("halfAMinute",0,w):S<60?y.formatDistance("lessThanXMinutes",1,w):y.formatDistance("xMinutes",1,w):0===T?y.formatDistance("lessThanXMinutes",1,w):y.formatDistance("xMinutes",T,w);if(T<45)return y.formatDistance("xMinutes",T,w);if(T<90)return y.formatDistance("aboutXHours",1,w);if(T<u){var P=Math.round(T/60);return y.formatDistance("aboutXHours",P,w)}if(T<m)return y.formatDistance("xDays",1,w);if(T<p){var _=Math.round(T/u);return y.formatDistance("xDays",_,w)}if(T<j)return D=Math.round(T/p),y.formatDistance("aboutXMonths",D,w);if((D=(0,i.Z)(C,f))<12){var G=Math.round(T/p);return y.formatDistance("xMonths",G,w)}var I=D%12,M=Math.floor(D/12);return I<3?y.formatDistance("aboutXYears",M,w):I<9?y.formatDistance("overXYears",M,w):y.formatDistance("almostXYears",M+1,w)}(e,Date.now(),t)}},64460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(38527),l=n(4522);function i(e){return(0,l.Z)(1,arguments),(0,s.Z)(e).getTime()}},58645:e=>{e.exports=function(e,t){for(var n,s=-1,l=e.length;++s<l;){var i=t(e[s]);void 0!==i&&(n=void 0===n?i:n+i)}return n}},87151:(e,t,n)=>{var s=n(58645),l=n(2100);e.exports=function(e){return e&&e.length?s(e,l):0}},31357:(e,t,n)=>{var s=n(56025),l=n(58645);e.exports=function(e,t){return e&&e.length?l(e,s(t,2)):0}},42480:()=>{}}]);
//# sourceMappingURL=9015.42066fe7.chunk.js.map