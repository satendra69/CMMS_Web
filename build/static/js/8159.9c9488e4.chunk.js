"use strict";(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[8159],{25265:(e,n,t)=>{t.d(n,{ZP:()=>v,l2:()=>s,wE:()=>c});var o=t(82599),l=t(54690),r=t(85375),a=t(87183);function s(e,n){const t=(new Date).getFullYear(),s=e?(0,o.Z)(e):null,i=n?(0,o.Z)(n):null,c=t===s&&t===i,d=!(!e||!n)&&(0,l.Z)(new Date(e),new Date(n)),h=!(!e||!n)&&(0,r.Z)(new Date(e),new Date(n));return c?h?d?(0,a.Mu)(n,"dd MMM yy"):"".concat((0,a.Mu)(e,"dd")," - ").concat((0,a.Mu)(n,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM")," - ").concat((0,a.Mu)(n,"dd MMM yy")):"".concat((0,a.Mu)(e,"dd MMM yy")," - ").concat((0,a.Mu)(n,"dd MMM yy"))}var i=t(72791);function c(e,n){const[t,o]=(0,i.useState)(!1),[l,r]=(0,i.useState)(n),[c,d]=(0,i.useState)(e),h=!(!e||!n)&&new Date(e).getTime()>new Date(n).getTime(),x=(0,i.useCallback)((()=>{o(!0)}),[]),p=(0,i.useCallback)((()=>{o(!1)}),[]);return{startDate:c,endDate:l,onChangeStartDate:(0,i.useCallback)((e=>{d(e)}),[]),onChangeEndDate:(0,i.useCallback)((e=>{h&&r(null),r(e)}),[h]),open:t,onOpen:x,onClose:p,onReset:(0,i.useCallback)((()=>{d(null),r(null)}),[]),selected:!!c&&!!l,error:h,label:"".concat((0,a.Mu)(c)," - ").concat((0,a.Mu)(l)),shortLabel:s(c,l),setStartDate:d,setEndDate:r}}var d=t(53106),h=t(16997),x=t(4841),p=t(53767),u=t(5849),g=t(5574),j=t(65661),m=t(77386),Z=t(4899),C=t(30035),f=t(38887),b=t(80184);function v(e){let{title:n="Select date range",variant:t="input",startDate:o,endDate:l,onChangeStartDate:r,onChangeEndDate:a,open:s,onClose:i,error:c}=e;const v=(0,f.F)("up","md"),y="calendar"===t;return(0,b.jsxs)(g.Z,{fullWidth:!0,maxWidth:!y&&"xs",open:s,onClose:i,PaperProps:{sx:{...y&&{maxWidth:720}}},children:[(0,b.jsx)(j.Z,{sx:{pb:2},children:n}),(0,b.jsxs)(Z.Z,{sx:{...y&&v&&{overflow:"unset"}},children:[(0,b.jsx)(p.Z,{justifyContent:"center",spacing:y?3:2,direction:y&&v?"row":"column",sx:{pt:1},children:y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,b.jsx)(h.W,{value:o,onChange:r})}),(0,b.jsx)(x.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,b.jsx)(h.W,{value:l,onChange:a})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.M,{label:"Start date",value:o,onChange:r}),(0,b.jsx)(d.M,{label:"End date",value:l,onChange:a})]})}),c&&(0,b.jsx)(C.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(u.Z,{variant:"outlined",color:"inherit",onClick:i,children:"Cancel"}),(0,b.jsx)(u.Z,{disabled:c,variant:"contained",onClick:i,children:"Apply"})]})]})}},80211:(e,n,t)=>{t.d(n,{Z:()=>d,t:()=>r});var o=t(13967),l=t(38887);function r(e){const n=(0,o.Z)(),t=(0,l.z)(),r=n.breakpoints.up("xl"===t?"lg":t),a=("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e)&&n.typography[e][r]?n.typography[e][r]:n.typography[e],s=(i=a.fontSize,Math.round(16*parseFloat(i)));var i;const c=Number(n.typography[e].lineHeight)*s,{fontWeight:d,letterSpacing:h}=n.typography[e];return{fontSize:s,lineHeight:c,fontWeight:d,letterSpacing:h}}var a=t(72791),s=t(65469),i=t(4567),c=t(80184);const d=(0,a.forwardRef)(((e,n)=>{let{asLink:t,variant:o="body1",line:l=2,persistent:a=!1,children:d,sx:h,...x}=e;const{lineHeight:p}=r(o),u={overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:l,WebkitBoxOrient:"vertical",...a&&{height:p*l},...h};return t?(0,c.jsx)(s.Z,{color:"inherit",ref:n,variant:o,sx:{...u},...x,children:d}):(0,c.jsx)(i.Z,{ref:n,variant:o,sx:{...u},...x,children:d})}))},87369:(e,n,t)=>{t.d(n,{D:()=>l});var o=t(72791);function l(e){let{click:n,doubleClick:t,timeout:l=250}=e;const r=(0,o.useRef)();return(0,o.useCallback)((e=>{r&&(clearTimeout(r.current),r.current=null),n&&1===e.detail&&(r.current=setTimeout((()=>{n(e)}),l)),e.detail%2===0&&t(e)}),[n,t,l])}},28159:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Ce});var o=t(6907),l=t(72791),r=t(53767),a=t(5849),s=t(10266),i=t(4567),c=t(43146),d=t(32234),h=t(87183),x=t(18306),p=t(22459),u=t(40268),g=t(11633),j=t(18197),m=t(3352),Z=t(60720),C=t(1382),f=t(13967),b=t(64554),v=t(15416),y=t(97639),w=t(62155),k=t(90977),D=t(55261),S=t(90618),F=t(53507),R=t(16386),T=t(60220),I=t(94721),M=t(82626),P=t(13034),O=t(49900),E=t(12065),L=t(9195),W=t(61613),z=t(68745),A=t(76348),B=t(5951),q=t(87369),N=t(17914),U=t(17070),Q=t(56832),H=t(32869),K=t(20763),_=t(30946),G=t(80184);function $(e){let{row:n,selected:t,onSelectRow:o,onDeleteRow:s}=e;const c=(0,f.Z)(),{name:d,size:h,type:x,modifiedAt:g,shared:Z,isFavorited:C}=n,{enqueueSnackbar:b}=(0,H.Ds)(),{copy:v}=(0,N.m)(),[y,w]=(0,l.useState)(""),D=(0,p.k)(C),F=(0,p.k)(),$=(0,p.k)(),Y=(0,p.k)(),J=(0,Q.S)(),V=(0,l.useCallback)((e=>{w(e.target.value)}),[]),X=(0,q.D)({click:()=>{F.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),ee=(0,l.useCallback)((()=>{b("Copied!"),v(n.url)}),[v,b,n.url]),ne={borderTop:"solid 1px ".concat((0,E.Fq)(c.palette.grey[500],.16)),borderBottom:"solid 1px ".concat((0,E.Fq)(c.palette.grey[500],.16)),"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:"solid 1px ".concat((0,E.Fq)(c.palette.grey[500],.16))},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:"solid 1px ".concat((0,E.Fq)(c.palette.grey[500],.16))}};return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(L.Z,{selected:t,sx:{borderRadius:2,["&.".concat(W.Z.selected,", &:hover")]:{backgroundColor:"background.paper",boxShadow:c.customShadows.z20,transition:c.transitions.create(["background-color","box-shadow"],{duration:c.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:c.customShadows.z20}},["& .".concat(S.Z.root)]:{...ne},...F.value&&{["& .".concat(S.Z.root)]:{...ne}}},children:[(0,G.jsx)(z.Z,{padding:"checkbox",children:(0,G.jsx)(P.Z,{checked:t,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),onClick:o})}),(0,G.jsx)(z.Z,{onClick:X,children:(0,G.jsxs)(r.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,G.jsx)(j.ZP,{file:x,sx:{width:36,height:36}}),(0,G.jsx)(i.Z,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...F.value&&{fontWeight:"fontWeightBold"}},children:d})]})}),(0,G.jsx)(z.Z,{onClick:X,sx:{whiteSpace:"nowrap"},children:(0,U.oe)(h)}),(0,G.jsx)(z.Z,{onClick:X,sx:{whiteSpace:"nowrap"},children:x}),(0,G.jsx)(z.Z,{onClick:X,sx:{whiteSpace:"nowrap"},children:(0,G.jsx)(O.Z,{primary:(0,R.Z)(new Date(g),"dd MMM yyyy"),secondary:(0,R.Z)(new Date(g),"p"),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,G.jsx)(z.Z,{align:"right",onClick:X,children:(0,G.jsx)(A.Z,{max:4,sx:{display:"inline-flex",["& .".concat(B.Z.avatar)]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:Z&&Z.map((e=>(0,G.jsx)(T.Z,{alt:e.name,src:e.avatarUrl},e.id)))})}),(0,G.jsxs)(z.Z,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[(0,G.jsx)(P.Z,{color:"warning",icon:(0,G.jsx)(u.Z,{icon:"eva:star-outline"}),checkedIcon:(0,G.jsx)(u.Z,{icon:"eva:star-fill"}),checked:D.value,onChange:D.onToggle,sx:{p:.75}}),(0,G.jsx)(k.Z,{color:J.open?"inherit":"default",onClick:J.onOpen,children:(0,G.jsx)(u.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,G.jsxs)(Q.Z,{open:J.open,onClose:J.onClose,arrow:"right-top",sx:{width:160},children:[(0,G.jsxs)(M.Z,{onClick:()=>{J.onClose(),ee()},children:[(0,G.jsx)(u.Z,{icon:"eva:link-2-fill"}),"Copy Link"]}),(0,G.jsxs)(M.Z,{onClick:()=>{J.onClose(),$.onTrue()},children:[(0,G.jsx)(u.Z,{icon:"solar:share-bold"}),"Share"]}),(0,G.jsx)(I.Z,{sx:{borderStyle:"dashed"}}),(0,G.jsxs)(M.Z,{onClick:()=>{Y.onTrue(),J.onClose()},sx:{color:"error.main"},children:[(0,G.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,G.jsx)(_.Z,{item:n,favorited:D.value,onFavorite:D.onToggle,onCopyLink:ee,open:F.value,onClose:F.onFalse,onDelete:s}),(0,G.jsx)(K.Z,{open:$.value,shared:Z,inviteEmail:y,onChangeInvite:V,onCopyLink:ee,onClose:()=>{$.onFalse(),w("")}}),(0,G.jsx)(m.Q,{open:Y.value,onClose:Y.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(a.Z,{variant:"contained",color:"error",onClick:s,children:"Delete"})})]})}const Y=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function J(e){let{table:n,tableData:t,notFound:o,onDeleteRow:l,dataFiltered:r,onOpenConfirm:a}=e;const s=(0,f.Z)(),{dense:i,page:c,order:d,orderBy:h,rowsPerPage:x,selected:p,onSelectRow:g,onSelectAllRows:j,onSort:m,onChangeDense:Z,onChangePage:R,onChangeRowsPerPage:T}=n,I=i?58:78;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(b.Z,{sx:{position:"relative",m:s.spacing(-2,-3,-3,-3)},children:[(0,G.jsx)(C.Z4,{dense:i,numSelected:p.length,rowCount:t.length,onSelectAllRows:e=>j(e,t.map((e=>e.id))),action:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(y.Z,{title:"Share",children:(0,G.jsx)(k.Z,{color:"primary",children:(0,G.jsx)(u.Z,{icon:"solar:share-bold"})})}),(0,G.jsx)(y.Z,{title:"Delete",children:(0,G.jsx)(k.Z,{color:"primary",onClick:a,children:(0,G.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),(0,G.jsx)(D.Z,{sx:{p:s.spacing(0,3,3,3)},children:(0,G.jsxs)(v.Z,{size:i?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[(0,G.jsx)(C.K,{order:d,orderBy:h,headLabel:Y,rowCount:t.length,numSelected:p.length,onSort:m,onSelectAllRows:e=>j(e,t.map((e=>e.id))),sx:{["& .".concat(S.Z.head)]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),(0,G.jsxs)(w.Z,{children:[r.slice(c*x,c*x+x).map((e=>(0,G.jsx)($,{row:e,selected:p.includes(e.id),onSelectRow:()=>g(e.id),onDeleteRow:()=>l(e.id)},e.id))),(0,G.jsx)(C.$W,{height:I,emptyRows:(0,C.fQ)(c,x,t.length)}),(0,G.jsx)(C.et,{notFound:o,sx:{m:-2,borderRadius:1.5,border:"dashed 1px ".concat(s.palette.divider)}})]})]})})]}),(0,G.jsx)(C.S_,{count:r.length,page:c,rowsPerPage:x,onPageChange:R,onRowsPerPageChange:T,dense:i,onChangeDense:Z,sx:{["& .".concat(F.Z.toolbar)]:{borderTopColor:"transparent"}}})]})}var V=t(93006),X=t(81374),ee=t(97808),ne=t(80160),te=t(25265);function oe(e){let{openDateRange:n,onCloseDateRange:t,onOpenDateRange:o,filters:s,onFilters:c,dateError:d,typeOptions:h}=e;const x=(0,Q.S)(),p=s.type.length?s.type.slice(0,2).join(","):"All type",g=(0,l.useCallback)((e=>{c("name",e.target.value)}),[c]),m=(0,l.useCallback)((e=>{c("startDate",e)}),[c]),Z=(0,l.useCallback)((e=>{c("endDate",e)}),[c]),C=(0,l.useCallback)((e=>{const n=s.type.includes(e)?s.type.filter((n=>n!==e)):[...s.type,e];c("type",n)}),[s.type,c]),f=(0,l.useCallback)((()=>{x.onClose(),c("type",[])}),[c,x]),v=(0,G.jsx)(V.Z,{value:s.name,onChange:g,placeholder:"Search...",InputProps:{startAdornment:(0,G.jsx)(ee.Z,{position:"start",children:(0,G.jsx)(u.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:260}}}),y=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(a.Z,{color:"inherit",onClick:x.onOpen,endIcon:(0,G.jsx)(u.Z,{icon:x.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[p,s.type.length>2&&(0,G.jsxs)(ne.Z,{color:"info",sx:{ml:1},children:["+",s.type.length-2]})]}),(0,G.jsx)(Q.Z,{open:x.open,onClose:x.onClose,sx:{p:2.5},children:(0,G.jsxs)(r.Z,{spacing:2.5,children:[(0,G.jsx)(b.Z,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:h.map((e=>{const n=s.type.includes(e);return(0,G.jsx)(X.Z,{onClick:()=>C(e),sx:{p:1,borderRadius:1,cursor:"pointer",border:e=>"solid 1px ".concat((0,E.Fq)(e.palette.grey[500],.08)),...n&&{bgcolor:"action.selected"}},children:(0,G.jsxs)(r.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,G.jsx)(j.ZP,{file:e}),(0,G.jsx)(i.Z,{variant:n?"subtitle2":"body2",children:e})]})},e)}))}),(0,G.jsxs)(r.Z,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[(0,G.jsx)(a.Z,{variant:"outlined",color:"inherit",onClick:f,children:"Clear"}),(0,G.jsx)(a.Z,{variant:"contained",onClick:x.onClose,children:"Apply"})]})]})})]}),w=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(a.Z,{color:"inherit",onClick:o,endIcon:(0,G.jsx)(u.Z,{icon:n?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:s.startDate&&s.endDate?(0,te.l2)(s.startDate,s.endDate):"Select Date"}),(0,G.jsx)(te.ZP,{variant:"calendar",startDate:s.startDate,endDate:s.endDate,onChangeStartDate:m,onChangeEndDate:Z,open:n,onClose:t,selected:!!s.startDate&&!!s.endDate,error:d})]});return(0,G.jsxs)(r.Z,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},sx:{width:1},children:[v,(0,G.jsxs)(r.Z,{spacing:1,direction:"row",alignItems:"center",justifyContent:"flex-end",flexGrow:1,children:[w,y]})]})}var le=t(76090),re=t(64600),ae=t(4841),se=t(80211);function ie(e){var n;let{file:t,selected:o,onSelect:s,onDelete:c,sx:d,...x}=e;const{enqueueSnackbar:g}=(0,H.Ds)(),{copy:Z}=(0,N.m)(),[C,f]=(0,l.useState)(""),v=(0,p.k)(),y=(0,p.k)(),w=(0,p.k)(),D=(0,p.k)(),S=(0,p.k)(t.isFavorited),F=(0,Q.S)(),R=(0,l.useCallback)((e=>{f(e.target.value)}),[]),O=(0,l.useCallback)((()=>{g("Copied!"),Z(t.url)}),[Z,g,t.url]),E=(v.value||o)&&s?(0,G.jsx)(P.Z,{size:"medium",checked:o,onClick:s,icon:(0,G.jsx)(u.Z,{icon:"eva:radio-button-off-fill"}),checkedIcon:(0,G.jsx)(u.Z,{icon:"eva:checkmark-circle-2-fill"}),sx:{p:.75}}):(0,G.jsx)(j.ZP,{file:t.type,sx:{width:36,height:36}}),L=(0,G.jsxs)(r.Z,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[(0,G.jsx)(P.Z,{color:"warning",icon:(0,G.jsx)(u.Z,{icon:"eva:star-outline"}),checkedIcon:(0,G.jsx)(u.Z,{icon:"eva:star-fill"}),checked:S.value,onChange:S.onToggle}),(0,G.jsx)(k.Z,{color:F.open?"inherit":"default",onClick:F.onOpen,children:(0,G.jsx)(u.Z,{icon:"eva:more-vertical-fill"})})]}),W=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(se.Z,{persistent:!0,variant:"subtitle2",onClick:D.onTrue,sx:{width:1,mt:2,mb:.5},children:t.name}),(0,G.jsxs)(r.Z,{direction:"row",alignItems:"center",sx:{maxWidth:.99,whiteSpace:"nowrap",typography:"caption",color:"text.disabled"},children:[(0,U.oe)(t.size),(0,G.jsx)(b.Z,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),(0,G.jsx)(i.Z,{noWrap:!0,component:"span",variant:"caption",children:(0,h.zM)(t.modifiedAt)})]})]}),z=(0,G.jsx)(A.Z,{max:3,sx:{mt:1,["& .".concat(B.Z.avatar)]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:null===(n=t.shared)||void 0===n?void 0:n.map((e=>(0,G.jsx)(T.Z,{alt:e.name,src:e.avatarUrl},e.id)))});return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(r.Z,{component:ae.Z,variant:"outlined",alignItems:"flex-start",sx:{p:2.5,borderRadius:2,bgcolor:"unset",cursor:"pointer",position:"relative",...(v.value||o)&&{bgcolor:"background.paper",boxShadow:e=>e.customShadows.z20},...d},...x,children:[(0,G.jsx)(b.Z,{onMouseEnter:v.onTrue,onMouseLeave:v.onFalse,children:E}),W,z,L]}),(0,G.jsxs)(Q.Z,{open:F.open,onClose:F.onClose,arrow:"right-top",sx:{width:160},children:[(0,G.jsxs)(M.Z,{onClick:()=>{F.onClose(),O()},children:[(0,G.jsx)(u.Z,{icon:"eva:link-2-fill"}),"Copy Link"]}),(0,G.jsxs)(M.Z,{onClick:()=>{F.onClose(),y.onTrue()},children:[(0,G.jsx)(u.Z,{icon:"solar:share-bold"}),"Share"]}),(0,G.jsx)(I.Z,{sx:{borderStyle:"dashed"}}),(0,G.jsxs)(M.Z,{onClick:()=>{w.onTrue(),F.onClose()},sx:{color:"error.main"},children:[(0,G.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,G.jsx)(_.Z,{item:t,favorited:S.value,onFavorite:S.onToggle,onCopyLink:O,open:D.value,onClose:D.onFalse,onDelete:()=>{D.onFalse(),c()}}),(0,G.jsx)(K.Z,{open:y.value,shared:t.shared,inviteEmail:C,onChangeInvite:R,onCopyLink:O,onClose:()=>{y.onFalse(),f("")}}),(0,G.jsx)(m.Q,{open:w.value,onClose:w.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,G.jsx)(a.Z,{variant:"contained",color:"error",onClick:c,children:"Delete"})})]})}var ce=t(74471),de=t(50209);function he(e){let{action:n,selected:t,rowCount:o,numSelected:l,onSelectAllItems:r,sx:a,...s}=e;return(0,G.jsx)(de.h,{children:(0,G.jsxs)(b.Z,{sx:{right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:e=>e.spacing(1.5,2,1.5,1),boxShadow:e=>e.customShadows.z20,m:{xs:2,md:3},...a},...s,children:[(0,G.jsx)(P.Z,{indeterminate:!!l&&l<o,checked:!!o&&l===o,onChange:e=>r(e.target.checked),icon:(0,G.jsx)(u.Z,{icon:"eva:radio-button-off-fill"}),checkedIcon:(0,G.jsx)(u.Z,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:(0,G.jsx)(u.Z,{icon:"eva:minus-circle-fill"})}),t&&(0,G.jsxs)(i.Z,{variant:"subtitle2",sx:{mr:2,color:e=>"light"===e.palette.mode?"common.white":"grey.800"},children:[t.length," Items selected"]}),n&&n]})})}var xe=t(33991);function pe(e){let{table:n,data:t,dataFiltered:o,onDeleteItem:r,onOpenConfirm:s}=e;const{selected:i,onSelectRow:c,onSelectAllRows:d}=n,h=(0,l.useRef)(null),[x,g]=(0,l.useState)(""),[j,m]=(0,l.useState)(""),Z=(0,p.k)(),C=(0,p.k)(),f=(0,p.k)(),v=(0,p.k)(),y=(0,p.k)(),w=(0,l.useCallback)((e=>{m(e.target.value)}),[]),k=(0,l.useCallback)((e=>{g(e.target.value)}),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(b.Z,{ref:h,children:[(0,G.jsx)(re.Z,{title:"Folders",subTitle:"".concat(t.filter((e=>"folder"===e.type)).length," folders"),onOpen:C.onTrue,collapse:y.value,onCollapse:y.onToggle}),(0,G.jsx)(le.Z,{in:!y.value,unmountOnExit:!0,children:(0,G.jsx)(b.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},children:o.filter((e=>"folder"===e.type)).map((e=>(0,G.jsx)(ce.Z,{folder:e,selected:i.includes(e.id),onSelect:()=>c(e.id),onDelete:()=>r(e.id),sx:{maxWidth:"auto"}},e.id)))})}),(0,G.jsx)(I.Z,{sx:{my:5,borderStyle:"dashed"}}),(0,G.jsx)(re.Z,{title:"Files",subTitle:"".concat(t.filter((e=>"folder"!==e.type)).length," files"),onOpen:f.onTrue,collapse:v.value,onCollapse:v.onToggle}),(0,G.jsx)(le.Z,{in:!v.value,unmountOnExit:!0,children:(0,G.jsx)(b.Z,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,children:o.filter((e=>"folder"!==e.type)).map((e=>(0,G.jsx)(ie,{file:e,selected:i.includes(e.id),onSelect:()=>c(e.id),onDelete:()=>r(e.id),sx:{maxWidth:"auto"}},e.id)))})}),!(null===i||void 0===i||!i.length)&&(0,G.jsx)(he,{numSelected:i.length,rowCount:t.length,selected:i,onSelectAllItems:e=>d(e,t.map((e=>e.id))),action:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(a.Z,{size:"small",color:"error",variant:"contained",startIcon:(0,G.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),onClick:s,sx:{mr:1},children:"Delete"}),(0,G.jsx)(a.Z,{color:"primary",size:"small",variant:"contained",startIcon:(0,G.jsx)(u.Z,{icon:"solar:share-bold"}),onClick:Z.onTrue,children:"Share"})]})})]}),(0,G.jsx)(K.Z,{open:Z.value,inviteEmail:j,onChangeInvite:w,onClose:()=>{Z.onFalse(),m("")}}),(0,G.jsx)(xe.Z,{open:f.value,onClose:f.onFalse}),(0,G.jsx)(xe.Z,{open:C.value,onClose:C.onFalse,title:"New Folder",onCreate:()=>{C.onFalse(),g(""),console.info("CREATE NEW FOLDER",x)},folderName:x,onChangeFolderName:k})]})}var ue=t(85771);function ge(e){let{filters:n,onFilters:t,canReset:o,onResetFilters:l,results:s,...i}=e;const c=(0,te.l2)(n.startDate,n.endDate);return(0,G.jsxs)(r.Z,{spacing:1.5,...i,children:[(0,G.jsxs)(b.Z,{sx:{typography:"body2"},children:[(0,G.jsx)("strong",{children:s}),(0,G.jsx)(b.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,G.jsxs)(r.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!n.type.length&&(0,G.jsx)(je,{label:"Types:",children:n.type.map((e=>(0,G.jsx)(ue.Z,{label:e,size:"small",onDelete:()=>(e=>{const o=n.type.filter((n=>n!==e));t("type",o)})(e)},e)))}),n.startDate&&n.endDate&&(0,G.jsx)(je,{label:"Date:",children:(0,G.jsx)(ue.Z,{size:"small",label:c,onDelete:()=>{t("startDate",null),t("endDate",null)}})}),o&&(0,G.jsx)(a.Z,{color:"error",onClick:l,startIcon:(0,G.jsx)(u.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function je(e){let{label:n,children:t,sx:o,...l}=e;return(0,G.jsxs)(r.Z,{component:ae.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...o},...l,children:[(0,G.jsx)(b.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,G.jsx)(r.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]})}const me={name:"",type:[],startDate:null,endDate:null};function Ze(){const e=(0,C.x6)({defaultRowsPerPage:10}),n=(0,Z.K$)(),t=(0,p.k)(),o=(0,p.k)(),f=(0,p.k)(),[b,v]=(0,l.useState)("list"),[y,w]=(0,l.useState)(x.w7),[k,D]=(0,l.useState)(me),S=!(!k.startDate||!k.endDate)&&k.startDate.getTime()>k.endDate.getTime(),F=function(e){let{inputData:n,comparator:t,filters:o,dateError:l}=e;const{name:r,type:a,startDate:s,endDate:i}=o,c=n.map(((e,n)=>[e,n]));c.sort(((e,n)=>{const o=t(e[0],n[0]);return 0!==o?o:e[1]-n[1]})),n=c.map((e=>e[0])),r&&(n=n.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))));a.length&&(n=n.filter((e=>a.includes((0,j.fH)(e.type)))));l||s&&i&&(n=n.filter((e=>(0,h.IO)(e.createdAt)>=(0,h.IO)(s)&&(0,h.IO)(e.createdAt)<=(0,h.IO)(i))));return n}({inputData:y,comparator:(0,C.sQ)(e.order,e.orderBy),filters:k,dateError:S}),R=F.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),T=!!k.name||!!k.type.length||!!k.startDate&&!!k.endDate,I=!F.length&&T||!F.length,M=(0,l.useCallback)(((e,n)=>{null!==n&&v(n)}),[]),P=(0,l.useCallback)(((n,t)=>{e.onResetPage(),D((e=>({...e,[n]:t})))}),[e]),O=(0,l.useCallback)((n=>{const t=y.filter((e=>e.id!==n));w(t),e.onUpdatePageDeleteRow(R.length)}),[R.length,e,y]),E=(0,l.useCallback)((()=>{const n=y.filter((n=>!e.selected.includes(n.id)));w(n),e.onUpdatePageDeleteRows({totalRows:y.length,totalRowsInPage:R.length,totalRowsFiltered:F.length})}),[F.length,R.length,e,y]),L=(0,l.useCallback)((()=>{D(me)}),[]),W=(0,G.jsxs)(r.Z,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[(0,G.jsx)(oe,{openDateRange:t.value,onCloseDateRange:t.onFalse,onOpenDateRange:t.onTrue,filters:k,onFilters:P,dateError:S,typeOptions:x.fE}),(0,G.jsxs)(d.Z,{size:"small",value:b,exclusive:!0,onChange:M,children:[(0,G.jsx)(c.Z,{value:"list",children:(0,G.jsx)(u.Z,{icon:"solar:list-bold"})}),(0,G.jsx)(c.Z,{value:"grid",children:(0,G.jsx)(u.Z,{icon:"mingcute:dot-grid-fill"})})]})]}),z=(0,G.jsx)(ge,{filters:k,onResetFilters:L,canReset:T,onFilters:P,results:F.length});return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(s.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,G.jsxs)(r.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(i.Z,{variant:"h4",children:"File Manager"}),(0,G.jsx)(a.Z,{variant:"contained",startIcon:(0,G.jsx)(u.Z,{icon:"eva:cloud-upload-fill"}),onClick:f.onTrue,children:"Upload"})]}),(0,G.jsxs)(r.Z,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[W,T&&z]}),I?(0,G.jsx)(g.Z,{filled:!0,title:"No Data",sx:{py:10}}):(0,G.jsx)(G.Fragment,{children:"list"===b?(0,G.jsx)(J,{table:e,tableData:y,dataFiltered:F,onDeleteRow:O,notFound:I,onOpenConfirm:o.onTrue}):(0,G.jsx)(pe,{table:e,data:y,dataFiltered:F,onDeleteItem:O,onOpenConfirm:o.onTrue})})]}),(0,G.jsx)(xe.Z,{open:f.value,onClose:f.onFalse}),(0,G.jsx)(m.Q,{open:o.value,onClose:o.onFalse,title:"Delete",content:(0,G.jsxs)(G.Fragment,{children:["Are you sure want to delete ",(0,G.jsxs)("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:(0,G.jsx)(a.Z,{variant:"contained",color:"error",onClick:()=>{E(),o.onFalse()},children:"Delete"})})]})}function Ce(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(o.ql,{children:(0,G.jsx)("title",{children:" Dashboard: File Manager"})}),(0,G.jsx)(Ze,{})]})}}}]);
//# sourceMappingURL=8159.9c9488e4.chunk.js.map