"use strict";(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[2054],{17914:(e,n,o)=>{o.d(n,{m:()=>s});var r=o(72791);function s(){const[e,n]=(0,r.useState)(null);return{copiedText:e,copy:async e=>{var o;if(null===(o=navigator)||void 0===o||!o.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),n(e),!0}catch(r){return console.warn("Copy failed",r),n(null),!1}}}}},30946:(e,n,o)=>{o.d(n,{Z:()=>b});var r=o(72791),s=o(64554),i=o(85771),a=o(53767),t=o(5849),l=o(94721),c=o(13034),d=o(93006),x=o(90977),h=o(4567),p=o(46314),u=o(88654),Z=o(17070),m=o(87183),j=o(22459),f=o(40268),v=o(63454),g=o(18197),C=o(20763),y=o(98909),w=o(80184);function b(e){let{item:n,open:o,favorited:b,onFavorite:k,onCopyLink:D,onClose:S,onDelete:T,...I}=e;const{name:F,size:M,url:z,type:P,shared:E,modifiedAt:L}=n,W=E&&!!E.length,O=(0,j.k)(!0),R=(0,j.k)(),X=(0,j.k)(!0),[U,A]=(0,r.useState)(""),[N,G]=(0,r.useState)(n.tags.slice(0,3)),H=(0,r.useCallback)((e=>{A(e.target.value)}),[]),Y=(0,r.useCallback)((e=>{G(e)}),[]),V=(0,w.jsxs)(a.Z,{spacing:1.5,children:[(0,w.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{typography:"subtitle2"},children:["Tags",(0,w.jsx)(x.Z,{size:"small",onClick:O.onToggle,children:(0,w.jsx)(f.Z,{icon:O.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"})})]}),O.value&&(0,w.jsx)(p.Z,{multiple:!0,freeSolo:!0,options:n.tags.map((e=>e)),getOptionLabel:e=>e,defaultValue:n.tags.slice(0,3),value:N,onChange:(e,n)=>{Y(n)},renderOption:(e,n)=>(0,r.createElement)("li",{...e,key:n},n),renderTags:(e,n)=>e.map(((e,o)=>(0,r.createElement)(i.Z,{...n({index:o}),size:"small",variant:"soft",label:e,key:e}))),renderInput:e=>(0,w.jsx)(d.Z,{...e,placeholder:"#Add a tags"})})]}),_=(0,w.jsxs)(a.Z,{spacing:1.5,children:[(0,w.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{typography:"subtitle2"},children:["Properties",(0,w.jsx)(x.Z,{size:"small",onClick:X.onToggle,children:(0,w.jsx)(f.Z,{icon:X.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"})})]}),X.value&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(a.Z,{direction:"row",sx:{typography:"caption",textTransform:"capitalize"},children:[(0,w.jsx)(s.Z,{component:"span",sx:{width:80,color:"text.secondary",mr:2},children:"Size"}),(0,Z.oe)(M)]}),(0,w.jsxs)(a.Z,{direction:"row",sx:{typography:"caption",textTransform:"capitalize"},children:[(0,w.jsx)(s.Z,{component:"span",sx:{width:80,color:"text.secondary",mr:2},children:"Modified"}),(0,m.zM)(L)]}),(0,w.jsxs)(a.Z,{direction:"row",sx:{typography:"caption",textTransform:"capitalize"},children:[(0,w.jsx)(s.Z,{component:"span",sx:{width:80,color:"text.secondary",mr:2},children:"Type"}),(0,g.fH)(P)]})]})]}),q=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5},children:[(0,w.jsx)(h.Z,{variant:"subtitle2",children:" File Share With "}),(0,w.jsx)(x.Z,{size:"small",color:"primary",onClick:R.onTrue,sx:{width:24,height:24,bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}},children:(0,w.jsx)(f.Z,{icon:"mingcute:add-line"})})]}),W&&(0,w.jsx)(s.Z,{sx:{pl:2.5,pr:1},children:E.map((e=>(0,w.jsx)(y.Z,{person:e},e.id)))})]});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(u.ZP,{open:o,onClose:S,anchor:"right",slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},...I,children:[(0,w.jsxs)(v.Z,{sx:{height:1},children:[(0,w.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5},children:[(0,w.jsx)(h.Z,{variant:"h6",children:" Info "}),(0,w.jsx)(c.Z,{color:"warning",icon:(0,w.jsx)(f.Z,{icon:"eva:star-outline"}),checkedIcon:(0,w.jsx)(f.Z,{icon:"eva:star-fill"}),checked:b,onChange:k})]}),(0,w.jsxs)(a.Z,{spacing:2.5,justifyContent:"center",sx:{p:2.5,bgcolor:"background.neutral"},children:[(0,w.jsx)(g.ZP,{imageView:!0,file:"folder"===P?P:z,sx:{width:64,height:64},imgSx:{borderRadius:1}}),(0,w.jsx)(h.Z,{variant:"subtitle1",sx:{wordBreak:"break-all"},children:F}),(0,w.jsx)(l.Z,{sx:{borderStyle:"dashed"}}),V,_]}),q]}),(0,w.jsx)(s.Z,{sx:{p:2.5},children:(0,w.jsx)(t.Z,{fullWidth:!0,variant:"soft",color:"error",size:"large",startIcon:(0,w.jsx)(f.Z,{icon:"solar:trash-bin-trash-bold"}),onClick:T,children:"Delete"})})]}),(0,w.jsx)(C.Z,{open:R.value,shared:E,inviteEmail:U,onChangeInvite:H,onCopyLink:D,onClose:()=>{R.onFalse(),A("")}})]})}},74471:(e,n,o)=>{o.d(n,{Z:()=>S});var r=o(72791),s=o(64554),i=o(4841),a=o(53767),t=o(5849),l=o(60220),c=o(94721),d=o(82626),x=o(13034),h=o(90977),p=o(49900),u=o(76348),Z=o(5951),m=o(22459),j=o(17914),f=o(17070),v=o(40268),g=o(32869),C=o(3352),y=o(56832),w=o(20763),b=o(30946),k=o(33991),D=o(80184);function S(e){var n,o;let{folder:S,selected:T,onSelect:I,onDelete:F,sx:M,...z}=e;const{enqueueSnackbar:P}=(0,g.Ds)(),{copy:E}=(0,j.m)(),[L,W]=(0,r.useState)(""),[O,R]=(0,r.useState)(S.name),X=(0,m.k)(),U=(0,m.k)(),A=(0,m.k)(),N=(0,y.S)(),G=(0,m.k)(),H=(0,m.k)(),Y=(0,m.k)(S.isFavorited),V=(0,r.useCallback)((e=>{W(e.target.value)}),[]),_=(0,r.useCallback)((e=>{R(e.target.value)}),[]),q=(0,r.useCallback)((()=>{P("Copied!"),E(S.url)}),[E,P,S.url]),B=(0,D.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[(0,D.jsx)(x.Z,{color:"warning",icon:(0,D.jsx)(v.Z,{icon:"eva:star-outline"}),checkedIcon:(0,D.jsx)(v.Z,{icon:"eva:star-fill"}),checked:Y.value,onChange:Y.onToggle}),(0,D.jsx)(h.Z,{color:N.open?"inherit":"default",onClick:N.onOpen,children:(0,D.jsx)(v.Z,{icon:"eva:more-vertical-fill"})})]}),Q=(U.value||T)&&I?(0,D.jsx)(x.Z,{size:"medium",checked:T,onClick:I,icon:(0,D.jsx)(v.Z,{icon:"eva:radio-button-off-fill"}),checkedIcon:(0,D.jsx)(v.Z,{icon:"eva:checkmark-circle-2-fill"}),sx:{p:.75}}):(0,D.jsx)(s.Z,{component:"img",src:"/assets/icons/files/ic_folder.svg",sx:{width:36,height:36}}),J=(0,D.jsx)(p.Z,{onClick:H.onTrue,primary:S.name,secondary:(0,D.jsxs)(D.Fragment,{children:[(0,f.oe)(S.size),(0,D.jsx)(s.Z,{component:"span",sx:{mx:.75,width:2,height:2,borderRadius:"50%",bgcolor:"currentColor"}}),S.totalFiles," files"]}),primaryTypographyProps:{noWrap:!0,typography:"subtitle1"},secondaryTypographyProps:{mt:.5,component:"span",alignItems:"center",typography:"caption",color:"text.disabled",display:"inline-flex"}}),K=(0,D.jsx)(u.Z,{max:3,sx:{["& .".concat(Z.Z.avatar)]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:null===(n=S.shared)||void 0===n?void 0:n.map((e=>(0,D.jsx)(l.Z,{alt:e.name,src:e.avatarUrl},e.id)))});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(a.Z,{component:i.Z,variant:"outlined",spacing:1,alignItems:"flex-start",sx:{p:2.5,maxWidth:222,borderRadius:2,bgcolor:"unset",cursor:"pointer",position:"relative",...(U.value||T)&&{bgcolor:"background.paper",boxShadow:e=>e.customShadows.z20},...M},...z,children:[(0,D.jsx)(s.Z,{onMouseEnter:U.onTrue,onMouseLeave:U.onFalse,children:Q}),B,J,!(null===S||void 0===S||null===(o=S.shared)||void 0===o||!o.length)&&K]}),(0,D.jsxs)(y.Z,{open:N.open,onClose:N.onClose,arrow:"right-top",sx:{width:160},children:[(0,D.jsxs)(d.Z,{onClick:()=>{N.onClose(),q()},children:[(0,D.jsx)(v.Z,{icon:"eva:link-2-fill"}),"Copy Link"]}),(0,D.jsxs)(d.Z,{onClick:()=>{N.onClose(),A.onTrue()},children:[(0,D.jsx)(v.Z,{icon:"solar:share-bold"}),"Share"]}),(0,D.jsxs)(d.Z,{onClick:()=>{N.onClose(),X.onTrue()},children:[(0,D.jsx)(v.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,D.jsx)(c.Z,{sx:{borderStyle:"dashed"}}),(0,D.jsxs)(d.Z,{onClick:()=>{G.onTrue(),N.onClose()},sx:{color:"error.main"},children:[(0,D.jsx)(v.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,D.jsx)(b.Z,{item:S,favorited:Y.value,onFavorite:Y.onToggle,onCopyLink:q,open:H.value,onClose:H.onFalse,onDelete:()=>{H.onFalse(),F()}}),(0,D.jsx)(w.Z,{open:A.value,shared:S.shared,inviteEmail:L,onChangeInvite:V,onCopyLink:q,onClose:()=>{A.onFalse(),W("")}}),(0,D.jsx)(k.Z,{open:X.value,onClose:X.onFalse,title:"Edit Folder",onUpdate:()=>{X.onFalse(),R(O),console.info("UPDATE FOLDER",O)},folderName:O,onChangeFolderName:_}),(0,D.jsx)(C.Q,{open:G.value,onClose:G.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,D.jsx)(t.Z,{variant:"contained",color:"error",onClick:F,children:"Delete"})})]})}},98909:(e,n,o)=>{o.d(n,{Z:()=>u});var r=o(72791),s=o(5849),i=o(60220),a=o(94721),t=o(97639),l=o(52411),c=o(82626),d=o(49900),x=o(40268),h=o(56832),p=o(80184);function u(e){let{person:n}=e;const[o,u]=(0,r.useState)(n.permission),Z=(0,h.S)(),m=(0,r.useCallback)((e=>{u(e)}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.ZP,{sx:{px:0,py:1},children:[(0,p.jsx)(i.Z,{alt:n.name,src:n.avatarUrl,sx:{mr:2}}),(0,p.jsx)(d.Z,{primary:n.name,secondary:(0,p.jsx)(t.Z,{title:n.email,children:(0,p.jsx)("span",{children:n.email})}),primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{noWrap:!0,component:"span"},sx:{flexGrow:1,pr:1}}),(0,p.jsxs)(s.Z,{size:"small",color:"inherit",endIcon:(0,p.jsx)(x.Z,{width:20,icon:Z.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-1}}),onClick:Z.onOpen,sx:{flexShrink:0,...Z.open&&{bgcolor:"action.selected"}},children:["Can ",o]})]}),(0,p.jsx)(h.Z,{open:Z.open,onClose:Z.onClose,sx:{width:160},children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.Z,{selected:"view"===o,onClick:()=>{Z.onClose(),m("view")},children:[(0,p.jsx)(x.Z,{icon:"solar:eye-bold"}),"Can view"]}),(0,p.jsxs)(c.Z,{selected:"edit"===o,onClick:()=>{Z.onClose(),m("edit")},children:[(0,p.jsx)(x.Z,{icon:"solar:pen-bold"}),"Can edit"]}),(0,p.jsx)(a.Z,{sx:{borderStyle:"dashed"}}),(0,p.jsxs)(c.Z,{onClick:()=>{Z.onClose()},sx:{color:"error.main"},children:[(0,p.jsx)(x.Z,{icon:"solar:trash-bin-trash-bold"}),"Remove"]})]})})]})}},33991:(e,n,o)=>{o.d(n,{Z:()=>u});var r=o(72791),s=o(53767),i=o(5849),a=o(93006),t=o(65661),l=o(77386),c=o(4899),d=o(5574),x=o(40268),h=o(45203),p=o(80184);function u(e){let{title:n="Upload Files",open:o,onClose:u,onCreate:Z,onUpdate:m,folderName:j,onChangeFolderName:f,...v}=e;const[g,C]=(0,r.useState)([]);(0,r.useEffect)((()=>{o||C([])}),[o]);const y=(0,r.useCallback)((e=>{const n=e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)})));C([...g,...n])}),[g]);return(0,p.jsxs)(d.Z,{fullWidth:!0,maxWidth:"sm",open:o,onClose:u,...v,children:[(0,p.jsxs)(t.Z,{sx:{p:e=>e.spacing(3,3,2,3)},children:[" ",n," "]}),(0,p.jsxs)(c.Z,{dividers:!0,sx:{pt:1,pb:0,border:"none"},children:[(Z||m)&&(0,p.jsx)(a.Z,{fullWidth:!0,label:"Folder name",value:j,onChange:f,sx:{mb:3}}),(0,p.jsx)(h.gq,{multiple:!0,files:g,onDrop:y,onRemove:e=>{const n=g.filter((n=>n!==e));C(n)}})]}),(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(i.Z,{variant:"contained",startIcon:(0,p.jsx)(x.Z,{icon:"eva:cloud-upload-fill"}),onClick:()=>{u(),console.info("ON UPLOAD")},children:"Upload"}),!!g.length&&(0,p.jsx)(i.Z,{variant:"outlined",color:"inherit",onClick:()=>{C([])},children:"Remove all"}),(Z||m)&&(0,p.jsx)(s.Z,{direction:"row",justifyContent:"flex-end",flexGrow:1,children:(0,p.jsx)(i.Z,{variant:"soft",onClick:Z||m,children:m?"Save":"Create"})})]})]})}},64600:(e,n,o)=>{o.d(n,{Z:()=>x});var r=o(64554),s=o(5849),i=o(90977),a=o(4567),t=o(53767),l=o(83854),c=o(40268),d=o(80184);function x(e){let{title:n,subTitle:o,link:x,onOpen:h,collapse:p,onCollapse:u,sx:Z,...m}=e;return(0,d.jsxs)(t.Z,{direction:"row",alignItems:"center",sx:{mb:3,...Z},...m,children:[(0,d.jsxs)(t.Z,{flexGrow:1,children:[(0,d.jsxs)(t.Z,{direction:"row",alignItems:"center",spacing:1,flexGrow:1,children:[(0,d.jsxs)(a.Z,{variant:"h6",children:[" ",n," "]}),(0,d.jsx)(i.Z,{size:"small",color:"primary",onClick:h,sx:{width:24,height:24,bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}},children:(0,d.jsx)(c.Z,{icon:"mingcute:add-line"})})]}),(0,d.jsx)(r.Z,{sx:{typography:"body2",color:"text.disabled",mt:.5},children:o})]}),x&&(0,d.jsx)(s.Z,{href:x,component:l.r,size:"small",color:"inherit",endIcon:(0,d.jsx)(c.Z,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),children:"View All"}),u&&(0,d.jsx)(i.Z,{onClick:u,children:(0,d.jsx)(c.Z,{icon:p?"eva:arrow-ios-downward-fill":"eva:arrow-ios-upward-fill"})})]})}},20763:(e,n,o)=>{o.d(n,{Z:()=>Z});var r=o(43236),s=o(5849),i=o(93006),a=o(65661),t=o(77386),l=o(4899),c=o(97808),d=o(5574),x=o(40268),h=o(63454),p=o(98909),u=o(80184);function Z(e){let{shared:n,inviteEmail:o,onCopyLink:Z,onChangeInvite:m,open:j,onClose:f,...v}=e;const g=n&&!!n.length;return(0,u.jsxs)(d.Z,{fullWidth:!0,maxWidth:"xs",open:j,onClose:f,...v,children:[(0,u.jsx)(a.Z,{children:" Invite "}),(0,u.jsxs)(l.Z,{sx:{overflow:"unset"},children:[m&&(0,u.jsx)(i.Z,{fullWidth:!0,value:o,placeholder:"Email",onChange:m,InputProps:{endAdornment:(0,u.jsx)(c.Z,{position:"end",children:(0,u.jsx)(s.Z,{color:"inherit",variant:"contained",disabled:!o,sx:{mr:-.75},children:"Send Invite"})})},sx:{mb:2}}),g&&(0,u.jsx)(h.Z,{sx:{maxHeight:360},children:(0,u.jsx)(r.Z,{disablePadding:!0,children:n.map((e=>(0,u.jsx)(p.Z,{person:e},e.id)))})})]}),(0,u.jsxs)(t.Z,{sx:{justifyContent:"space-between"},children:[Z&&(0,u.jsx)(s.Z,{startIcon:(0,u.jsx)(x.Z,{icon:"eva:link-2-fill"}),onClick:Z,children:"Copy link"}),f&&(0,u.jsx)(s.Z,{variant:"outlined",color:"inherit",onClick:f,children:"Close"})]})]})}},87183:(e,n,o)=>{o.d(n,{DY:()=>c,IO:()=>l,Mu:()=>a,zM:()=>t});var r=o(16386),s=o(64460),i=o(24054);function a(e,n){const o=n||"dd MMM yyyy";return e?(0,r.Z)(new Date(e),o):""}function t(e,n){const o=n||"dd MMM yyyy p";return e?(0,r.Z)(new Date(e),o):""}function l(e){return e?(0,s.Z)(new Date(e)):""}function c(e){return e?(0,i.Z)(new Date(e),{addSuffix:!0}):""}},41049:(e,n,o)=>{o.d(n,{Z:()=>s});var r=o(8938);function s(e){return(0,r.Z)({},e)}},24054:(e,n,o)=>{o.d(n,{Z:()=>j});var r=o(24408),s=o(27277),i=o(79990),a=o(71786),t=o(38126),l=o(38527),c=o(41049),d=o(8938),x=o(4697),h=o(4522),p=1440,u=2520,Z=43200,m=86400;function j(e,n){return(0,h.Z)(1,arguments),function(e,n,o){var j,f;(0,h.Z)(2,arguments);var v=(0,r.j)(),g=null!==(j=null!==(f=null===o||void 0===o?void 0:o.locale)&&void 0!==f?f:v.locale)&&void 0!==j?j:t.Z;if(!g.formatDistance)throw new RangeError("locale must contain formatDistance property");var C=(0,s.Z)(e,n);if(isNaN(C))throw new RangeError("Invalid time value");var y,w,b=(0,d.Z)((0,c.Z)(o),{addSuffix:Boolean(null===o||void 0===o?void 0:o.addSuffix),comparison:C});C>0?(y=(0,l.Z)(n),w=(0,l.Z)(e)):(y=(0,l.Z)(e),w=(0,l.Z)(n));var k,D=(0,a.Z)(w,y),S=((0,x.Z)(w)-(0,x.Z)(y))/1e3,T=Math.round((D-S)/60);if(T<2)return null!==o&&void 0!==o&&o.includeSeconds?D<5?g.formatDistance("lessThanXSeconds",5,b):D<10?g.formatDistance("lessThanXSeconds",10,b):D<20?g.formatDistance("lessThanXSeconds",20,b):D<40?g.formatDistance("halfAMinute",0,b):D<60?g.formatDistance("lessThanXMinutes",1,b):g.formatDistance("xMinutes",1,b):0===T?g.formatDistance("lessThanXMinutes",1,b):g.formatDistance("xMinutes",T,b);if(T<45)return g.formatDistance("xMinutes",T,b);if(T<90)return g.formatDistance("aboutXHours",1,b);if(T<p){var I=Math.round(T/60);return g.formatDistance("aboutXHours",I,b)}if(T<u)return g.formatDistance("xDays",1,b);if(T<Z){var F=Math.round(T/p);return g.formatDistance("xDays",F,b)}if(T<m)return k=Math.round(T/Z),g.formatDistance("aboutXMonths",k,b);if((k=(0,i.Z)(w,y))<12){var M=Math.round(T/Z);return g.formatDistance("xMonths",M,b)}var z=k%12,P=Math.floor(k/12);return z<3?g.formatDistance("aboutXYears",P,b):z<9?g.formatDistance("overXYears",P,b):g.formatDistance("almostXYears",P+1,b)}(e,Date.now(),n)}},64460:(e,n,o)=>{o.d(n,{Z:()=>i});var r=o(38527),s=o(4522);function i(e){return(0,s.Z)(1,arguments),(0,r.Z)(e).getTime()}}}]);
//# sourceMappingURL=2054.f02afea2.chunk.js.map