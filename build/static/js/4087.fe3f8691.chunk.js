"use strict";(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[4087],{21362:(e,t,s)=>{s.d(t,{Z:()=>m});s(75012);var i=s(27060),o=s(19945),n=s(71502),r=s(4204),l=s(65469),a=s(83854),d=s(32471),c=s(66934),h=s(12065);const x=(0,c.ZP)("div")((e=>{let{theme:t}=e;const s="light"===t.palette.mode;return{h1:{margin:0,...t.typography.h1},h2:{margin:0,...t.typography.h2},h3:{margin:0,...t.typography.h3},h4:{margin:0,...t.typography.h4},h5:{margin:0,...t.typography.h5},h6:{margin:0,...t.typography.h6},p:{margin:0,...t.typography.body1},br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:2*t.shape.borderRadius,backgroundColor:t.palette.background.neutral,[t.breakpoints.up("md")]:{width:"80%"},"& p, & span":{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"},"&:before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}},"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:s?t.palette.grey[900]:(0,h.Fq)(t.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:t.spacing(.2,.5),color:t.palette.warning[s?"darker":"lighter"],backgroundColor:t.palette.warning[s?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[s?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}}));var p=s(80184);function m(e){let{sx:t,...s}=e;return(0,p.jsx)(x,{sx:t,children:(0,p.jsx)(i.D,{rehypePlugins:[o.Z,r.Z,[n.Z,{singleTilde:!1}]],components:u,...s})})}const u={img:e=>{let{...t}=e;return(0,p.jsx)(d.Z,{alt:t.alt,ratio:"16/9",sx:{borderRadius:2},...t})},a:e=>{let{...t}=e;return t.href.includes("http")?(0,p.jsx)(l.Z,{target:"_blank",rel:"noopener",...t}):(0,p.jsx)(l.Z,{component:a.r,href:t.href,...t,children:t.children})}}},80211:(e,t,s)=>{s.d(t,{Z:()=>c,t:()=>n});var i=s(13967),o=s(38887);function n(e){const t=(0,i.Z)(),s=(0,o.z)(),n=t.breakpoints.up("xl"===s?"lg":s),r=("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e)&&t.typography[e][n]?t.typography[e][n]:t.typography[e],l=(a=r.fontSize,Math.round(16*parseFloat(a)));var a;const d=Number(t.typography[e].lineHeight)*l,{fontWeight:c,letterSpacing:h}=t.typography[e];return{fontSize:l,lineHeight:d,fontWeight:c,letterSpacing:h}}var r=s(72791),l=s(65469),a=s(4567),d=s(80184);const c=(0,r.forwardRef)(((e,t)=>{let{asLink:s,variant:i="body1",line:o=2,persistent:r=!1,children:c,sx:h,...x}=e;const{lineHeight:p}=n(i),m={overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:o,WebkitBoxOrient:"vertical",...r&&{height:p*o},...h};return s?(0,d.jsx)(l.Z,{color:"inherit",ref:t,variant:i,sx:{...m},...x,children:c}):(0,d.jsx)(a.Z,{ref:t,variant:i,sx:{...m},...x,children:c})}))},71580:(e,t,s)=>{s.d(t,{N:()=>o});var i=s(72791);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[s,o]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const s=setTimeout((()=>{o(e)}),t);return()=>{clearTimeout(s)}}),[e,t]),s}},4087:(e,t,s)=>{s.d(t,{UY:()=>He,bP:()=>Je,FB:()=>_e,mv:()=>ze,Ns:()=>Qe,Nr:()=>ne});var i=s(45812),o=s.n(i),n=s(72791),r=s(61474),l=s(29347),a=s(53767),d=s(5849),c=s(10266),h=s(38072),x=s(83854),p=s(71580),m=s(18306),u=s(44887),j=s(89731);function g(){const e=j.Hv.post.list,{data:t,isLoading:s,error:i,isValidating:o}=(0,u.ZP)(e,j._i);return(0,n.useMemo)((()=>({posts:(null===t||void 0===t?void 0:t.posts)||[],postsLoading:s,postsError:i,postsValidating:o,postsEmpty:!s&&!(null!==t&&void 0!==t&&t.posts.length)})),[null===t||void 0===t?void 0:t.posts,i,s,o])}function Z(e){const t=e?[j.Hv.post.details,{params:{title:e}}]:null,{data:s,isLoading:i,error:o,isValidating:r}=(0,u.ZP)(t,j._i);return(0,n.useMemo)((()=>({post:null===s||void 0===s?void 0:s.post,postLoading:i,postError:o,postValidating:r})),[null===s||void 0===s?void 0:s.post,o,i,r])}function b(e){const t=e?[j.Hv.post.search,{params:{query:e}}]:null,{data:s,isLoading:i,error:o,isValidating:r}=(0,u.ZP)(t,j._i,{keepPreviousData:!0});return(0,n.useMemo)((()=>({searchResults:(null===s||void 0===s?void 0:s.results)||[],searchLoading:i,searchError:o,searchValidating:r,searchEmpty:!i&&!(null!==s&&void 0!==s&&s.results.length)})),[null===s||void 0===s?void 0:s.results,o,i,r])}var v=s(80160),f=s(40268),w=s(60720),y=s(73379),k=s(64554),C=s(82626),S=s(56832),I=s(80184);function P(e){let{sort:t,sortOptions:s,onSort:i}=e;const o=(0,S.S)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(d.Z,{disableRipple:!0,color:"inherit",onClick:o.onOpen,endIcon:(0,I.jsx)(f.Z,{icon:o.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort By:",(0,I.jsx)(k.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:t})]}),(0,I.jsx)(S.Z,{open:o.open,onClose:o.onClose,sx:{width:140},children:s.map((e=>(0,I.jsx)(C.Z,{selected:t===e.value,onClick:()=>{o.onClose(),i(e.value)},children:e.label},e.value)))})]})}var F=s(34004),U=s.n(F),L=s(79085),T=s.n(L),W=s(65469),z=s(60220),H=s(93006),D=s(4567),q=s(97808),A=s(46314),E=s(97902),M=s(19208),V=s(96349);function B(e){let{query:t,results:s,onSearch:i,hrefItem:o,loading:r}=e;const l=(0,M.tv)(),a=e=>{l.push(o(e))},d=e=>{t&&"Enter"===e.key&&a(t)};return(0,I.jsx)(A.Z,{sx:{width:{xs:1,sm:260}},loading:r,autoHighlight:!0,popupIcon:null,options:s,onInputChange:(e,t)=>i(t),getOptionLabel:e=>e.title,noOptionsText:(0,I.jsx)(V.Z,{query:t,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(e,t)=>e.id===t.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[" .".concat(E.Z.option)]:{pl:.75}}}},renderInput:e=>(0,I.jsx)(H.Z,{...e,placeholder:"Search...",onKeyUp:d,InputProps:{...e.InputProps,startAdornment:(0,I.jsx)(q.Z,{position:"start",children:(0,I.jsx)(f.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:(0,I.jsxs)(I.Fragment,{children:[r?(0,I.jsx)(f.Z,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,e.InputProps.endAdornment]})}}),renderOption:(e,t,s)=>{let{inputValue:i}=s;const o=T()(t.title,i),r=U()(t.title,o);return(0,n.createElement)("li",{...e,key:t.id},(0,I.jsx)(z.Z,{alt:t.title,src:t.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},t.id),(0,I.jsx)(W.Z,{underline:"none",onClick:()=>a(t.title),children:r.map(((e,t)=>(0,I.jsx)(D.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},t)))},i))}})}var R=s(11703),O=s(86414),_=s(4841),G=s(85239);function K(e){let{variant:t="vertical",sx:s,...i}=e;return"horizontal"===t?(0,I.jsxs)(a.Z,{component:_.Z,direction:"row",variant:"outlined",sx:{borderRadius:2,...s},...i,children:[(0,I.jsxs)(a.Z,{spacing:2,flexGrow:1,sx:{p:3},children:[(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,I.jsx)(G.Z,{variant:"circular",sx:{width:40,height:40}}),(0,I.jsx)(G.Z,{sx:{width:24,height:12}})]}),(0,I.jsx)(G.Z,{sx:{width:1,height:10}}),(0,I.jsx)(G.Z,{sx:{width:"calc(100% - 40px)",height:10}}),(0,I.jsx)(G.Z,{sx:{width:"calc(100% - 80px)",height:10}})]}),(0,I.jsx)(a.Z,{sx:{p:1},children:(0,I.jsx)(G.Z,{sx:{width:170,height:240,flexShrink:0}})})]}):(0,I.jsxs)(a.Z,{component:_.Z,variant:"outlined",sx:{borderRadius:2,...s},...i,children:[(0,I.jsx)(a.Z,{sx:{p:1},children:(0,I.jsx)(G.Z,{sx:{paddingTop:"100%"}})}),(0,I.jsxs)(a.Z,{spacing:2,direction:"row",alignItems:"center",sx:{p:3,pt:2},children:[(0,I.jsx)(G.Z,{variant:"circular",sx:{width:40,height:40,flexShrink:0}}),(0,I.jsxs)(a.Z,{flexGrow:1,spacing:1,children:[(0,I.jsx)(G.Z,{sx:{height:10}}),(0,I.jsx)(G.Z,{sx:{width:.5,height:10}})]})]})]})}function N(e){let{...t}=e;return(0,I.jsxs)(a.Z,{...t,children:[(0,I.jsx)(G.Z,{variant:"rectangular",sx:{height:480}}),(0,I.jsxs)(a.Z,{sx:{width:1,maxWidth:720,mx:"auto"},children:[(0,I.jsxs)(a.Z,{spacing:2,direction:"row",alignItems:"center",sx:{my:8},children:[(0,I.jsx)(G.Z,{variant:"circular",sx:{width:64,height:64,flexShrink:0}}),(0,I.jsxs)(a.Z,{spacing:1,flexGrow:1,children:[(0,I.jsx)(G.Z,{height:10}),(0,I.jsx)(G.Z,{height:10,sx:{width:.9}}),(0,I.jsx)(G.Z,{height:10,sx:{width:.8}})]})]}),(0,I.jsx)(G.Z,{sx:{height:720}})]})]})}var X=s(88588),$=s(90977),Q=s(38887),Y=s(87183),J=s(17070),ee=s(32471),te=s(80211);function se(e){let{post:t}=e;const s=(0,S.S)(),i=(0,M.tv)(),o=(0,Q.F)("up","md"),{title:n,author:r,publish:l,coverUrl:d,createdAt:c,totalViews:p,totalShares:m,totalComments:u,description:j}=t;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(a.Z,{component:X.Z,direction:"row",children:[(0,I.jsxs)(a.Z,{sx:{p:e=>e.spacing(3,3,2,3)},children:[(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[(0,I.jsx)(v.Z,{variant:"soft",color:"published"===l?"info":"default",children:l}),(0,I.jsx)(k.Z,{component:"span",sx:{typography:"caption",color:"text.disabled"},children:(0,Y.Mu)(c)})]}),(0,I.jsxs)(a.Z,{spacing:1,flexGrow:1,children:[(0,I.jsx)(W.Z,{color:"inherit",component:x.r,href:h.H.dashboard.post.details(n),children:(0,I.jsx)(te.Z,{variant:"subtitle2",line:2,children:n})}),(0,I.jsx)(te.Z,{variant:"body2",sx:{color:"text.secondary"},children:j})]}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)($.Z,{color:s.open?"inherit":"default",onClick:s.onOpen,children:(0,I.jsx)(f.Z,{icon:"eva:more-horizontal-fill"})}),(0,I.jsxs)(a.Z,{spacing:1.5,flexGrow:1,direction:"row",justifyContent:"flex-end",sx:{typography:"caption",color:"text.disabled"},children:[(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(f.Z,{icon:"eva:message-circle-fill",width:16,sx:{mr:.5}}),(0,J.v1)(u)]}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(f.Z,{icon:"solar:eye-bold",width:16,sx:{mr:.5}}),(0,J.v1)(p)]}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(f.Z,{icon:"solar:share-bold",width:16,sx:{mr:.5}}),(0,J.v1)(m)]})]})]})]}),o&&(0,I.jsxs)(k.Z,{sx:{width:180,height:240,position:"relative",flexShrink:0,p:1},children:[(0,I.jsx)(z.Z,{alt:r.name,src:r.avatarUrl,sx:{position:"absolute",top:16,right:16,zIndex:9}}),(0,I.jsx)(ee.Z,{alt:n,src:d,sx:{height:1,borderRadius:1.5}})]})]}),(0,I.jsxs)(S.Z,{open:s.open,onClose:s.onClose,arrow:"bottom-center",sx:{width:140},children:[(0,I.jsxs)(C.Z,{onClick:()=>{s.onClose(),i.push(h.H.dashboard.post.details(n))},children:[(0,I.jsx)(f.Z,{icon:"solar:eye-bold"}),"View"]}),(0,I.jsxs)(C.Z,{onClick:()=>{s.onClose(),i.push(h.H.dashboard.post.edit(n))},children:[(0,I.jsx)(f.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,I.jsxs)(C.Z,{onClick:()=>{s.onClose()},sx:{color:"error.main"},children:[(0,I.jsx)(f.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function ie(e){let{posts:t,loading:s}=e;const i=(0,I.jsx)(I.Fragment,{children:[...Array(16)].map(((e,t)=>(0,I.jsx)(K,{variant:"horizontal"},t)))}),o=(0,I.jsx)(I.Fragment,{children:t.map((e=>(0,I.jsx)(se,{post:e},e.id)))});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:s?i:o}),t.length>8&&(0,I.jsx)(R.Z,{count:8,sx:{mt:8,["& .".concat(O.Z.ul)]:{justifyContent:"center"}}})]})}const oe={publish:"all"};function ne(){const e=(0,w.K$)(),[t,s]=(0,n.useState)("latest"),[i,o]=(0,n.useState)(oe),[u,j]=(0,n.useState)(""),Z=(0,p.N)(u),{posts:k,postsLoading:C}=g(),{searchResults:S,searchLoading:F}=b(Z),U=re({inputData:k,filters:i,sortBy:t}),L=(0,n.useCallback)((e=>{s(e)}),[]),T=(0,n.useCallback)(((e,t)=>{o((s=>({...s,[e]:t})))}),[]),W=(0,n.useCallback)((e=>{j(e)}),[]),z=(0,n.useCallback)(((e,t)=>{T("publish",t)}),[T]);return(0,I.jsxs)(c.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,I.jsx)(y.Z,{heading:"List",links:[{name:"Dashboard",href:h.H.dashboard.root},{name:"Blog",href:h.H.dashboard.post.root},{name:"List"}],action:(0,I.jsx)(d.Z,{component:x.r,href:h.H.dashboard.post.new,variant:"contained",startIcon:(0,I.jsx)(f.Z,{icon:"mingcute:add-line"}),children:"New Post"}),sx:{mb:{xs:3,md:5}}}),(0,I.jsxs)(a.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},sx:{mb:{xs:3,md:5}},children:[(0,I.jsx)(B,{query:Z,results:S,onSearch:W,loading:F,hrefItem:e=>h.H.dashboard.post.details(e)}),(0,I.jsx)(P,{sort:t,onSort:L,sortOptions:m.k})]}),(0,I.jsx)(l.Z,{value:i.publish,onChange:z,sx:{mb:{xs:3,md:5}},children:["all","published","draft"].map((e=>(0,I.jsx)(r.Z,{iconPosition:"end",value:e,label:e,icon:(0,I.jsxs)(v.Z,{variant:"all"===e||e===i.publish?"filled":"soft",color:"published"===e?"info":"default",children:["all"===e&&k.length,"published"===e&&k.filter((e=>"published"===e.publish)).length,"draft"===e&&k.filter((e=>"draft"===e.publish)).length]}),sx:{textTransform:"capitalize"}},e)))}),(0,I.jsx)(ie,{posts:U,loading:C})]})}const re=e=>{let{inputData:t,filters:s,sortBy:i}=e;const{publish:n}=s;return"latest"===i&&(t=o()(t,["createdAt"],["desc"])),"oldest"===i&&(t=o()(t,["createdAt"],["asc"])),"popular"===i&&(t=o()(t,["totalViews"],["desc"])),"all"!==n&&(t=t.filter((e=>e.publish===n))),t};var le=s(8007),ae=s(44695),de=s(61134),ce=s(12258),he=s(85771),xe=s(89891),pe=s(24308),me=s(6718),ue=s(25801),je=s(22459),ge=s(32869),Ze=s(60240),be=s(5574),ve=s(94721),fe=s(77386),we=s(21362),ye=s(63454),ke=s(11633),Ce=s(13967),Se=s(12065),Ie=s(10956),Pe=s(49900),Fe=s(48322),Ue=s(74744);function Le(e){let{title:t,author:s,coverUrl:i,createdAt:o}=e;const n=(0,Ce.Z)(),r=(0,Q.F)("up","sm");return(0,I.jsx)(k.Z,{sx:{height:480,overflow:"hidden",...(0,Ue.v3)({imgUrl:i,startColor:"".concat((0,Se.Fq)(n.palette.grey[900],.64)," 0%"),endColor:"".concat((0,Se.Fq)(n.palette.grey[900],.64)," 100%")})},children:(0,I.jsxs)(c.Z,{sx:{height:1,position:"relative"},children:[(0,I.jsx)(D.Z,{variant:"h3",component:"h1",sx:{zIndex:9,color:"common.white",position:"absolute",maxWidth:480,pt:{xs:2,md:8}},children:t}),(0,I.jsxs)(a.Z,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[s&&o&&(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",sx:{px:{xs:2,md:3},pb:{xs:3,md:8}},children:[(0,I.jsx)(z.Z,{alt:s.name,src:s.avatarUrl,sx:{width:64,height:64,mr:2}}),(0,I.jsx)(Pe.Z,{sx:{color:"common.white"},primary:s.name,secondary:(0,Y.Mu)(o),primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{color:"inherit",sx:{opacity:.64}}})]}),(0,I.jsx)(Ie.Z,{direction:r?"left":"up",ariaLabel:"Share post",icon:(0,I.jsx)(f.Z,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:m._I.map((e=>(0,I.jsx)(Fe.Z,{icon:(0,I.jsx)(f.Z,{icon:e.icon,sx:{color:e.color}}),tooltipTitle:e.name,tooltipPlacement:"top",FabProps:{color:"default"}},e.name)))})]})]})})}function Te(e){let{title:t,coverUrl:s,content:i,description:o,open:n,isValid:r,onClose:l,onSubmit:h,isSubmitting:x}=e;const p=t||o||i||s,m=t||s;return(0,I.jsxs)(be.Z,{fullScreen:!0,open:n,onClose:l,children:[(0,I.jsxs)(fe.Z,{sx:{py:2,px:3},children:[(0,I.jsx)(D.Z,{variant:"h6",sx:{flexGrow:1},children:"Preview"}),(0,I.jsx)(d.Z,{variant:"outlined",color:"inherit",onClick:l,children:"Cancel"}),(0,I.jsx)(ce.Z,{type:"submit",variant:"contained",disabled:!r,loading:x,onClick:h,children:"Post"})]}),(0,I.jsx)(ve.Z,{}),p?(0,I.jsxs)(ye.Z,{children:[m&&(0,I.jsx)(Le,{title:t,coverUrl:s}),(0,I.jsx)(c.Z,{sx:{mt:5,mb:10},children:(0,I.jsxs)(a.Z,{sx:{maxWidth:720,mx:"auto"},children:[(0,I.jsx)(D.Z,{variant:"h6",sx:{mb:5},children:o}),(0,I.jsx)(we.Z,{children:i})]})})]}):(0,I.jsx)(ke.Z,{filled:!0,title:"Empty Content!"})]})}function We(e){var t;let{currentPost:s}=e;const i=(0,M.tv)(),o=(0,Q.F)("up","md"),{enqueueSnackbar:r}=(0,ge.Ds)(),l=(0,je.k)(),c=le.Ry().shape({title:le.Z_().required("Title is required"),description:le.Z_().required("Description is required"),content:le.Z_().required("Content is required"),coverUrl:le.nK().nullable().required("Cover is required"),tags:le.IX().min(2,"Must have at least 2 tags"),metaKeywords:le.IX().min(1,"Meta keywords is required"),metaTitle:le.Z_(),metaDescription:le.Z_()}),x=(0,n.useMemo)((()=>({title:(null===s||void 0===s?void 0:s.title)||"",description:(null===s||void 0===s?void 0:s.description)||"",content:(null===s||void 0===s?void 0:s.content)||"",coverUrl:(null===s||void 0===s?void 0:s.coverUrl)||null,tags:(null===s||void 0===s?void 0:s.tags)||[],metaKeywords:(null===s||void 0===s?void 0:s.metaKeywords)||[],metaTitle:(null===s||void 0===s?void 0:s.metaTitle)||"",metaDescription:(null===s||void 0===s?void 0:s.metaDescription)||""})),[s]),p=(0,de.cI)({resolver:(0,ae.X)(c),defaultValues:x}),{reset:u,watch:j,setValue:g,handleSubmit:Z,formState:{isSubmitting:b,isValid:v}}=p,f=j();(0,n.useEffect)((()=>{s&&u(x)}),[s,x,u]);const w=Z((async e=>{try{await new Promise((e=>setTimeout(e,500))),u(),l.onFalse(),r(s?"Update success!":"Create success!"),i.push(h.H.dashboard.post.root),console.info("DATA",e)}catch(t){console.error(t)}})),y=(0,n.useCallback)((e=>{const t=e[0],s=Object.assign(t,{preview:URL.createObjectURL(t)});t&&g("coverUrl",s,{shouldValidate:!0})}),[g]),k=(0,n.useCallback)((()=>{g("coverUrl",null)}),[g]),C=(0,I.jsxs)(I.Fragment,{children:[o&&(0,I.jsxs)(pe.Z,{md:4,children:[(0,I.jsx)(D.Z,{variant:"h6",sx:{mb:.5},children:"Details"}),(0,I.jsx)(D.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),(0,I.jsx)(pe.Z,{xs:12,md:8,children:(0,I.jsxs)(X.Z,{children:[!o&&(0,I.jsx)(me.Z,{title:"Details"}),(0,I.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,I.jsx)(Ze.au,{name:"title",label:"Post Title"}),(0,I.jsx)(Ze.au,{name:"description",label:"Description",multiline:!0,rows:3}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(D.Z,{variant:"subtitle2",children:"Content"}),(0,I.jsx)(Ze.LM,{simple:!0,name:"content"})]}),(0,I.jsxs)(a.Z,{spacing:1.5,children:[(0,I.jsx)(D.Z,{variant:"subtitle2",children:"Cover"}),(0,I.jsx)(Ze.rd,{name:"coverUrl",maxSize:3145728,onDrop:y,onDelete:k})]})]})]})})]}),S=(0,I.jsxs)(I.Fragment,{children:[o&&(0,I.jsxs)(pe.Z,{md:4,children:[(0,I.jsx)(D.Z,{variant:"h6",sx:{mb:.5},children:"Properties"}),(0,I.jsx)(D.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),(0,I.jsx)(pe.Z,{xs:12,md:8,children:(0,I.jsxs)(X.Z,{children:[!o&&(0,I.jsx)(me.Z,{title:"Properties"}),(0,I.jsxs)(a.Z,{spacing:3,sx:{p:3},children:[(0,I.jsx)(Ze.Fl,{name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:m.Qw.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,t)=>(0,n.createElement)("li",{...e,key:t},t),renderTags:(e,t)=>e.map(((e,s)=>(0,n.createElement)(he.Z,{...t({index:s}),key:e,label:e,size:"small",color:"info",variant:"soft"})))}),(0,I.jsx)(Ze.au,{name:"metaTitle",label:"Meta title"}),(0,I.jsx)(Ze.au,{name:"metaDescription",label:"Meta description",fullWidth:!0,multiline:!0,rows:3}),(0,I.jsx)(Ze.Fl,{name:"metaKeywords",label:"Meta keywords",placeholder:"+ Keywords",multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,options:m.Qw.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,t)=>(0,n.createElement)("li",{...e,key:t},t),renderTags:(e,t)=>e.map(((e,s)=>(0,n.createElement)(he.Z,{...t({index:s}),key:e,label:e,size:"small",color:"info",variant:"soft"})))}),(0,I.jsx)(ue.Z,{control:(0,I.jsx)(xe.Z,{defaultChecked:!0}),label:"Enable comments"})]})]})})]}),P=(0,I.jsxs)(I.Fragment,{children:[o&&(0,I.jsx)(pe.Z,{md:4}),(0,I.jsxs)(pe.Z,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(ue.Z,{control:(0,I.jsx)(xe.Z,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),(0,I.jsx)(d.Z,{color:"inherit",variant:"outlined",size:"large",onClick:l.onTrue,children:"Preview"}),(0,I.jsx)(ce.Z,{type:"submit",variant:"contained",size:"large",loading:b,sx:{ml:2},children:s?"Save Changes":"Create Post"})]})]});return(0,I.jsxs)(Ze.ZP,{methods:p,onSubmit:w,children:[(0,I.jsxs)(pe.Z,{container:!0,spacing:3,children:[C,S,P]}),(0,I.jsx)(Te,{title:f.title,content:f.content,description:f.description,coverUrl:"string"===typeof f.coverUrl?f.coverUrl:"".concat(null===(t=f.coverUrl)||void 0===t?void 0:t.preview),open:l.value,isValid:v,isSubmitting:b,onClose:l.onFalse,onSubmit:w})]})}function ze(e){let{title:t}=e;const s=(0,w.K$)(),{post:i}=Z("".concat(t));return(0,I.jsxs)(c.Z,{maxWidth:!s.themeStretch&&"lg",children:[(0,I.jsx)(y.Z,{heading:"Edit",links:[{name:"Dashboard",href:h.H.dashboard.root},{name:"Blog",href:h.H.dashboard.post.root},{name:null===i||void 0===i?void 0:i.title}],sx:{mb:{xs:3,md:5}}}),(0,I.jsx)(We,{currentPost:i})]})}function He(){const e=(0,w.K$)();return(0,I.jsxs)(c.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,I.jsx)(y.Z,{heading:"Create a new post",links:[{name:"Dashboard",href:h.H.dashboard.root},{name:"Blog",href:h.H.dashboard.post.root},{name:"Create"}],sx:{mb:{xs:3,md:5}}}),(0,I.jsx)(We,{})]})}var De=s(13034),qe=s(76348),Ae=s(5951),Ee=s(52411);function Me(e){let{name:t,avatarUrl:s,message:i,tagUser:o,postedAt:n,hasReply:r}=e;const l=(0,je.k)();return(0,I.jsxs)(Ee.ZP,{sx:{p:0,pt:3,alignItems:"flex-start",...r&&{pl:8}},children:[(0,I.jsx)(z.Z,{alt:t,src:s,sx:{mr:2,width:48,height:48}}),(0,I.jsxs)(a.Z,{flexGrow:1,sx:{pb:3,borderBottom:e=>"solid 1px ".concat(e.palette.divider)},children:[(0,I.jsx)(D.Z,{variant:"subtitle2",sx:{mb:.5},children:t}),(0,I.jsx)(D.Z,{variant:"caption",sx:{color:"text.disabled"},children:(0,Y.Mu)(n)}),(0,I.jsxs)(D.Z,{variant:"body2",sx:{mt:1},children:[o&&(0,I.jsxs)(k.Z,{component:"strong",sx:{mr:.5},children:["@",o]}),i]}),l.value&&(0,I.jsx)(k.Z,{sx:{mt:2},children:(0,I.jsx)(H.Z,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!r&&(0,I.jsx)(d.Z,{size:"small",color:l.value?"primary":"inherit",startIcon:(0,I.jsx)(f.Z,{icon:"solar:pen-bold",width:16}),onClick:l.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function Ve(e){let{comments:t}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(I.Fragment,{children:t.map((e=>{const{id:t,replyComment:s,name:i,users:o,message:n,avatarUrl:r,postedAt:l}=e,a=!!s.length;return(0,I.jsxs)(k.Z,{children:[(0,I.jsx)(Me,{name:i,message:n,postedAt:l,avatarUrl:r}),a&&s.map((e=>{const t=o.find((t=>t.id===e.userId));return(0,I.jsx)(Me,{name:(null===t||void 0===t?void 0:t.name)||"",message:e.message,postedAt:e.postedAt,avatarUrl:(null===t||void 0===t?void 0:t.avatarUrl)||"",tagUser:e.tagUser,hasReply:!0},e.id)}))]},t)}))}),(0,I.jsx)(R.Z,{count:8,sx:{my:5,mx:"auto"}})]})}function Be(){const e=le.Ry().shape({comment:le.Z_().required("Comment is required"),name:le.Z_().required("Name is required"),email:le.Z_().required("Email is required").email("Email must be a valid email address")}),t=(0,de.cI)({resolver:(0,ae.X)(e),defaultValues:{comment:"",name:"",email:""}}),{reset:s,handleSubmit:i,formState:{isSubmitting:o}}=t,n=i((async e=>{try{await new Promise((e=>setTimeout(e,500))),s(),console.info("DATA",e)}catch(t){console.error(t)}}));return(0,I.jsx)(Ze.ZP,{methods:t,onSubmit:n,children:(0,I.jsxs)(a.Z,{spacing:3,children:[(0,I.jsx)(Ze.au,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",flexGrow:1,children:[(0,I.jsx)($.Z,{children:(0,I.jsx)(f.Z,{icon:"solar:gallery-add-bold"})}),(0,I.jsx)($.Z,{children:(0,I.jsx)(f.Z,{icon:"eva:attach-2-fill"})}),(0,I.jsx)($.Z,{children:(0,I.jsx)(f.Z,{icon:"eva:smiling-face-fill"})})]}),(0,I.jsx)(ce.Z,{type:"submit",variant:"contained",loading:o,children:"Post comment"})]})]})})}var Re=s(97639);function Oe(e){let{publish:t,backLink:s,editLink:i,liveLink:o,publishOptions:n,onChangePublish:r,sx:l,...c}=e;const h=(0,S.S)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(a.Z,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...l},...c,children:[(0,I.jsx)(d.Z,{component:x.r,href:s,startIcon:(0,I.jsx)(f.Z,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,I.jsx)(k.Z,{sx:{flexGrow:1}}),"published"===t&&(0,I.jsx)(Re.Z,{title:"Go Live",children:(0,I.jsx)($.Z,{component:x.r,href:o,children:(0,I.jsx)(f.Z,{icon:"eva:external-link-fill"})})}),(0,I.jsx)(Re.Z,{title:"Edit",children:(0,I.jsx)($.Z,{component:x.r,href:i,children:(0,I.jsx)(f.Z,{icon:"solar:pen-bold"})})}),(0,I.jsx)(ce.Z,{color:"inherit",variant:"contained",loading:!t,loadingIndicator:"Loading\u2026",endIcon:(0,I.jsx)(f.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:h.onOpen,sx:{textTransform:"capitalize"},children:t})]}),(0,I.jsx)(S.Z,{open:h.open,onClose:h.onClose,arrow:"top-right",sx:{width:140},children:n.map((e=>(0,I.jsxs)(C.Z,{selected:e.value===t,onClick:()=>{h.onClose(),r(e.value)},children:["published"===e.value&&(0,I.jsx)(f.Z,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,I.jsx)(f.Z,{icon:"solar:file-text-bold"}),e.label]},e.value)))})]})}function _e(e){let{title:t}=e;const[s,i]=(0,n.useState)(""),{post:o,postLoading:r,postError:l}=Z(t),p=(0,n.useCallback)((e=>{i(e)}),[]);(0,n.useEffect)((()=>{o&&i(null===o||void 0===o?void 0:o.publish)}),[o]);const u=(0,I.jsx)(N,{}),j=(0,I.jsx)(ke.Z,{filled:!0,title:"".concat(null===l||void 0===l?void 0:l.message),action:(0,I.jsx)(d.Z,{component:x.r,href:h.H.dashboard.post.root,startIcon:(0,I.jsx)(f.Z,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:20}}),g=o&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Oe,{backLink:h.H.dashboard.post.root,editLink:h.H.dashboard.post.edit("".concat(null===o||void 0===o?void 0:o.title)),liveLink:h.H.post.details("".concat(null===o||void 0===o?void 0:o.title)),publish:s||"",onChangePublish:p,publishOptions:m.TZ}),(0,I.jsx)(Le,{title:o.title,coverUrl:o.coverUrl}),(0,I.jsxs)(a.Z,{sx:{maxWidth:720,mx:"auto",mt:{xs:5,md:10}},children:[(0,I.jsx)(D.Z,{variant:"subtitle1",sx:{mb:5},children:o.description}),(0,I.jsx)(we.Z,{children:o.content}),(0,I.jsxs)(a.Z,{spacing:3,sx:{py:3,borderTop:e=>"dashed 1px ".concat(e.palette.divider),borderBottom:e=>"dashed 1px ".concat(e.palette.divider)},children:[(0,I.jsx)(a.Z,{direction:"row",flexWrap:"wrap",spacing:1,children:o.tags.map((e=>(0,I.jsx)(he.Z,{label:e,variant:"soft"},e)))}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(ue.Z,{control:(0,I.jsx)(De.Z,{defaultChecked:!0,size:"small",color:"error",icon:(0,I.jsx)(f.Z,{icon:"solar:heart-bold"}),checkedIcon:(0,I.jsx)(f.Z,{icon:"solar:heart-bold"})}),label:(0,J.v1)(o.totalFavorites),sx:{mr:1}}),(0,I.jsx)(qe.Z,{sx:{["& .".concat(Ae.Z.avatar)]:{width:32,height:32}},children:o.favoritePerson.map((e=>(0,I.jsx)(z.Z,{alt:e.name,src:e.avatarUrl},e.name)))})]})]}),(0,I.jsxs)(a.Z,{direction:"row",sx:{mb:3,mt:5},children:[(0,I.jsx)(D.Z,{variant:"h4",children:"Comments"}),(0,I.jsxs)(D.Z,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",o.comments.length,")"]})]}),(0,I.jsx)(Be,{}),(0,I.jsx)(ve.Z,{sx:{mt:5,mb:2}}),(0,I.jsx)(Ve,{comments:o.comments})]})]});return(0,I.jsxs)(c.Z,{maxWidth:!1,children:[r&&u,l&&j,o&&g]})}var Ge=s(22492),Ke=s(3597);function Ne(e){let{post:t,index:s}=e;const i=(0,Ce.Z)(),o=(0,Q.F)("up","md"),{coverUrl:n,title:r,totalViews:l,totalComments:a,totalShares:d,author:c,createdAt:h}=t;return o&&(0===s||1===s||2===s)?(0,I.jsxs)(X.Z,{children:[(0,I.jsx)(z.Z,{alt:c.name,src:c.avatarUrl,sx:{top:24,left:24,zIndex:9,position:"absolute"}}),(0,I.jsx)(Xe,{title:r,createdAt:h,totalViews:l,totalShares:d,totalComments:a,index:s}),(0,I.jsx)(ee.Z,{alt:r,src:n,overlay:(0,Se.Fq)(i.palette.grey[900],.48),sx:{width:1,height:360}})]}):(0,I.jsxs)(X.Z,{children:[(0,I.jsxs)(k.Z,{sx:{position:"relative"},children:[(0,I.jsx)(Ke.oG,{sx:{left:0,zIndex:9,width:88,height:36,bottom:-16,position:"absolute"}}),(0,I.jsx)(z.Z,{alt:c.name,src:c.avatarUrl,sx:{left:24,zIndex:9,bottom:-24,position:"absolute"}}),(0,I.jsx)(ee.Z,{alt:r,src:n,ratio:"4/3"})]}),(0,I.jsx)(Xe,{title:r,totalViews:l,totalComments:a,totalShares:d,createdAt:h})]})}function Xe(e){let{title:t,createdAt:s,totalViews:i,totalShares:o,totalComments:n,index:r}=e;const l=(0,Q.F)("up","md"),d=h.H.post.details(t),c=0===r,p=1===r||2===r;return(0,I.jsxs)(Ge.Z,{sx:{pt:6,width:1,...(c||p)&&{pt:0,zIndex:9,bottom:0,position:"absolute",color:"common.white"}},children:[(0,I.jsx)(D.Z,{variant:"caption",component:"div",sx:{mb:1,color:"text.disabled",...(c||p)&&{opacity:.64,color:"common.white"}},children:(0,Y.Mu)(s)}),(0,I.jsx)(W.Z,{color:"inherit",component:x.r,href:d,children:(0,I.jsx)(te.Z,{variant:l&&c?"h5":"subtitle2",line:2,persistent:!0,children:t})}),(0,I.jsxs)(a.Z,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{mt:3,typography:"caption",color:"text.disabled",...(c||p)&&{opacity:.64,color:"common.white"}},children:[(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(f.Z,{icon:"eva:message-circle-fill",width:16,sx:{mr:.5}}),(0,J.v1)(n)]}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(f.Z,{icon:"solar:eye-bold",width:16,sx:{mr:.5}}),(0,J.v1)(i)]}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(f.Z,{icon:"solar:share-bold",width:16,sx:{mr:.5}}),(0,J.v1)(o)]})]})]})}function $e(e){let{posts:t,loading:s,disabledIndex:i}=e;const o=(0,I.jsx)(I.Fragment,{children:[...Array(16)].map(((e,t)=>(0,I.jsx)(pe.Z,{xs:12,sm:6,md:3,children:(0,I.jsx)(K,{})},t)))}),n=(0,I.jsx)(I.Fragment,{children:t.map(((e,t)=>(0,I.jsx)(pe.Z,{xs:12,sm:6,md:i||0!==t?3:6,children:(0,I.jsx)(Ne,{post:e,index:i?void 0:t})},e.id)))});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(pe.Z,{container:!0,spacing:3,children:s?o:n}),t.length>8&&(0,I.jsx)(a.Z,{alignItems:"center",sx:{mt:8,mb:{xs:10,md:15}},children:(0,I.jsx)(d.Z,{size:"large",variant:"outlined",startIcon:(0,I.jsx)(f.Z,{icon:"svg-spinners:12-dots-scale-rotate",width:24}),children:"Load More"})})]})}function Qe(){const e=(0,w.K$)(),[t,s]=(0,n.useState)("latest"),[i,o]=(0,n.useState)(""),r=(0,p.N)(i),{posts:l,postsLoading:d}=g(),{searchResults:x,searchLoading:u}=b(r),j=Ye({inputData:l,sortBy:t}),Z=(0,n.useCallback)((e=>{s(e)}),[]),v=(0,n.useCallback)((e=>{o(e)}),[]);return(0,I.jsxs)(c.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,I.jsx)(D.Z,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Blog"}),(0,I.jsxs)(a.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},sx:{mb:{xs:3,md:5}},children:[(0,I.jsx)(B,{query:r,results:x,onSearch:v,loading:u,hrefItem:e=>h.H.post.details(e)}),(0,I.jsx)(P,{sort:t,onSort:Z,sortOptions:m.k})]}),(0,I.jsx)($e,{posts:j,loading:d})]})}const Ye=e=>{let{inputData:t,sortBy:s}=e;return"latest"===s?o()(t,["createdAt"],["desc"]):"oldest"===s?o()(t,["createdAt"],["asc"]):"popular"===s?o()(t,["totalViews"],["desc"]):t};function Je(e){let{title:t}=e;const{post:s,postError:i,postLoading:o}=Z(t),{latestPosts:r,latestPostsLoading:l}=function(e){const t=e?[j.Hv.post.latest,{params:{title:e}}]:null,{data:s,isLoading:i,error:o,isValidating:r}=(0,u.ZP)(t,j._i);return(0,n.useMemo)((()=>({latestPosts:(null===s||void 0===s?void 0:s.latestPosts)||[],latestPostsLoading:i,latestPostsError:o,latestPostsValidating:r,latestPostsEmpty:!i&&!(null!==s&&void 0!==s&&s.latestPosts.length)})),[null===s||void 0===s?void 0:s.latestPosts,o,i,r])}(t),p=(0,I.jsx)(N,{}),m=(0,I.jsx)(c.Z,{sx:{my:10},children:(0,I.jsx)(ke.Z,{filled:!0,title:"".concat(null===i||void 0===i?void 0:i.message),action:(0,I.jsx)(d.Z,{component:x.r,href:h.H.post.root,startIcon:(0,I.jsx)(f.Z,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}})}),g=s&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Le,{title:s.title,author:s.author,coverUrl:s.coverUrl,createdAt:s.createdAt}),(0,I.jsx)(c.Z,{maxWidth:!1,sx:{py:3,mb:5,borderBottom:e=>"solid 1px ".concat(e.palette.divider)},children:(0,I.jsx)(y.Z,{links:[{name:"Home",href:"/"},{name:"Blog",href:h.H.post.root},{name:null===s||void 0===s?void 0:s.title}],sx:{maxWidth:720,mx:"auto"}})}),(0,I.jsx)(c.Z,{maxWidth:!1,children:(0,I.jsxs)(a.Z,{sx:{maxWidth:720,mx:"auto"},children:[(0,I.jsx)(D.Z,{variant:"subtitle1",sx:{mb:5},children:s.description}),(0,I.jsx)(we.Z,{children:s.content}),(0,I.jsxs)(a.Z,{spacing:3,sx:{py:3,borderTop:e=>"dashed 1px ".concat(e.palette.divider),borderBottom:e=>"dashed 1px ".concat(e.palette.divider)},children:[(0,I.jsx)(a.Z,{direction:"row",flexWrap:"wrap",spacing:1,children:s.tags.map((e=>(0,I.jsx)(he.Z,{label:e,variant:"soft"},e)))}),(0,I.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,I.jsx)(ue.Z,{control:(0,I.jsx)(De.Z,{defaultChecked:!0,size:"small",color:"error",icon:(0,I.jsx)(f.Z,{icon:"solar:heart-bold"}),checkedIcon:(0,I.jsx)(f.Z,{icon:"solar:heart-bold"})}),label:(0,J.v1)(s.totalFavorites),sx:{mr:1}}),(0,I.jsx)(qe.Z,{children:s.favoritePerson.map((e=>(0,I.jsx)(z.Z,{alt:e.name,src:e.avatarUrl},e.name)))})]})]}),(0,I.jsxs)(a.Z,{direction:"row",sx:{mb:3,mt:5},children:[(0,I.jsx)(D.Z,{variant:"h4",children:"Comments"}),(0,I.jsxs)(D.Z,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",s.comments.length,")"]})]}),(0,I.jsx)(Be,{}),(0,I.jsx)(ve.Z,{sx:{mt:5,mb:2}}),(0,I.jsx)(Ve,{comments:s.comments})]})})]}),b=(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(D.Z,{variant:"h4",sx:{mb:5},children:"Recent Posts"}),(0,I.jsx)($e,{posts:r.slice(r.length-4),loading:l,disabledIndex:!0})]});return(0,I.jsxs)(I.Fragment,{children:[o&&p,i&&m,s&&g,(0,I.jsx)(c.Z,{sx:{pb:15},children:!!r.length&&b})]})}},87183:(e,t,s)=>{s.d(t,{DY:()=>d,IO:()=>a,Mu:()=>r,zM:()=>l});var i=s(16386),o=s(64460),n=s(24054);function r(e,t){const s=t||"dd MMM yyyy";return e?(0,i.Z)(new Date(e),s):""}function l(e,t){const s=t||"dd MMM yyyy p";return e?(0,i.Z)(new Date(e),s):""}function a(e){return e?(0,o.Z)(new Date(e)):""}function d(e){return e?(0,n.Z)(new Date(e),{addSuffix:!0}):""}}}]);
//# sourceMappingURL=4087.fe3f8691.chunk.js.map