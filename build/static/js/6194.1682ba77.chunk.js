(self.webpackChunkcmms_web=self.webpackChunkcmms_web||[]).push([[6194],{57743:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>W});var s=l(72791),r=l(66934),a=l(75985),o=(l(5462),l(5574)),i=l(65661),d=l(4899),n=l(77386),c=l(87937),x=l(34508);const b=l.p+"static/media/logo.f7858a5bbcbb3591ff48.png";var h=l(80184);const m=s.memo((e=>{let{pdfDetails:t}=e;const l=(new Date).toLocaleString().slice(0,-3),[r,a]=(0,s.useState)(window.innerWidth/1.3);(0,s.useEffect)((()=>{const e=()=>{a(window.innerWidth/1.3)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const o=x.mM.create({body:{width:"100%",height:"100%",paddingTop:20,fontFamily:"Helvetica",paddingBottom:50,paddingHorizontal:10},table:{display:"table",width:"100%",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderRightWidth:0,borderBottomWidth:0},tableRow:{margin:"auto",flexDirection:"row"},tableColHeader:{width:"10%",backgroundColor:"#1190cb",color:"#fff",borderColor:"#bfbfbf",borderBottomColor:"#fff",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColHeader2:{width:"13%",backgroundColor:"#1190cb",color:"#fff",borderColor:"#bfbfbf",borderBottomColor:"#fff",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColHeader3:{width:"6%",backgroundColor:"#1190cb",color:"#fff",borderColor:"#bfbfbf",borderBottomColor:"#fff",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColHeader4:{width:"12%",backgroundColor:"#1190cb",color:"#fff",borderColor:"#bfbfbf",borderBottomColor:"#fff",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCol:{width:"10%",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0,marginBottom:"1px",borderBottomWidth:1},tableCol2:{width:"6%",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0,marginBottom:"1px"},tableCol3:{width:"13%",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0,marginBottom:"1px"},tableCol4:{width:"12%",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0,marginBottom:"1px"},tableCellHeader:{margin:3,textAlign:"center",fontSize:10,textBaseline:"baseline"},tableCell:{margin:"auto",fontSize:8,marginTop:"3px",marginBottom:"4px"},viewer:{width:"100%",height:"100vh"},container:{flexDirection:"row",alignItems:"center",marginBottom:10,paddingLeft:20,paddingTop:10,paddingRight:20},headerText:{flex:1,textAlign:"left",fontSize:16},headerText2:{flex:1,textAlign:"center",fontSize:16},headerText3:{fontSize:12,flex:1,textAlign:"right"},logo:{marginRight:10,width:50,height:50},pageNumbers:{position:"absolute",bottom:20,left:0,fontSize:12,right:0,textAlign:"center"}});return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{children:(0,h.jsx)(x.Z$,{style:o.viewer,children:(0,h.jsx)(x.BB,{children:(0,h.jsxs)(x.T3,{style:o.body,wrap:!0,children:[(0,h.jsx)(x.xv,{style:o.pageNumbers,render:e=>{let{pageNumber:t,totalPages:l}=e;return"Page ".concat(t," / ").concat(l)},fixed:!0}),(0,h.jsxs)(x.G7,{style:o.container,children:[(0,h.jsx)(x.xv,{style:o.headerText,children:(0,h.jsx)(x.Ee,{style:o.logo,src:b})}),(0,h.jsx)(x.xv,{style:o.headerText2,children:"Asset List"}),(0,h.jsxs)(x.xv,{style:o.headerText3,children:["Date : ",l]})]}),(0,h.jsxs)(x.G7,{style:o.table,children:[(0,h.jsxs)(x.G7,{style:o.tableRow,fixed:!0,children:[(0,h.jsx)(x.G7,{style:o.tableColHeader2,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Asset No"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader3,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Work Group"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Asset Code"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Asset Type"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Asset Group Code"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader4,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Cost Center"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader3,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Zone"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader2,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Asset Location"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader,children:(0,h.jsx)(x.xv,{style:o.tableCellHeader,children:"Leval"})}),(0,h.jsx)(x.G7,{style:o.tableColHeader,children:(0,h.jsxs)(x.xv,{style:o.tableCellHeader,children:["Asset ",(0,h.jsx)("br",{}),"Cost"]})})]}),t.map((e=>(0,h.jsxs)(x.G7,{style:o.tableRow,children:[(0,h.jsx)(x.G7,{style:o.tableCol3,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_asset_no})}),(0,h.jsx)(x.G7,{style:o.tableCol2,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_wrk_grp})}),(0,h.jsx)(x.G7,{style:o.tableCol,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_asset_code})}),(0,h.jsx)(x.G7,{style:o.tableCol,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_asset_type})}),(0,h.jsx)(x.G7,{style:o.tableCol,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_asset_grpcode})}),(0,h.jsx)(x.G7,{style:o.tableCol4,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_cost_center})}),(0,h.jsx)(x.G7,{style:o.tableCol2,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_work_area})}),(0,h.jsx)(x.G7,{style:o.tableCol3,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_asset_locn})}),(0,h.jsx)(x.G7,{style:o.tableCol,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_mst_ast_lvl})}),(0,h.jsx)(x.G7,{style:o.tableCol,children:(0,h.jsx)(x.xv,{style:o.tableCell,children:e.ast_det_repl_cost})})]})))]})]})})})})})}));var p=l(90977),f=l(40268),j=l(5849),g=l(93006),u=l(18709),C=l(21830),_=l.n(C),y=l(24308),v=l(25801),w=l(46314);const Z=(0,r.ZP)(o.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),W=()=>{let e=localStorage.getItem("site_ID");const[t,l]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),[x,b]=(0,s.useState)(""),[C,W]=(0,s.useState)([]),[S,H]=(0,s.useState)(null),[G,k]=(0,s.useState)(null),[A,T]=(0,s.useState)([]),[L,I]=(0,s.useState)([]),[z,B]=(0,s.useState)(null),[D,N]=(0,s.useState)([]),[E,R]=(0,s.useState)(null),[O,F]=(0,s.useState)(!1),P=()=>F(!1),V=async()=>{try{const t=await u.Z.get("/get_dropdown.php?site_cd=".concat(e,"&type=All"));if("SUCCESS"===t.data.status){let e=t.data.data.Assetcode.map((e=>({label:e.ast_cod_ast_cd+" : "+e.ast_cod_desc,value:e.ast_cod_desc})));W(e);let l=t.data.data.AssetLocation.map((e=>({label:e.ast_loc_ast_loc+" : "+e.ast_loc_desc,value:e.ast_loc_desc})));T(l);let s=t.data.data.CostCenter.map((e=>({label:e.costcenter+" : "+e.descs,value:e.descs})));I(s);let r=t.data.data.wrk_group.map((e=>({label:e.wrk_grp_grp_cd+" : "+e.wrk_grp_desc,value:e.wrk_grp_desc})));N(r)}}catch(t){console.error("Error fetching data:",t)}};(0,s.useEffect)((()=>{localStorage.getItem("site_ID");V()}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:"btn btn-dark btn-sm mt-2 mb-4 mr-2",onClick:e=>{e.preventDefault(),F(!0),l([])},children:"Retrieve"})}),(0,h.jsx)("div",{children:(0,h.jsx)(m,{pdfDetails:t})}),(0,h.jsxs)(Z,{onClose:P,"aria-labelledby":"customized-dialog-title",open:O,maxWidth:"sm",fullWidth:!0,children:[(0,h.jsx)(i.Z,{sx:{m:0,p:2},id:"customized-dialog-title",className:"dailogTitWork",children:"Report Filter Option: Asset List"}),(0,h.jsx)(p.Z,{"aria-label":"close",onClick:P,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,h.jsx)(f.Z,{icon:"material-symbols:close"})}),(0,h.jsx)(d.Z,{dividers:!0,children:(0,h.jsxs)("div",{children:[(0,h.jsxs)(y.Z,{container:!0,spacing:2,alignItems:"center",children:[(0,h.jsx)(y.Z,{item:!0,xs:4,sx:{pl:2},children:(0,h.jsx)(v.Z,{control:(0,h.jsx)("div",{}),label:"Asset No:"})}),(0,h.jsx)(y.Z,{item:!0,xs:8,children:(0,h.jsx)(g.Z,{id:"outlined-basic",size:"small",onChange:e=>{b(e.target.value)},variant:"outlined",className:"Extrasize",fullWidth:!0,defaultValue:""})})]}),(0,h.jsxs)(y.Z,{container:!0,spacing:2,alignItems:"center",children:[(0,h.jsx)(y.Z,{item:!0,xs:4,sx:{pl:2},children:(0,h.jsx)(v.Z,{control:(0,h.jsx)("div",{}),label:"Asset location:"})}),(0,h.jsx)(y.Z,{item:!0,xs:8,children:(0,h.jsx)(w.Z,{options:A,defaultValue:G,onChange:(e,t)=>{k(t)},renderInput:e=>(0,h.jsx)(g.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0})})})]}),(0,h.jsxs)(y.Z,{container:!0,spacing:2,alignItems:"center",children:[(0,h.jsx)(y.Z,{item:!0,xs:4,sx:{pl:2},children:(0,h.jsx)(v.Z,{control:(0,h.jsx)("div",{}),label:"Cost Center:"})}),(0,h.jsx)(y.Z,{item:!0,xs:8,children:(0,h.jsx)(w.Z,{options:L,defaultValue:z,onChange:(e,t)=>{B(t)},renderInput:e=>(0,h.jsx)(g.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0})})})]}),(0,h.jsxs)(y.Z,{container:!0,spacing:2,alignItems:"center",children:[(0,h.jsx)(y.Z,{item:!0,xs:4,sx:{pl:2},children:(0,h.jsx)(v.Z,{control:(0,h.jsx)("div",{}),label:"Asset code:"})}),(0,h.jsx)(y.Z,{item:!0,xs:8,children:(0,h.jsx)(w.Z,{options:C,defaultValue:S,onChange:(e,t)=>{H(t)},renderInput:e=>(0,h.jsx)(g.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0})})})]}),(0,h.jsxs)(y.Z,{container:!0,spacing:2,alignItems:"center",children:[(0,h.jsx)(y.Z,{item:!0,xs:4,sx:{pl:2},children:(0,h.jsx)(v.Z,{control:(0,h.jsx)("div",{}),label:"Work Group:"})}),(0,h.jsx)(y.Z,{item:!0,xs:8,children:(0,h.jsx)(w.Z,{options:D,defaultValue:E,onChange:(e,t)=>{R(t)},renderInput:e=>(0,h.jsx)(g.Z,{...e,size:"small",placeholder:"Select...",variant:"outlined",fullWidth:!0})})})]})]})}),(0,h.jsx)(n.Z,{children:(0,h.jsx)(y.Z,{container:!0,spacing:2,alignItems:"center",children:(0,h.jsx)(y.Z,{item:!0,children:(0,h.jsx)(j.Z,{variant:"outlined",onClick:async e=>{e.preventDefault();let t=localStorage.getItem("site_ID");var s="",r="",i="",d="";if(G)s=G.value.trim();else if(z){r=z.label.trim().split(":")[0].trim()}else S?i=S.value.trim():E&&(d=E.value.trim());if(""===x.trim()&&""===s&&""===r&&""===i&&""===d)return a.Am.error(" Please Select One",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),!1;(new Headers).append("Content-Type","application/json");var n={site_cd:t,ast_mst_asset_no:x,asset_shortdesc:"",cost_center:r,asset_status:"",asset_type:"",asset_grpcode:d,work_area:"",asset_locn:s,asset_code:i,ast_lvl:"",ast_sts_typ_cd:"",createby:"",service_type:"",block:"",floor:""};try{o(!0),F(!1),_().fire({title:"Loading.... !",allowOutsideClick:!1,customClass:{container:"swalcontainercustom"}}),_().showLoading();const e=await u.Z.post("/get_assetmaster_select.php",JSON.stringify(n));"SUCCESS"===e.data.status&&(e.data.data.length>0?(l(e.data.data),o(!1),_().close(),a.Am.success(e.data.message),W(""),H(""),k(""),B(""),R("")):(_().close(),a.Am.success("No Result Found"),W(""),H(""),k(""),B(""),R("")))}catch(c){console.error("error",c)}},children:"OK"})})})})]}),r?(0,h.jsx)("img",{src:c,width:"120px",alt:"Loader",className:"loadrImgCls"}):(0,h.jsx)("div",{}),(0,h.jsx)(a.Ix,{})]})}},87937:(e,t,l)=>{"use strict";e.exports=l.p+"static/media/Work_order.49d454128c5891dab40a.gif"},42480:()=>{}}]);
//# sourceMappingURL=6194.1682ba77.chunk.js.map